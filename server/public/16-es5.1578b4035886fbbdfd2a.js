function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{dj09:function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),r=n("3Pt+"),o=n("TEn/"),a=n("tyNb"),s=n("mrSG"),c=n("NIW7"),l=n("w9U0"),u=n("VOof"),b=n("vqre"),d=n("lNB8"),v=n("fXoL"),p=["slide"],g=["content"];function f(e,t){if(1&e){var n=v.Nb();v.Mb(0,"ion-button",12),v.Ub("click",(function(){return v.hc(n),v.Wb().exportPDF()})),v.lc(1," Exportar Diploma "),v.Lb()}}function h(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Mb(4,"ion-item",25),v.Mb(5,"ion-label",26),v.lc(6),v.Lb(),v.Lb(),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(3),v.mc(n.values.value)}}function m(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Mb(4,"ion-item",25),v.Mb(5,"ion-label",26),v.lc(6),v.Lb(),v.Lb(),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(3),v.mc(n.values.value)}}function w(e,t){if(1&e&&(v.Mb(0,"ion-item",28),v.Mb(1,"ion-badge",29),v.lc(2),v.Lb(),v.Mb(3,"ion-label"),v.lc(4),v.Lb(),v.Lb()),2&e){var n=t.$implicit,i=t.index;v.zb(2),v.mc(i+1),v.zb(2),v.mc(n.text)}}function k(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.kc(4,w,5,2,"ion-item",27),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(1),v.cc("ngForOf",n.values.opts)}}function M(e,t){if(1&e&&(v.Mb(0,"ion-item",28),v.Mb(1,"ion-badge",29),v.lc(2),v.Lb(),v.Mb(3,"ion-label"),v.lc(4),v.Lb(),v.Lb()),2&e){var n=t.$implicit,i=t.index;v.zb(2),v.mc(i+1),v.zb(2),v.mc(n.text)}}function L(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.kc(4,M,5,2,"ion-item",27),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(1),v.cc("ngForOf",n.values.opts)}}function C(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Kb(4,"img",30),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(1),v.ec("src","https://www.vtentrena.com/app/uploads/Entrenamientos/",n.values.src,"",v.ic)}}function x(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Kb(4,"video",31),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(1),v.ec("src","https://www.vtentrena.com/app/uploads/Entrenamientos/",n.values.src,"",v.ic)}}function O(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Mb(4,"ion-chip",32),v.lc(5),v.Lb(),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(2),v.nc(" ",n.values.src,"")}}function N(e,t){if(1&e&&(v.Mb(0,"div",20),v.kc(1,h,7,2,"div",21),v.kc(2,m,7,2,"div",21),v.kc(3,k,5,2,"div",21),v.kc(4,L,5,2,"div",21),v.kc(5,C,5,2,"div",21),v.kc(6,x,5,2,"div",21),v.kc(7,O,6,2,"div",21),v.Lb()),2&e){var n=v.Wb().$implicit;v.zb(1),v.cc("ngIf","textline"===n.type),v.zb(1),v.cc("ngIf","textarea"===n.type),v.zb(1),v.cc("ngIf","radio"===n.type),v.zb(1),v.cc("ngIf","checkbox"===n.type),v.zb(1),v.cc("ngIf","image"===n.type),v.zb(1),v.cc("ngIf","video"===n.type),v.zb(1),v.cc("ngIf","file"===n.type)}}function z(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Mb(4,"ion-item",33),v.Kb(5,"ion-input",34),v.Lb(),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(2),v.cc("value",n.values.value)}}function y(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Mb(4,"ion-item",33),v.Kb(5,"ion-textarea",35),v.Lb(),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(2),v.cc("value",n.values.value)}}function A(e,t){if(1&e&&(v.Mb(0,"ion-item",28),v.Kb(1,"ion-radio",37),v.Mb(2,"ion-label"),v.lc(3),v.Lb(),v.Lb()),2&e){var n=t.$implicit,i=v.Wb(6);v.zb(1),v.dc("value",n.text),v.cc("color",i.color),v.zb(2),v.mc(n.text)}}function D(e,t){if(1&e){var n=v.Nb();v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Mb(4,"ion-radio-group",36),v.Ub("ionChange",(function(e){v.hc(n);var t=v.Wb(2).$implicit,i=v.Wb().$implicit;return v.Wb(2).insertAnswers(e,i.id,t,"")})),v.kc(5,A,4,3,"ion-item",27),v.Lb(),v.Lb()}if(2&e){var i=v.Wb(2).$implicit;v.zb(3),v.mc(i.values.title),v.zb(1),v.dc("value",i.values.answer.text),v.zb(1),v.cc("ngForOf",i.values.opts)}}function J(e,t){if(1&e){var n=v.Nb();v.Mb(0,"ion-item",28),v.Mb(1,"ion-checkbox",38),v.Ub("ionChange",(function(e){v.hc(n);var i=t.index,r=v.Wb(3).$implicit,o=v.Wb().$implicit;return v.Wb(2).insertAnswers(e,o.id,r,i)})),v.Lb(),v.Mb(2,"ion-label"),v.lc(3),v.Lb(),v.Lb()}if(2&e){var i=t.$implicit,r=v.Wb(6);v.zb(1),v.dc("value",i.text),v.cc("checked",i.checked)("color",r.color),v.zb(2),v.mc(i.text)}}function S(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.kc(4,J,4,4,"ion-item",27),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(1),v.cc("ngForOf",n.values.opts)}}function W(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Kb(4,"img",30),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(1),v.ec("src","https://www.vtentrena.com/app/uploads/Entrenamientos/",n.values.src,"",v.ic)}}function R(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Kb(4,"video",31),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(1),v.ec("src","https://www.vtentrena.com/app/uploads/Entrenamientos/",n.values.src,"",v.ic)}}function E(e,t){if(1&e&&(v.Mb(0,"div",22),v.Mb(1,"ion-item-divider",23),v.Mb(2,"strong",24),v.lc(3),v.Lb(),v.Lb(),v.Mb(4,"ion-chip",32),v.lc(5),v.Lb(),v.Lb()),2&e){var n=v.Wb(2).$implicit;v.zb(3),v.mc(n.values.title),v.zb(2),v.nc(" ",n.values.src,"")}}function I(e,t){if(1&e&&(v.Mb(0,"div",20),v.kc(1,z,6,2,"div",21),v.kc(2,y,6,2,"div",21),v.kc(3,D,6,3,"div",21),v.kc(4,S,5,2,"div",21),v.kc(5,W,5,2,"div",21),v.kc(6,R,5,2,"div",21),v.kc(7,E,6,2,"div",21),v.Lb()),2&e){var n=v.Wb().$implicit;v.zb(1),v.cc("ngIf","textline"===n.type),v.zb(1),v.cc("ngIf","textarea"===n.type),v.zb(1),v.cc("ngIf","radio"===n.type),v.zb(1),v.cc("ngIf","checkbox"===n.type),v.zb(1),v.cc("ngIf","image"===n.type),v.zb(1),v.cc("ngIf","video"===n.type),v.zb(1),v.cc("ngIf","file"===n.type)}}function _(e,t){if(1&e&&(v.Mb(0,"div"),v.kc(1,N,8,7,"div",19),v.kc(2,I,8,7,"div",19),v.Lb()),2&e){var n=v.Wb().$implicit;v.zb(1),v.cc("ngIf","entrena"===n.type),v.zb(1),v.cc("ngIf","quiz"===n.type)}}function F(e,t){if(1&e&&(v.Mb(0,"ion-slide"),v.Mb(1,"div",16),v.Mb(2,"ion-grid"),v.Mb(3,"ion-row"),v.Mb(4,"ion-col",17),v.Mb(5,"ion-label"),v.lc(6),v.Lb(),v.Lb(),v.Mb(7,"ion-col",17),v.Mb(8,"ion-label"),v.lc(9),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Mb(10,"div",18),v.Mb(11,"ion-list"),v.kc(12,_,3,2,"div",15),v.Lb(),v.Lb(),v.Lb()),2&e){var n=t.$implicit;v.zb(6),v.mc(n.name),v.zb(3),v.mc(n.type),v.zb(3),v.cc("ngForOf",n.Chilndren)}}function T(e,t){if(1&e){var n=v.Nb();v.Mb(0,"ion-slides",13,14),v.Ub("ionSlideWillChange",(function(){return v.hc(n),v.Wb().changeSlide()})),v.kc(2,F,13,3,"ion-slide",15),v.Lb()}if(2&e){var i=v.Wb();v.zb(2),v.cc("ngForOf",i.JSONDesigner.pages)}}function $(e,t){1&e&&(v.Mb(0,"ion-item",39),v.Kb(1,"ion-spinner",40),v.Mb(2,"ion-label"),v.lc(3,"Guardando Cambios..."),v.Lb(),v.Lb())}function P(e,t){if(1&e){var n=v.Nb();v.Mb(0,"ion-button",41),v.Ub("click",(function(){return v.hc(n),v.Wb().exit()})),v.lc(1,"Salir"),v.Lb()}if(2&e){var i=v.Wb();v.cc("color",i.color)}}function j(e,t){if(1&e){var n=v.Nb();v.Mb(0,"ion-button",41),v.Ub("click",(function(){return v.hc(n),v.Wb().prev()})),v.Kb(1,"ion-icon",42),v.Lb()}if(2&e){var i=v.Wb();v.cc("color",i.color)}}function K(e,t){if(1&e){var n=v.Nb();v.Mb(0,"ion-button",41),v.Ub("click",(function(){return v.hc(n),v.Wb().next()})),v.Kb(1,"ion-icon",43),v.Lb()}if(2&e){var i=v.Wb();v.cc("color",i.color)}}function U(e,t){if(1&e){var n=v.Nb();v.Mb(0,"ion-button",41),v.Ub("click",(function(){return v.hc(n),v.Wb().saveEnd()})),v.lc(1,"Guardar"),v.Lb()}if(2&e){var i=v.Wb();v.cc("color",i.color)}}var q,B,G=[{path:"",component:(q=function(){function e(t,n,i,r,o,a,s,c,l,u){var b=this;_classCallCheck(this,e),this.apiEntrena=t,this.toasCtrl=n,this.storage=i,this.ActiveRoute=r,this.modalCtrl=o,this.router=a,this.loading=s,this.loadCtrl=c,this.alertCtrl=l,this.dataCompany=u,this.JSONDesigner={save:!1,pages:[],count:0,prom:0,tot:0,apro:0},this.nameDesing="",this.viewInit="1",this.save=!1,this.idAnswer="",this.pagesCount=0,this.pageActive=1,this.load=!1,this.saveAnswer=!1,this.apro=!1,this.color="",this.dataCompany.$color.subscribe((function(e){b.color=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.loadDesign()}},{key:"loadDesign",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&("ADMIN_ENTRENA"===t[0].data.role?this.apiEntrena.readDesigner(t[0].token,this.ActiveRoute.snapshot.paramMap.get("id")).subscribe((function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),"ok"!==e.status){t.next=5;break}this.load=!0,this.idAnswer=e.response._id,this.JSONDesigner=e.response.JSONEntrena,this.JSONDesigner.count=0,this.pagesCount=this.JSONDesigner.pages.length,this.nameDesing=e.response.name,t.next=7;break;case 5:return t.next=7,this.toasCtrl.newCreatedToast("Could not read design, please try again later",!1);case 7:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toasCtrl.newCreatedToast("Could not read design, please try again later",!1);case 2:case"end":return e.stop()}}),e,this)})))})):this.apiEntrena.readAnswerJson(t[0].token,this.ActiveRoute.snapshot.paramMap.get("id")).subscribe((function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e,"data del usuario"),"ok"===e.status?(this.saveAnswer=!!e.response.saveAnswer&&e.response.saveAnswer,this.load=!0,this.idAnswer=e.response._id,this.JSONDesigner=e.response.JSONEntrena,this.JSONDesigner.count=0,this.pagesCount=this.JSONDesigner.pages.length,this.JSONDesigner.pages.filter((function(e){return"quiz"===e.type})).forEach((function(e){e.Chilndren.forEach((function(e){"radio"!==e.type&&"checkbox"!==e.type||(i.JSONDesigner.count=i.JSONDesigner.count+1)}))})),this.nameDesing=e.response.name,console.log(this.idAnswer,"id de respuesta"),this.apiEntrena.createdAnswer(t[0].token,{parentDesigner:this.ActiveRoute.snapshot.paramMap.get("id"),parentAdmin:t[0].data.parentAdmin}).subscribe((function(e){"error"===e.status?i.toasCtrl.newCreatedToast(e.error,!1).then((function(){return Object(s.a)(i,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))})):(i.idAnswer=e.response._id,console.log(i.JSONDesigner,"CHACHAI"),i.JSONDesigner.tot<i.JSONDesigner.apro&&i.saveAnswer?(i.otherDesign(),i.apro=!1):i.apro=!0),console.log(i.idAnswer,"id de respuesta 2")}),(function(e){return Object(s.a)(i,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1);case 1:case"end":return e.stop()}}),e,this)})))}))):this.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1);case 1:case"end":return n.stop()}}),n,this)})))}),(function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1);case 1:case"end":return e.stop()}}),e,this)})))})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"otherDesign",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Atenci\xf3n!",message:"Usted no aprob\xf3 la prueba en el anterior intento, desea realizar uno nuevo ?",backdropDismiss:!1,buttons:[{text:"Cancelar",role:"cancel",handler:function(){n.router.navigate(["/list-my-designs"])}},{text:"Aceptar",handler:function(){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&this.apiEntrena.createdAnswerOther(t[0].token,{parentDesigner:this.ActiveRoute.snapshot.paramMap.get("id"),parentAdmin:t[0].data.parentAdmin}).subscribe((function(e){"error"===e.status?n.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1):(n.saveAnswer=!!e.response.saveAnswer&&e.response.saveAnswer,n.load=!0,n.idAnswer=e.response._id,n.JSONDesigner=e.response.JSONEntrena,n.JSONDesigner.count=0,n.pagesCount=n.JSONDesigner.pages.length,n.JSONDesigner.pages.filter((function(e){return"quiz"===e.type})).forEach((function(e){e.Chilndren.forEach((function(e){"radio"!==e.type&&"checkbox"!==e.type||(n.JSONDesigner.count=n.JSONDesigner.count+1)}))})),n.nameDesing=e.response.name,n.idAnswer=e.response._id,n.toasCtrl.newCreatedToast("Nuevo intento creado",!0))}),(function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1);case 1:case"end":return e.stop()}}),e,this)})))}));case 4:case"end":return e.stop()}}),e,this)})))}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"changeSlide",value:function(){var e=this;this.slide.getActiveIndex().then((function(t){e.pageActive=t+1,e.content.scrollToTop().then((function(){}))}))}},{key:"prev",value:function(){var e=this;this.slide.slidePrev(300).then((function(){e.pageActive=e.pageActive+1}))}},{key:"next",value:function(){var e=this;this.slide.slideNext(300).then((function(){e.pageActive=e.pageActive+1}))}},{key:"autoSave",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.JSONDesigner,"paso 1"),this.saveAnswer){e.next=6;break}return console.log("eNTRAMOS",this.idAnswer,this.JSONDesigner),e.next=4,this.storage.getLogin();case 4:t=e.sent,this.save=!0,t&&("ADMIN_ENTRENA"===t[0].data.role?this.save=!1:this.apiEntrena.updateAnswer(t[0].token,{_id:this.idAnswer,JSONEntrena:this.JSONDesigner}).subscribe((function(e){console.log(e,"data entrena"),"ok"===e.status?(n.save=!1,n.JSONDesigner=e.response.JSONEntrena):(n.save=!1,n.toasCtrl.newCreatedToast("No se pudo guardar los cambios",!1))}),(function(e){n.save=!1,n.toasCtrl.newCreatedToast("No se pudo guardar los cambios",!1)})));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"saveEnd",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.saveAnswer){e.next=5;break}return e.next=3,this.storage.getLogin();case 3:t=e.sent,this.save=!0,t&&("ADMIN_ENTRENA"===t[0].data.role?this.save=!1:(this.JSONDesigner.tot=Number((this.JSONDesigner.prom/this.JSONDesigner.count).toFixed(1)),this.apiEntrena.updateAnswerSave(t[0].token,{_id:this.idAnswer,JSONEntrena:this.JSONDesigner}).subscribe((function(e){"ok"===e.status?(n.JSONDesigner.tot>=n.JSONDesigner.apro?n.toasCtrl.newCreatedToast("Feclicitaciones, aprobaste el m\xf3dulo",!0):n.toasCtrl.newCreatedToast("Lo sentimos, no te alcanz\xf3 el promedio final para aprobar el m\xf3dulo",!1),n.save=!1,n.JSONDesigner=e.response.JSONEntrena,n.router.navigate(["/list-my-designs"])):(n.save=!1,n.toasCtrl.newCreatedToast("No se pudo guardar los cambios",!1))}),(function(e){n.save=!1,n.toasCtrl.newCreatedToast("No se pudo guardar los cambios",!1)}))));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"insertAnswers",value:function(e,t,n,i){var r=this;this.JSONDesigner.prom=0,this.JSONDesigner.pages=this.JSONDesigner.pages.map((function(o){return o.id===t&&o.Chilndren.map((function(t){if(t.id===n.id)if("radio"===n.type){t.values.answer.text=e.detail.value;var o=t.values.opts.filter((function(t){return t.text===e.detail.value}));console.log(o,"bien"),t.values.answer.value=parseFloat(o[0].value)}else"checkbox"===n.type&&(e.detail.checked?(t.values.answer.sum=t.values.answer.sum+parseFloat(t.values.opts[i].value),t.values.answer.op.find((function(t){return t===e.detail.value}))||t.values.answer.op.push(e.detail.value)):(t.values.answer.sum=t.values.answer.sum-parseFloat(t.values.opts[i].value),t.values.answer.op=t.values.answer.op.filter((function(t){return t!==e.detail.value}))),t.values.opts[i].checked=e.detail.checked);if("radio"===t.type||"checkbox"===t.type)return r.JSONDesigner.prom=r.JSONDesigner.prom+parseFloat(t.values.answer.value)+parseFloat(t.values.answer.sum),t})),o})),this.autoSave(),console.log(e.detail.value,t,n,i)}},{key:"exportPDF",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:t=e.sent,this.loading.createLoading("Export PDF..."),t&&this.apiEntrena.exportPDF(t[0].token,this.idAnswer).subscribe((function(e){console.log(e),"ok"===e.status?(n.loading.cancelLoading(),window.open("http://localhost:3000/vtentrena/designer/answer/download?path="+e.path+"&name=Diploma -"+t[0].data.name+".pdf","_self")):(n.loading.cancelLoading(),n.toasCtrl.newCreatedToast("Could not save design, please try again later",!1))}),(function(e){n.loading.cancelLoading(),n.toasCtrl.newCreatedToast("Could not save design, please try again later",!1)}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"exit",value:function(){this.router.navigate(["/list-my-designs"])}}]),e}(),q.\u0275fac=function(e){return new(e||q)(v.Jb(c.a),v.Jb(l.a),v.Jb(u.a),v.Jb(a.a),v.Jb(o.Y),v.Jb(a.f),v.Jb(b.a),v.Jb(o.W),v.Jb(o.a),v.Jb(d.a))},q.\u0275cmp=v.Db({type:q,selectors:[["app-view-design"]],viewQuery:function(e,t){var n;1&e&&(v.pc(p,!0),v.pc(g,!0)),2&e&&(v.gc(n=v.Vb())&&(t.slide=n.first),v.gc(n=v.Vb())&&(t.content=n.first))},decls:23,vars:12,consts:[[3,"color"],["slot","start"],["defaultHref","/list-my-designs","icon","chevron-back"],["slot","end","color","light","mode","ios",3,"click",4,"ngIf"],["fullscreen","true"],["content",""],[3,"ionSlideWillChange",4,"ngIf"],[1,"ion-no-border"],["lines","none","slot","end",4,"ngIf"],["size","4"],["mode","ios","expand","block",3,"color","click",4,"ngIf"],["size","4",1,"ion-text-center","centrado"],["slot","end","color","light","mode","ios",3,"click"],[3,"ionSlideWillChange"],["slide",""],[4,"ngFor","ngForOf"],[1,"page"],["size","6"],[1,"childrens"],["class","fullWidth",4,"ngIf"],[1,"fullWidth"],["class","ion-text-wrap fullWidth",4,"ngIf"],[1,"ion-text-wrap","fullWidth"],["lines","none","color","medium",1,"marginBottom"],[1,""],["lines","none",1,"marginBottom"],[1,"ion-text-wrap","break"],["lines","none","class","",4,"ngFor","ngForOf"],["lines","none",1,""],["color","primary","slot","start"],[1,"widthFile","ion-padding",3,"src"],["controls","",1,"widthFile","ion-padding",3,"src"],["color","warning",1,"widthFile","ion-padding"],["lines","none","color","light",1,"border","marginBottom"],[3,"value"],["rows","5",3,"value"],[3,"value","ionChange"],["slot","start",3,"value","color"],["slot","start",3,"checked","value","color","ionChange"],["lines","none","slot","end"],["name","crescent","slot","start"],["mode","ios","expand","block",3,"color","click"],["name","chevron-back"],["name","chevron-forward"]],template:function(e,t){1&e&&(v.Mb(0,"ion-header"),v.Mb(1,"ion-toolbar",0),v.Mb(2,"ion-buttons",1),v.Kb(3,"ion-back-button",2),v.Lb(),v.Mb(4,"ion-title"),v.lc(5),v.Lb(),v.kc(6,f,2,0,"ion-button",3),v.Lb(),v.Lb(),v.Mb(7,"ion-content",4,5),v.kc(9,T,3,1,"ion-slides",6),v.Lb(),v.Mb(10,"ion-footer",7),v.Mb(11,"ion-toolbar",0),v.kc(12,$,4,0,"ion-item",8),v.Mb(13,"ion-grid"),v.Mb(14,"ion-row"),v.Mb(15,"ion-col",9),v.kc(16,P,2,1,"ion-button",10),v.kc(17,j,2,1,"ion-button",10),v.Lb(),v.Mb(18,"ion-col",11),v.lc(19),v.Lb(),v.Mb(20,"ion-col",9),v.kc(21,K,2,1,"ion-button",10),v.kc(22,U,2,1,"ion-button",10),v.Lb(),v.Lb(),v.Lb(),v.Lb(),v.Lb()),2&e&&(v.zb(1),v.cc("color",t.color),v.zb(4),v.mc(t.nameDesing),v.zb(1),v.cc("ngIf",t.saveAnswer&&t.apro),v.zb(3),v.cc("ngIf",t.load),v.zb(2),v.cc("color",t.color),v.zb(1),v.cc("ngIf",t.save),v.zb(4),v.cc("ngIf",1===t.pageActive),v.zb(1),v.cc("ngIf",t.pageActive>1),v.zb(2),v.oc(" ",t.pageActive," / ",t.pagesCount,""),v.zb(2),v.cc("ngIf",t.pageActive<t.pagesCount),v.zb(1),v.cc("ngIf",t.pageActive===t.pagesCount))},directives:[o.s,o.T,o.h,o.d,o.e,o.S,i.i,o.l,o.q,o.r,o.J,o.k,o.g,o.O,i.h,o.N,o.A,o.B,o.w,o.v,o.f,o.j,o.u,o.fb,o.R,o.F,o.eb,o.E,o.cb,o.i,o.b,o.P,o.t],styles:["ion-slide[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;padding:15px}ion-slide[_ngcontent-%COMP%], ion-slide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}ion-item-divider[_ngcontent-%COMP%]{padding:5px;text-align:left}.marginBottom[_ngcontent-%COMP%]{margin-bottom:10px}.border[_ngcontent-%COMP%]{border:1px solid rgba(3,3,3,.1)}.green[_ngcontent-%COMP%]{background:#fff1c9!important}.fullWidth[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid rgba(0,0,0,.1)}.widthFile[_ngcontent-%COMP%]{width:auto;margin:auto;max-width:100%}.centrado[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]}),q)}],H=((B=function e(){_classCallCheck(this,e)}).\u0275mod=v.Hb({type:B}),B.\u0275inj=v.Gb({factory:function(e){return new(e||B)},imports:[[a.h.forChild(G)],a.h]}),B);n.d(t,"ViewDesignPageModule",(function(){return X}));var V,X=((V=function e(){_classCallCheck(this,e)}).\u0275mod=v.Hb({type:V}),V.\u0275inj=v.Gb({factory:function(e){return new(e||V)},imports:[[i.b,r.a,o.U,H]]}),V)},vqre:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),r=n("fXoL"),o=n("TEn/"),a=function(){var e=function(){function e(t){_classCallCheck(this,e),this.loadingCtrl=t}return _createClass(e,[{key:"createLoading",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingCtrl.create({message:e,mode:"ios"});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"cancelLoading",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingCtrl.dismiss();case 2:case"end":return e.stop()}}),e,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(o.W))},e.\u0275prov=r.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);