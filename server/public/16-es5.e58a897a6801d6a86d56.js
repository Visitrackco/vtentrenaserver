function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{dj09:function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),r=n("3Pt+"),o=n("TEn/"),a=n("tyNb"),s=n("mrSG"),c=n("NIW7"),l=n("w9U0"),b=n("VOof"),u=n("vqre"),d=n("lNB8"),v=n("cxbk"),p=n("fXoL"),g=["slide"],f=["content"];function h(e,t){if(1&e){var n=p.Nb();p.Mb(0,"ion-button",12),p.Ub("click",(function(){return p.hc(n),p.Wb().exportPDF()})),p.lc(1," Exportar Diploma "),p.Lb()}}function m(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Mb(4,"ion-item",25),p.Mb(5,"ion-label",26),p.lc(6),p.Lb(),p.Lb(),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(3),p.mc(n.values.value)}}function w(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Mb(4,"ion-item",25),p.Mb(5,"ion-label",26),p.lc(6),p.Lb(),p.Lb(),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(3),p.mc(n.values.value)}}function k(e,t){if(1&e&&(p.Mb(0,"ion-item",28),p.Mb(1,"ion-badge",29),p.lc(2),p.Lb(),p.Mb(3,"ion-label"),p.lc(4),p.Lb(),p.Lb()),2&e){var n=t.$implicit,i=t.index;p.zb(2),p.mc(i+1),p.zb(2),p.mc(n.text)}}function M(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.kc(4,k,5,2,"ion-item",27),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(1),p.cc("ngForOf",n.values.opts)}}function L(e,t){if(1&e&&(p.Mb(0,"ion-item",28),p.Mb(1,"ion-badge",29),p.lc(2),p.Lb(),p.Mb(3,"ion-label"),p.lc(4),p.Lb(),p.Lb()),2&e){var n=t.$implicit,i=t.index;p.zb(2),p.mc(i+1),p.zb(2),p.mc(n.text)}}function x(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.kc(4,L,5,2,"ion-item",27),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(1),p.cc("ngForOf",n.values.opts)}}function C(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Kb(4,"img",30),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(1),p.ec("src","https://www.vtentrena.com/uploads/Entrenamientos/",n.values.src,"",p.ic)}}function O(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Kb(4,"video",31),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(1),p.ec("src","https://www.vtentrena.com/uploads/Entrenamientos/",n.values.src,"",p.ic)}}function z(e,t){if(1&e){var n=p.Nb();p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Mb(4,"ion-chip",32),p.Ub("click",(function(){p.hc(n);var e=p.Wb(2).$implicit;return p.Wb(3).download(e)})),p.lc(5),p.Lb(),p.Lb()}if(2&e){var i=p.Wb(2).$implicit,r=p.Wb(3);p.zb(3),p.mc(i.values.title),p.zb(1),p.cc("color",r.color),p.zb(1),p.nc(" ",i.values.src,"")}}function N(e,t){if(1&e&&(p.Mb(0,"div",20),p.kc(1,m,7,2,"div",21),p.kc(2,w,7,2,"div",21),p.kc(3,M,5,2,"div",21),p.kc(4,x,5,2,"div",21),p.kc(5,C,5,2,"div",21),p.kc(6,O,5,2,"div",21),p.kc(7,z,6,3,"div",21),p.Lb()),2&e){var n=p.Wb().$implicit;p.zb(1),p.cc("ngIf","textline"===n.type),p.zb(1),p.cc("ngIf","textarea"===n.type),p.zb(1),p.cc("ngIf","radio"===n.type),p.zb(1),p.cc("ngIf","checkbox"===n.type),p.zb(1),p.cc("ngIf","image"===n.type),p.zb(1),p.cc("ngIf","video"===n.type),p.zb(1),p.cc("ngIf","file"===n.type)}}function y(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Mb(4,"ion-item",33),p.Kb(5,"ion-input",34),p.Lb(),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(2),p.cc("value",n.values.value)}}function A(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Mb(4,"ion-item",33),p.Kb(5,"ion-textarea",35),p.Lb(),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(2),p.cc("value",n.values.value)}}function D(e,t){if(1&e&&(p.Mb(0,"ion-item",28),p.Kb(1,"ion-radio",37),p.Mb(2,"ion-label"),p.lc(3),p.Lb(),p.Lb()),2&e){var n=t.$implicit,i=p.Wb(6);p.zb(1),p.dc("value",n.text),p.cc("color",i.color),p.zb(2),p.mc(n.text)}}function J(e,t){if(1&e){var n=p.Nb();p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Mb(4,"ion-radio-group",36),p.Ub("ionChange",(function(e){p.hc(n);var t=p.Wb(2).$implicit,i=p.Wb().$implicit;return p.Wb(2).insertAnswers(e,i.id,t,"")})),p.kc(5,D,4,3,"ion-item",27),p.Lb(),p.Lb()}if(2&e){var i=p.Wb(2).$implicit;p.zb(3),p.mc(i.values.title),p.zb(1),p.dc("value",i.values.answer.text),p.zb(1),p.cc("ngForOf",i.values.opts)}}function S(e,t){if(1&e){var n=p.Nb();p.Mb(0,"ion-item",28),p.Mb(1,"ion-checkbox",38),p.Ub("ionChange",(function(e){p.hc(n);var i=t.index,r=p.Wb(3).$implicit,o=p.Wb().$implicit;return p.Wb(2).insertAnswers(e,o.id,r,i)})),p.Lb(),p.Mb(2,"ion-label"),p.lc(3),p.Lb(),p.Lb()}if(2&e){var i=t.$implicit,r=p.Wb(6);p.zb(1),p.dc("value",i.text),p.cc("checked",i.checked)("color",r.color),p.zb(2),p.mc(i.text)}}function W(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.kc(4,S,4,4,"ion-item",27),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(1),p.cc("ngForOf",n.values.opts)}}function R(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Kb(4,"img",30),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(1),p.ec("src","https://www.vtentrena.com/uploads/Entrenamientos/",n.values.src,"",p.ic)}}function E(e,t){if(1&e&&(p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Kb(4,"video",31),p.Lb()),2&e){var n=p.Wb(2).$implicit;p.zb(3),p.mc(n.values.title),p.zb(1),p.ec("src","https://www.vtentrena.com/uploads/Entrenamientos/",n.values.src,"",p.ic)}}function I(e,t){if(1&e){var n=p.Nb();p.Mb(0,"div",22),p.Mb(1,"ion-item-divider",23),p.Mb(2,"strong",24),p.lc(3),p.Lb(),p.Lb(),p.Mb(4,"ion-chip",32),p.Ub("click",(function(){p.hc(n);var e=p.Wb(2).$implicit;return p.Wb(3).download(e)})),p.lc(5),p.Lb(),p.Lb()}if(2&e){var i=p.Wb(2).$implicit,r=p.Wb(3);p.zb(3),p.mc(i.values.title),p.zb(1),p.cc("color",r.color),p.zb(1),p.nc(" ",i.values.src,"")}}function _(e,t){if(1&e&&(p.Mb(0,"div",20),p.kc(1,y,6,2,"div",21),p.kc(2,A,6,2,"div",21),p.kc(3,J,6,3,"div",21),p.kc(4,W,5,2,"div",21),p.kc(5,R,5,2,"div",21),p.kc(6,E,5,2,"div",21),p.kc(7,I,6,3,"div",21),p.Lb()),2&e){var n=p.Wb().$implicit;p.zb(1),p.cc("ngIf","textline"===n.type),p.zb(1),p.cc("ngIf","textarea"===n.type),p.zb(1),p.cc("ngIf","radio"===n.type),p.zb(1),p.cc("ngIf","checkbox"===n.type),p.zb(1),p.cc("ngIf","image"===n.type),p.zb(1),p.cc("ngIf","video"===n.type),p.zb(1),p.cc("ngIf","file"===n.type)}}function $(e,t){if(1&e&&(p.Mb(0,"div"),p.kc(1,N,8,7,"div",19),p.kc(2,_,8,7,"div",19),p.Lb()),2&e){var n=p.Wb().$implicit;p.zb(1),p.cc("ngIf","entrena"===n.type),p.zb(1),p.cc("ngIf","quiz"===n.type)}}function F(e,t){if(1&e&&(p.Mb(0,"ion-slide"),p.Mb(1,"div",16),p.Mb(2,"ion-grid"),p.Mb(3,"ion-row"),p.Mb(4,"ion-col",17),p.Mb(5,"ion-label"),p.lc(6),p.Lb(),p.Lb(),p.Mb(7,"ion-col",17),p.Mb(8,"ion-label"),p.lc(9),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Mb(10,"div",18),p.Mb(11,"ion-list"),p.kc(12,$,3,2,"div",15),p.Lb(),p.Lb(),p.Lb()),2&e){var n=t.$implicit;p.zb(6),p.mc(n.name),p.zb(3),p.mc(n.type),p.zb(3),p.cc("ngForOf",n.Chilndren)}}function T(e,t){if(1&e){var n=p.Nb();p.Mb(0,"ion-slides",13,14),p.Ub("ionSlideWillChange",(function(){return p.hc(n),p.Wb().changeSlide()})),p.kc(2,F,13,3,"ion-slide",15),p.Lb()}if(2&e){var i=p.Wb();p.zb(2),p.cc("ngForOf",i.JSONDesigner.pages)}}function P(e,t){1&e&&(p.Mb(0,"ion-item",39),p.Kb(1,"ion-spinner",40),p.Mb(2,"ion-label"),p.lc(3,"Guardando Cambios..."),p.Lb(),p.Lb())}function j(e,t){if(1&e){var n=p.Nb();p.Mb(0,"ion-button",41),p.Ub("click",(function(){return p.hc(n),p.Wb().exit()})),p.lc(1,"Salir"),p.Lb()}if(2&e){var i=p.Wb();p.cc("color",i.color)}}function U(e,t){if(1&e){var n=p.Nb();p.Mb(0,"ion-button",41),p.Ub("click",(function(){return p.hc(n),p.Wb().prev()})),p.Kb(1,"ion-icon",42),p.Lb()}if(2&e){var i=p.Wb();p.cc("color",i.color)}}function K(e,t){if(1&e){var n=p.Nb();p.Mb(0,"ion-button",41),p.Ub("click",(function(){return p.hc(n),p.Wb().next()})),p.Kb(1,"ion-icon",43),p.Lb()}if(2&e){var i=p.Wb();p.cc("color",i.color)}}function q(e,t){if(1&e){var n=p.Nb();p.Mb(0,"ion-button",41),p.Ub("click",(function(){return p.hc(n),p.Wb().saveEnd()})),p.lc(1,"Finalizar"),p.Lb()}if(2&e){var i=p.Wb();p.cc("color",i.color)}}var B,G,H=[{path:"",component:(B=function(){function e(t,n,i,r,o,a,s,c,l,b){var u=this;_classCallCheck(this,e),this.apiEntrena=t,this.toasCtrl=n,this.storage=i,this.ActiveRoute=r,this.modalCtrl=o,this.router=a,this.loading=s,this.loadCtrl=c,this.alertCtrl=l,this.dataCompany=b,this.JSONDesigner={save:!1,pages:[],count:0,prom:0,tot:0,apro:0},this.nameDesing="",this.viewInit="1",this.save=!1,this.idAnswer="",this.pagesCount=0,this.pageActive=1,this.load=!1,this.saveAnswer=!1,this.apro=!1,this.color="",this.dataCompany.$color.subscribe((function(e){u.color=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.loadDesign()}},{key:"loadDesign",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&("ADMIN_ENTRENA"===t[0].data.role?this.apiEntrena.readDesigner(t[0].token,this.ActiveRoute.snapshot.paramMap.get("id")).subscribe((function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e),"ok"!==e.status){t.next=5;break}this.load=!0,this.idAnswer=e.response._id,this.JSONDesigner=e.response.JSONEntrena,this.JSONDesigner.count=0,this.pagesCount=this.JSONDesigner.pages.length,this.nameDesing=e.response.name,t.next=7;break;case 5:return t.next=7,this.toasCtrl.newCreatedToast("Could not read design, please try again later",!1);case 7:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toasCtrl.newCreatedToast("Could not read design, please try again later",!1);case 2:case"end":return e.stop()}}),e,this)})))})):this.apiEntrena.readAnswerJson(t[0].token,this.ActiveRoute.snapshot.paramMap.get("id")).subscribe((function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log(e,"data del usuario"),"ok"===e.status?(this.saveAnswer=!!e.response.saveAnswer&&e.response.saveAnswer,this.load=!0,this.idAnswer=e.response._id,this.JSONDesigner=e.response.JSONEntrena,this.JSONDesigner.count=0,this.pagesCount=this.JSONDesigner.pages.length,this.JSONDesigner.pages.filter((function(e){return"quiz"===e.type})).forEach((function(e){e.Chilndren.forEach((function(e){"radio"!==e.type&&"checkbox"!==e.type||(i.JSONDesigner.count=i.JSONDesigner.count+1)}))})),this.nameDesing=e.response.name,console.log(this.idAnswer,"id de respuesta"),this.apiEntrena.createdAnswer(t[0].token,{parentDesigner:this.ActiveRoute.snapshot.paramMap.get("id"),parentAdmin:t[0].data.parentAdmin}).subscribe((function(e){"error"===e.status?i.toasCtrl.newCreatedToast(e.error,!1).then((function(){return Object(s.a)(i,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))})):(i.idAnswer=e.response._id,console.log(i.JSONDesigner,"CHACHAI"),i.JSONDesigner.tot<i.JSONDesigner.apro&&i.saveAnswer?(i.otherDesign(),i.apro=!1):i.apro=!0),console.log(i.idAnswer,"id de respuesta 2")}),(function(e){return Object(s.a)(i,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1);case 1:case"end":return e.stop()}}),e,this)})))}))):this.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1);case 1:case"end":return n.stop()}}),n,this)})))}),(function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1);case 1:case"end":return e.stop()}}),e,this)})))})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"otherDesign",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:"Atenci\xf3n!",message:"Usted no aprob\xf3 la prueba en el anterior intento, desea realizar uno nuevo ?",backdropDismiss:!1,buttons:[{text:"Cancelar",role:"cancel",handler:function(){n.router.navigate(["/list-my-designs"])}},{text:"Aceptar",handler:function(){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&this.apiEntrena.createdAnswerOther(t[0].token,{parentDesigner:this.ActiveRoute.snapshot.paramMap.get("id"),parentAdmin:t[0].data.parentAdmin}).subscribe((function(e){"error"===e.status?n.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1):(n.saveAnswer=!!e.response.saveAnswer&&e.response.saveAnswer,n.load=!0,n.idAnswer=e.response._id,n.JSONDesigner=e.response.JSONEntrena,n.JSONDesigner.count=0,n.pagesCount=n.JSONDesigner.pages.length,n.JSONDesigner.pages.filter((function(e){return"quiz"===e.type})).forEach((function(e){e.Chilndren.forEach((function(e){"radio"!==e.type&&"checkbox"!==e.type||(n.JSONDesigner.count=n.JSONDesigner.count+1)}))})),n.nameDesing=e.response.name,n.idAnswer=e.response._id,n.toasCtrl.newCreatedToast("Nuevo intento creado",!0))}),(function(e){return Object(s.a)(n,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.toasCtrl.newCreatedToast("No se pudo guardar el intento",!1);case 1:case"end":return e.stop()}}),e,this)})))}));case 4:case"end":return e.stop()}}),e,this)})))}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"changeSlide",value:function(){var e=this;this.slide.getActiveIndex().then((function(t){e.pageActive=t+1,e.content.scrollToTop().then((function(){}))}))}},{key:"prev",value:function(){var e=this;this.slide.slidePrev(300).then((function(){e.pageActive=e.pageActive+1}))}},{key:"next",value:function(){var e=this;this.slide.slideNext(300).then((function(){e.pageActive=e.pageActive+1}))}},{key:"autoSave",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.JSONDesigner,"paso 1"),this.saveAnswer){e.next=6;break}return console.log("eNTRAMOS",this.idAnswer,this.JSONDesigner),e.next=4,this.storage.getLogin();case 4:t=e.sent,this.save=!0,t&&("ADMIN_ENTRENA"===t[0].data.role?this.save=!1:this.apiEntrena.updateAnswer(t[0].token,{_id:this.idAnswer,JSONEntrena:this.JSONDesigner}).subscribe((function(e){console.log(e,"data entrena"),"ok"===e.status?(n.save=!1,n.JSONDesigner=e.response.JSONEntrena):(n.save=!1,n.toasCtrl.newCreatedToast("No se pudo guardar los cambios",!1))}),(function(e){n.save=!1,n.toasCtrl.newCreatedToast("No se pudo guardar los cambios",!1)})));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"saveEnd",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.saveAnswer){e.next=15;break}return e.next=3,this.storage.getLogin();case 3:if(!(t=e.sent)){e.next=15;break}if("ADMIN_ENTRENA"!==t[0].data.role){e.next=9;break}this.save=!1,e.next=15;break;case 9:return console.log("ALERTAS"),e.next=12,this.alertCtrl.create({header:"Est\xe1 seguro de finalizar la capacitaci\xf3n?",message:"Al finalizar la capacitaci\xf3n no podr\xe1 realizar cambios en ella de nuevo.",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:function(){i.save=!0,i.JSONDesigner.tot=Number((i.JSONDesigner.prom/i.JSONDesigner.count).toFixed(1)),i.apiEntrena.updateAnswerSave(t[0].token,{_id:i.idAnswer,JSONEntrena:i.JSONDesigner}).subscribe((function(e){"ok"===e.status?(i.JSONDesigner.tot>=i.JSONDesigner.apro?i.toasCtrl.newCreatedToast("Feclicitaciones, aprobaste el m\xf3dulo",!0):i.toasCtrl.newCreatedToast("Lo sentimos, no te alcanz\xf3 el promedio final para aprobar el m\xf3dulo",!1),i.save=!1,i.JSONDesigner=e.response.JSONEntrena,i.router.navigate(["/list-my-designs"])):(i.save=!1,i.toasCtrl.newCreatedToast("No se pudo guardar los cambios",!1))}),(function(e){i.save=!1,i.toasCtrl.newCreatedToast("No se pudo guardar los cambios",!1)}))}}]});case 12:return n=e.sent,e.next=15,n.present();case 15:case"end":return e.stop()}}),e,this)})))}},{key:"insertAnswers",value:function(e,t,n,i){var r=this;this.JSONDesigner.prom=0,this.JSONDesigner.pages=this.JSONDesigner.pages.map((function(o){return o.id===t&&o.Chilndren.map((function(t){if(t.id===n.id)if("radio"===n.type){t.values.answer.text=e.detail.value;var o=t.values.opts.filter((function(t){return t.text===e.detail.value}));console.log(o,"bien"),t.values.answer.value=parseFloat(o[0].value)}else"checkbox"===n.type&&(e.detail.checked?(t.values.answer.sum=t.values.answer.sum+parseFloat(t.values.opts[i].value),t.values.answer.op.find((function(t){return t===e.detail.value}))||t.values.answer.op.push(e.detail.value)):(t.values.answer.sum=t.values.answer.sum-parseFloat(t.values.opts[i].value),t.values.answer.op=t.values.answer.op.filter((function(t){return t!==e.detail.value}))),t.values.opts[i].checked=e.detail.checked);if("radio"===t.type||"checkbox"===t.type)return r.JSONDesigner.prom=r.JSONDesigner.prom+parseFloat(t.values.answer.value)+parseFloat(t.values.answer.sum),t})),o})),this.autoSave(),console.log(e.detail.value,t,n,i)}},{key:"exportPDF",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:t=e.sent,this.loading.createLoading("Exportando PDF..."),t&&this.apiEntrena.exportPDF(t[0].token,this.idAnswer).subscribe((function(e){console.log(e),"ok"===e.status?(n.loading.cancelLoading(),window.open(v.a.URL_NODE+"/vtentrena/designer/answer/download?path="+e.path+"&name=Diploma -"+t[0].data.name+".pdf","_self")):(n.loading.cancelLoading(),n.toasCtrl.newCreatedToast("Could not save design, please try again later",!1))}),(function(e){n.loading.cancelLoading(),n.toasCtrl.newCreatedToast("Could not save design, please try again later",!1)}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"exit",value:function(){this.router.navigate(["/list-my-designs"])}},{key:"download",value:function(e){console.log("abrete",e),window.open(v.a.URL_NODE+"/vtentrena/designer/answer/download/files?path="+e.values.src+"&name="+e.values.src,"_self")}}]),e}(),B.\u0275fac=function(e){return new(e||B)(p.Jb(c.a),p.Jb(l.a),p.Jb(b.a),p.Jb(a.a),p.Jb(o.Y),p.Jb(a.f),p.Jb(u.a),p.Jb(o.W),p.Jb(o.a),p.Jb(d.a))},B.\u0275cmp=p.Db({type:B,selectors:[["app-view-design"]],viewQuery:function(e,t){var n;1&e&&(p.pc(g,!0),p.pc(f,!0)),2&e&&(p.gc(n=p.Vb())&&(t.slide=n.first),p.gc(n=p.Vb())&&(t.content=n.first))},decls:23,vars:12,consts:[[3,"color"],["slot","start"],["defaultHref","/list-my-designs","icon","chevron-back"],["slot","end","color","light","mode","ios",3,"click",4,"ngIf"],["fullscreen","true"],["content",""],[3,"ionSlideWillChange",4,"ngIf"],[1,"ion-no-border"],["lines","none","slot","end",4,"ngIf"],["size","4"],["mode","ios","expand","block",3,"color","click",4,"ngIf"],["size","4",1,"ion-text-center","centrado"],["slot","end","color","light","mode","ios",3,"click"],[3,"ionSlideWillChange"],["slide",""],[4,"ngFor","ngForOf"],[1,"page"],["size","6"],[1,"childrens"],["class","fullWidth",4,"ngIf"],[1,"fullWidth"],["class","ion-text-wrap fullWidth",4,"ngIf"],[1,"ion-text-wrap","fullWidth"],["lines","none","color","medium",1,"marginBottom"],[1,""],["lines","none",1,"marginBottom"],[1,"ion-text-wrap","break"],["lines","none","class","",4,"ngFor","ngForOf"],["lines","none",1,""],["color","primary","slot","start"],[1,"widthFile","ion-padding",3,"src"],["controls","",1,"widthFile","ion-padding",3,"src"],[1,"widthFile","ion-padding",3,"color","click"],["lines","none","color","light",1,"border","marginBottom"],[3,"value"],["rows","5",3,"value"],[3,"value","ionChange"],["slot","start",3,"value","color"],["slot","start",3,"checked","value","color","ionChange"],["lines","none","slot","end"],["name","crescent","slot","start"],["mode","ios","expand","block",3,"color","click"],["name","chevron-back"],["name","chevron-forward"]],template:function(e,t){1&e&&(p.Mb(0,"ion-header"),p.Mb(1,"ion-toolbar",0),p.Mb(2,"ion-buttons",1),p.Kb(3,"ion-back-button",2),p.Lb(),p.Mb(4,"ion-title"),p.lc(5),p.Lb(),p.kc(6,h,2,0,"ion-button",3),p.Lb(),p.Lb(),p.Mb(7,"ion-content",4,5),p.kc(9,T,3,1,"ion-slides",6),p.Lb(),p.Mb(10,"ion-footer",7),p.Mb(11,"ion-toolbar",0),p.kc(12,P,4,0,"ion-item",8),p.Mb(13,"ion-grid"),p.Mb(14,"ion-row"),p.Mb(15,"ion-col",9),p.kc(16,j,2,1,"ion-button",10),p.kc(17,U,2,1,"ion-button",10),p.Lb(),p.Mb(18,"ion-col",11),p.lc(19),p.Lb(),p.Mb(20,"ion-col",9),p.kc(21,K,2,1,"ion-button",10),p.kc(22,q,2,1,"ion-button",10),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Lb()),2&e&&(p.zb(1),p.cc("color",t.color),p.zb(4),p.mc(t.nameDesing),p.zb(1),p.cc("ngIf",t.saveAnswer&&t.apro),p.zb(3),p.cc("ngIf",t.load),p.zb(2),p.cc("color",t.color),p.zb(1),p.cc("ngIf",t.save),p.zb(4),p.cc("ngIf",1===t.pageActive),p.zb(1),p.cc("ngIf",t.pageActive>1),p.zb(2),p.oc(" ",t.pageActive," / ",t.pagesCount,""),p.zb(2),p.cc("ngIf",t.pageActive<t.pagesCount),p.zb(1),p.cc("ngIf",t.pageActive===t.pagesCount))},directives:[o.s,o.T,o.h,o.d,o.e,o.S,i.i,o.l,o.q,o.r,o.J,o.k,o.g,o.O,i.h,o.N,o.A,o.B,o.w,o.v,o.f,o.j,o.u,o.fb,o.R,o.F,o.eb,o.E,o.cb,o.i,o.b,o.P,o.t],styles:["ion-slide[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;padding:15px}ion-slide[_ngcontent-%COMP%], ion-slide[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%}ion-item-divider[_ngcontent-%COMP%]{padding:5px;text-align:left}.marginBottom[_ngcontent-%COMP%]{margin-bottom:10px}.border[_ngcontent-%COMP%]{border:1px solid rgba(3,3,3,.1)}.green[_ngcontent-%COMP%]{background:#fff1c9!important}.fullWidth[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid rgba(0,0,0,.1)}.widthFile[_ngcontent-%COMP%]{width:auto;margin:auto;max-width:100%}.centrado[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}"]}),B)}],V=((G=function e(){_classCallCheck(this,e)}).\u0275mod=p.Hb({type:G}),G.\u0275inj=p.Gb({factory:function(e){return new(e||G)},imports:[[a.h.forChild(H)],a.h]}),G);n.d(t,"ViewDesignPageModule",(function(){return Q}));var X,Q=((X=function e(){_classCallCheck(this,e)}).\u0275mod=p.Hb({type:X}),X.\u0275inj=p.Gb({factory:function(e){return new(e||X)},imports:[[i.b,r.a,o.U,V]]}),X)},vqre:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("mrSG"),r=n("fXoL"),o=n("TEn/"),a=function(){var e=function(){function e(t){_classCallCheck(this,e),this.loadingCtrl=t}return _createClass(e,[{key:"createLoading",value:function(e){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingCtrl.create({message:e,mode:"ios"});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"cancelLoading",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingCtrl.dismiss();case 2:case"end":return e.stop()}}),e,this)})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Qb(o.W))},e.\u0275prov=r.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);