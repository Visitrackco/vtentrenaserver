(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{RGaQ:function(t,e,n){"use strict";n.r(e);var o=n("ofXK"),i=n("3Pt+"),s=n("TEn/"),a=n("tyNb"),r=n("mrSG"),l=n("NIW7"),c=n("lNB8"),b=n("VOof"),d=n("w9U0"),u=n("cxbk"),g=n("fXoL"),p=n("qP/N");const h=function(t){return["/view-design",t]},m=function(t){return["/list-my-designs/comments",t]};function f(t,e){if(1&t&&(g.Mb(0,"ion-item-sliding"),g.Mb(1,"ion-item",6),g.Kb(2,"ion-icon",7),g.Mb(3,"ion-label"),g.Mb(4,"strong"),g.lc(5),g.Lb(),g.Kb(6,"br"),g.Mb(7,"strong"),g.lc(8,"Creado: "),g.Lb(),g.lc(9),g.Lb(),g.Lb(),g.Mb(10,"ion-item-options",8),g.Mb(11,"ion-item-option",9),g.Kb(12,"ion-icon",10),g.Lb(),g.Lb(),g.Lb()),2&t){const t=e.$implicit,n=g.Wb();g.zb(1),g.cc("routerLink",g.fc(5,h,t._id)),g.zb(4),g.mc(t.name),g.zb(4),g.nc(" ",t.dateCreated," "),g.zb(2),g.cc("color",n.color)("routerLink",g.fc(7,m,t._id))}}const y=[{path:"",component:(()=>{class t{constructor(t,e,n,o,i){this.router=t,this.apiEntrena=e,this.storage=n,this.toasCtrl=o,this.dataCompany=i,this.listDesigner=[],this.role="",this.text="",this.color="",this.dataCompany.$color.subscribe(t=>{this.color=t})}ngOnInit(){}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,(function*(){this.ListDesigners();const t=yield this.storage.getLogin();t&&this.loadDataMenu(t[0])}))}loadDataMenu(t){let e="";e="USER_ENTRENA"===t.data.role?t.data.parentAdmin:t.data._id,this.apiEntrena.preferencesLoad({user:e},t.token).subscribe(t=>{console.log(t),"ok"===t.status&&(this.dataCompany.setColor(t.response.theme?t.response.theme:"light"),this.dataCompany.getDataCompany({logo:u.a.URL_NODE+"/uploads/Perfiles/"+t.response.logo,name:t.response.nameCompany?t.response.nameCompany:"VTEntrena Application"}))},t=>{this.dataCompany.getDataCompany({logo:"",name:"VTEntrena Application"})})}reload(){this.ListDesigners()}ListDesigners(){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.storage.getLogin();if(t){const e="USER_ENTRENA"===t[0].data.role?t[0].data.parentAdmin:"";console.log(e,"id"),this.role=t[0].data.role,this.apiEntrena.readDesignersAll(t[0].token,e).subscribe(t=>{console.log(t),"ok"===t.status?this.listDesigner=t.response:this.toasCtrl.newCreatedToast("Could not list design, please try again later",!1)},t=>{this.toasCtrl.newCreatedToast("Could not list design, please try again later",!1)})}}))}newDesigner(){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.storage.getLogin();t&&this.apiEntrena.createDesigner(t[0].token).subscribe(t=>{"ok"===t.status?this.router.navigate(["/designer",t.response._id]):this.toasCtrl.newCreatedToast("Could not create design, please try again later",!1)},t=>{this.toasCtrl.newCreatedToast("Could not create design, please try again later",!1)})}))}changeText(t){this.text=t.detail.value}}return t.\u0275fac=function(e){return new(e||t)(g.Jb(a.f),g.Jb(l.a),g.Jb(b.a),g.Jb(d.a),g.Jb(c.a))},t.\u0275cmp=g.Db({type:t,selectors:[["app-list-my-designs"]],decls:12,vars:6,consts:[[3,"color"],["slot","end"],[3,"click"],["name","reload-outline","slot","icon-only"],["mode","ios","placeholder","Buscar M\xf3dulo",3,"ionChange"],[4,"ngFor","ngForOf"],[3,"routerLink"],["name","library-outline","slot","start"],["side","end"],[3,"color","routerLink"],["name","calendar","slot","icon-only"]],template:function(t,e){1&t&&(g.Mb(0,"ion-header"),g.Mb(1,"ion-toolbar",0),g.Mb(2,"ion-title"),g.lc(3,"Listado de M\xf3dulos"),g.Lb(),g.Mb(4,"ion-buttons",1),g.Mb(5,"ion-button",2),g.Ub("click",(function(){return e.reload()})),g.Kb(6,"ion-icon",3),g.Lb(),g.Lb(),g.Lb(),g.Lb(),g.Mb(7,"ion-content"),g.Mb(8,"ion-searchbar",4),g.Ub("ionChange",(function(t){return e.changeText(t)})),g.Lb(),g.Mb(9,"ion-list"),g.kc(10,f,13,9,"ion-item-sliding",5),g.Xb(11,"search"),g.Lb(),g.Lb()),2&t&&(g.zb(1),g.cc("color",e.color),g.zb(9),g.cc("ngForOf",g.Zb(11,2,e.listDesigner,e.text,"name")))},directives:[s.s,s.T,s.S,s.h,s.g,s.t,s.l,s.K,s.fb,s.B,o.h,s.z,s.v,s.db,a.g,s.A,s.y,s.x],pipes:[p.a],styles:[""]}),t})()}];let L=(()=>{class t{}return t.\u0275mod=g.Hb({type:t}),t.\u0275inj=g.Gb({factory:function(e){return new(e||t)},imports:[[a.h.forChild(y)],a.h]}),t})();var C=n("BQi/");n.d(e,"ListMyDesignsPageModule",(function(){return M}));let M=(()=>{class t{}return t.\u0275mod=g.Hb({type:t}),t.\u0275inj=g.Gb({factory:function(e){return new(e||t)},imports:[[o.b,i.a,s.U,L,C.a]]}),t})()}}]);