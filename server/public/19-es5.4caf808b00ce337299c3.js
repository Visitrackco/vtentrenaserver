function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{RGaQ:function(e,t,n){"use strict";n.r(t);var o=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),a=n("tyNb"),s=n("mrSG"),c=n("NIW7"),l=n("lNB8"),u=n("VOof"),b=n("w9U0"),d=n("cxbk"),p=n("fXoL"),f=n("qP/N"),g=function(e){return["/view-design",e]},h=function(e){return["/list-my-designs/comments",e]};function m(e,t){if(1&e&&(p.Mb(0,"ion-item-sliding"),p.Mb(1,"ion-item",6),p.Kb(2,"ion-icon",7),p.Mb(3,"ion-label"),p.Mb(4,"strong"),p.lc(5),p.Lb(),p.Kb(6,"br"),p.Mb(7,"strong"),p.lc(8,"Creado: "),p.Lb(),p.lc(9),p.Lb(),p.Lb(),p.Mb(10,"ion-item-options",8),p.Mb(11,"ion-item-option",9),p.Kb(12,"ion-icon",10),p.Lb(),p.Lb(),p.Lb()),2&e){var n=t.$implicit,o=p.Wb();p.zb(1),p.cc("routerLink",p.fc(5,g,n._id)),p.zb(4),p.mc(n.name),p.zb(4),p.nc(" ",n.dateCreated," "),p.zb(2),p.cc("color",o.color)("routerLink",p.fc(7,h,n._id))}}var C,y,v=[{path:"",component:(C=function(){function e(t,n,o,i,r){var a=this;_classCallCheck(this,e),this.router=t,this.apiEntrena=n,this.storage=o,this.toasCtrl=i,this.dataCompany=r,this.listDesigner=[],this.role="",this.text="",this.color="",this.dataCompany.$color.subscribe((function(e){a.color=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ListDesigners(),e.next=3,this.storage.getLogin();case 3:(t=e.sent)&&this.loadDataMenu(t[0]);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"loadDataMenu",value:function(e){var t,n=this;t="USER_ENTRENA"===e.data.role?e.data.parentAdmin:e.data._id,this.apiEntrena.preferencesLoad({user:t},e.token).subscribe((function(e){console.log(e),"ok"===e.status&&(n.dataCompany.setColor(e.response.theme?e.response.theme:"light"),n.dataCompany.getDataCompany({logo:d.a.URL_NODE+"/uploads/Perfiles/"+e.response.logo,name:e.response.nameCompany?e.response.nameCompany:"VTEntrena Application"}))}),(function(e){n.dataCompany.getDataCompany({logo:"",name:"VTEntrena Application"})}))}},{key:"reload",value:function(){this.ListDesigners()}},{key:"ListDesigners",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&(n="USER_ENTRENA"===t[0].data.role?t[0].data.parentAdmin:"",console.log(n,"id"),this.role=t[0].data.role,this.apiEntrena.readDesignersAll(t[0].token,n).subscribe((function(e){console.log(e),"ok"===e.status?o.listDesigner=e.response:o.toasCtrl.newCreatedToast("Could not list design, please try again later",!1)}),(function(e){o.toasCtrl.newCreatedToast("Could not list design, please try again later",!1)})));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"newDesigner",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&this.apiEntrena.createDesigner(t[0].token).subscribe((function(e){"ok"===e.status?n.router.navigate(["/designer",e.response._id]):n.toasCtrl.newCreatedToast("Could not create design, please try again later",!1)}),(function(e){n.toasCtrl.newCreatedToast("Could not create design, please try again later",!1)}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"changeText",value:function(e){this.text=e.detail.value}}]),e}(),C.\u0275fac=function(e){return new(e||C)(p.Jb(a.f),p.Jb(c.a),p.Jb(u.a),p.Jb(b.a),p.Jb(l.a))},C.\u0275cmp=p.Db({type:C,selectors:[["app-list-my-designs"]],decls:12,vars:6,consts:[[3,"color"],["slot","end"],[3,"click"],["name","reload-outline","slot","icon-only"],["mode","ios","placeholder","Buscar M\xf3dulo",3,"ionChange"],[4,"ngFor","ngForOf"],[3,"routerLink"],["name","library-outline","slot","start"],["side","end"],[3,"color","routerLink"],["name","calendar","slot","icon-only"]],template:function(e,t){1&e&&(p.Mb(0,"ion-header"),p.Mb(1,"ion-toolbar",0),p.Mb(2,"ion-title"),p.lc(3,"Listado de M\xf3dulos"),p.Lb(),p.Mb(4,"ion-buttons",1),p.Mb(5,"ion-button",2),p.Ub("click",(function(){return t.reload()})),p.Kb(6,"ion-icon",3),p.Lb(),p.Lb(),p.Lb(),p.Lb(),p.Mb(7,"ion-content"),p.Mb(8,"ion-searchbar",4),p.Ub("ionChange",(function(e){return t.changeText(e)})),p.Lb(),p.Mb(9,"ion-list"),p.kc(10,m,13,9,"ion-item-sliding",5),p.Xb(11,"search"),p.Lb(),p.Lb()),2&e&&(p.zb(1),p.cc("color",t.color),p.zb(9),p.cc("ngForOf",p.Zb(11,2,t.listDesigner,t.text,"name")))},directives:[r.s,r.T,r.S,r.h,r.g,r.t,r.l,r.K,r.fb,r.B,o.h,r.z,r.v,r.db,a.g,r.A,r.y,r.x],pipes:[f.a],styles:[""]}),C)}],k=((y=function e(){_classCallCheck(this,e)}).\u0275mod=p.Hb({type:y}),y.\u0275inj=p.Gb({factory:function(e){return new(e||y)},imports:[[a.h.forChild(v)],a.h]}),y),L=n("BQi/");n.d(t,"ListMyDesignsPageModule",(function(){return M}));var w,M=((w=function e(){_classCallCheck(this,e)}).\u0275mod=p.Hb({type:w}),w.\u0275inj=p.Gb({factory:function(e){return new(e||w)},imports:[[o.b,i.a,r.U,k,L.a]]}),w)}}]);