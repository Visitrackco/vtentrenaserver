function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{yqlh:function(e,t,n){"use strict";n.r(t);var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),s=n("tyNb"),a=n("mrSG"),c=n("NIW7"),l=n("VOof"),u=n("w9U0"),d=n("fXoL"),b=n("qP/N");function g(e,t){if(1&e&&(d.Mb(0,"div",5),d.Mb(1,"div"),d.lc(2),d.Lb(),d.Mb(3,"strong"),d.lc(4),d.Lb(),d.Lb()),2&e){var n=t.$implicit,i=t.index;d.zb(2),d.nc("Intento ",i+1,""),d.zb(2),d.nc("Promedio: ",n.JSONEntrena.tot,"")}}function h(e,t){if(1&e&&(d.Mb(0,"ion-item-sliding"),d.Mb(1,"ion-item"),d.Mb(2,"ion-label"),d.Mb(3,"strong"),d.lc(4),d.Lb(),d.Kb(5,"br"),d.Mb(6,"strong"),d.lc(7,"Creado: "),d.Lb(),d.lc(8),d.Kb(9,"br"),d.Kb(10,"br"),d.Mb(11,"div",3),d.lc(12),d.Lb(),d.Kb(13,"br"),d.kc(14,g,5,2,"div",4),d.Lb(),d.Lb(),d.Lb()),2&e){var n=t.$implicit;d.zb(4),d.mc(n.name),d.zb(4),d.nc(" ",n.dateCreated," "),d.zb(4),d.nc(" Cantidad de Intentos ",n.assents.length," "),d.zb(2),d.cc("ngForOf",n.assents)}}var f,m=((f=function(){function e(t,n,i,o,r,s){_classCallCheck(this,e),this.router=t,this.apiEntrena=n,this.storage=i,this.toasCtrl=o,this.alertCtrl=r,this.modal=s,this.listDesigns=[],this.text=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.ListDesigners()}},{key:"ListDesigners",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&this.apiEntrena.readDesignersAll(t[0].token,"USER_ENTRENA"===t[0].data.role?t[0].data.parentAdmin:"").subscribe((function(e){if("ok"===e.status){var i=e.response.length;e.response.forEach((function(o){return Object(a.a)(n,void 0,void 0,regeneratorRuntime.mark((function n(){var r=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o.active=!1,o.keys&&o.keys.filter((function(e){return e===r.user})).length>0&&(o.active=!0),new Promise((function(e,n){r.apiEntrena.readAnswerJsonAll(t[0].token,o._id,r.user).subscribe((function(t){e("ok"===t.status?t.response:[])}),(function(t){e([])}))})).then((function(t){i-=1,o.assents=t,0===i&&(r.listDesigns=e.response)}));case 1:case"end":return n.stop()}}),n)})))}))}else n.toasCtrl.newCreatedToast("No se pudo realizar la operaci\xf3n",!1)}),(function(e){n.toasCtrl.newCreatedToast("No se pudo realizar la operaci\xf3n",!1)}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"assign",value:function(e,t,n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,r=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.storage.getLogin();case 2:(o=i.sent)&&this.apiEntrena.addUsersDesing(o[0].token,{id:e,user:this.user}).subscribe((function(e){"ok"===e.status?(r.toasCtrl.newCreatedToast(t?"Usuario removido correctamente":"Usuario asignado correctamente",!0),r.listDesigns[n].active=!t):r.toasCtrl.newCreatedToast("No se pudo asignar el usuario",!1)}),(function(e){r.toasCtrl.newCreatedToast("No se pudo asignar el usuario",!1)}));case 4:case"end":return i.stop()}}),i,this)})))}},{key:"toggleUser",value:function(){}},{key:"changeText",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||f)(d.Jb(s.f),d.Jb(c.a),d.Jb(l.a),d.Jb(u.a),d.Jb(r.a),d.Jb(r.Y))},f.\u0275cmp=d.Db({type:f,selectors:[["app-modal-assents"]],inputs:{user:"user"},decls:9,vars:5,consts:[["color","danger"],["mode","ios","placeholder","Buscar Modulo",3,"ionChange"],[4,"ngFor","ngForOf"],[1,"intentos"],["class","assent",4,"ngFor","ngForOf"],[1,"assent"]],template:function(e,t){1&e&&(d.Mb(0,"ion-header"),d.Mb(1,"ion-toolbar",0),d.Mb(2,"ion-title"),d.lc(3,"Historial de Modulos"),d.Lb(),d.Lb(),d.Lb(),d.Mb(4,"ion-content"),d.Mb(5,"ion-searchbar",1),d.Ub("ionChange",(function(e){return t.changeText(e)})),d.Lb(),d.Mb(6,"ion-list"),d.kc(7,h,15,4,"ion-item-sliding",2),d.Xb(8,"search"),d.Lb(),d.Lb()),2&e&&(d.zb(7),d.cc("ngForOf",d.Zb(8,1,t.listDesigns,t.text,"name")))},directives:[r.s,r.T,r.S,r.l,r.K,r.fb,r.B,i.h,r.z,r.v,r.A],pipes:[b.a],styles:[".intentos[_ngcontent-%COMP%]{background-color:var(--ion-color-medium);color:#fff;padding:10px}.assent[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid rgba(0,0,0,.1)}"]}),f);function p(e,t){if(1&e){var n=d.Nb();d.Mb(0,"ion-button",5),d.Ub("click",(function(){d.hc(n);var e=d.Wb(),t=e.$implicit,i=e.index;return d.Wb().assign(t._id,t.active,i)})),d.lc(1,"ASIGNAR"),d.Lb()}}function v(e,t){if(1&e){var n=d.Nb();d.Mb(0,"ion-button",6),d.Ub("click",(function(){d.hc(n);var e=d.Wb(),t=e.$implicit,i=e.index;return d.Wb().assign(t._id,t.active,i)})),d.lc(1,"QUITAR"),d.Lb()}}function C(e,t){if(1&e&&(d.Mb(0,"ion-item-sliding"),d.Mb(1,"ion-item"),d.Mb(2,"ion-label"),d.Mb(3,"strong"),d.lc(4),d.Lb(),d.Kb(5,"br"),d.Mb(6,"strong"),d.lc(7,"Creado: "),d.Lb(),d.lc(8),d.Lb(),d.kc(9,p,2,0,"ion-button",3),d.kc(10,v,2,0,"ion-button",4),d.Lb(),d.Lb()),2&e){var n=t.$implicit;d.zb(4),d.mc(n.name),d.zb(4),d.nc(" ",n.dateCreated," "),d.zb(1),d.cc("ngIf",!n.active),d.zb(1),d.cc("ngIf",n.active)}}var k,M=((k=function(){function e(t,n,i,o,r,s){_classCallCheck(this,e),this.router=t,this.apiEntrena=n,this.storage=i,this.toasCtrl=o,this.alertCtrl=r,this.modal=s,this.listDesigns=[],this.text=""}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.ListDesigners()}},{key:"ListDesigners",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&this.apiEntrena.readDesignersAll(t[0].token,"USER_ENTRENA"===t[0].data.role?t[0].data.parentAdmin:"").subscribe((function(e){"ok"===e.status?(e.response.forEach((function(e){e.active=!1,e.keys&&e.keys.filter((function(e){return e===n.user})).length>0&&(e.active=!0)})),n.listDesigns=e.response):n.toasCtrl.newCreatedToast("Could not create design, please try again later",!1)}),(function(e){n.toasCtrl.newCreatedToast("Could not create design, please try again later",!1)}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"assign",value:function(e,t,n){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o,r=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,this.storage.getLogin();case 2:(o=i.sent)&&this.apiEntrena.addUsersDesing(o[0].token,{id:e,user:this.user}).subscribe((function(e){"ok"===e.status?(r.toasCtrl.newCreatedToast(t?"Usuario removido correctamente":"Usuario asignado correctamente",!0),r.listDesigns[n].active=!t):r.toasCtrl.newCreatedToast("No se pudo asignar el usuario",!1)}),(function(e){r.toasCtrl.newCreatedToast("No se pudo asignar el usuario",!1)}));case 4:case"end":return i.stop()}}),i,this)})))}},{key:"toggleUser",value:function(){}},{key:"changeText",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||k)(d.Jb(s.f),d.Jb(c.a),d.Jb(l.a),d.Jb(u.a),d.Jb(r.a),d.Jb(r.Y))},k.\u0275cmp=d.Db({type:k,selectors:[["app-modal-users"]],inputs:{user:"user"},decls:9,vars:5,consts:[["color","danger"],["mode","ios","placeholder","Buscar Modulo",3,"ionChange"],[4,"ngFor","ngForOf"],["slot","end","mode","ios","color","success",3,"click",4,"ngIf"],["slot","end","mode","ios","color","danger",3,"click",4,"ngIf"],["slot","end","mode","ios","color","success",3,"click"],["slot","end","mode","ios","color","danger",3,"click"]],template:function(e,t){1&e&&(d.Mb(0,"ion-header"),d.Mb(1,"ion-toolbar",0),d.Mb(2,"ion-title"),d.lc(3,"Asignaciones"),d.Lb(),d.Lb(),d.Lb(),d.Mb(4,"ion-content"),d.Mb(5,"ion-searchbar",1),d.Ub("ionChange",(function(e){return t.changeText(e)})),d.Lb(),d.Mb(6,"ion-list"),d.kc(7,C,11,4,"ion-item-sliding",2),d.Xb(8,"search"),d.Lb(),d.Lb()),2&e&&(d.zb(7),d.cc("ngForOf",d.Zb(8,1,t.listDesigns,t.text,"name")))},directives:[r.s,r.T,r.S,r.l,r.K,r.fb,r.B,i.h,r.z,r.v,r.A,i.i,r.g],pipes:[b.a],styles:[""]}),k),w=n("R0Ic");function L(e,t){1&e&&(d.Mb(0,"ion-item-divider",16),d.Mb(1,"ion-label"),d.lc(2,"Este usuario ya pertenece a otra persona"),d.Lb(),d.Lb()),2&e&&d.cc("@entryMessage",void 0)}function y(e,t){1&e&&(d.Mb(0,"ion-item-divider",16),d.Mb(1,"ion-label"),d.lc(2,"Las contrase\xf1as no coinciden, por favor verifique"),d.Lb(),d.Lb()),2&e&&d.cc("@entryMessage",void 0)}var U,x=((U=function(){function e(t,n,i,o){_classCallCheck(this,e),this.apiEntrena=t,this.toasCtrl=n,this.modalCtrl=i,this.storage=o,this.existUser=!1,this.createdAction=!1,this.equalPassword=!0,this.userTemp="",this.login={login:"",password:"",confirPassword:"",name:"",time:1,id:""}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){"edit"===this.action&&(this.login=this.data,this.userTemp=this.data.login)}},{key:"validateUser",value:function(e){"edit"===this.action?e.detail.value!==this.userTemp&&this.funcValidateUser(e.detail.value):this.funcValidateUser(e.detail.value)}},{key:"funcValidateUser",value:function(e){var t=this;this.apiEntrena.existUser({login:e}).subscribe((function(e){"ok"===e.status?t.existUser=!!e.response.exist:(t.toasCtrl.newCreatedToast("No se pudo consultar el usuario, intentelo mas tarde",!1),t.modalCtrl.dismiss({}))}))}},{key:"validatePassword",value:function(e,t){this.equalPassword=this.login.password===this.login.confirPassword}},{key:"execute",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.equalPassword&&!this.existUser&&""!==this.login.login&&""!==this.login.name&&this.login.time>=1)){e.next=7;break}return e.next=3,this.storage.getLogin();case 3:(t=e.sent)&&("edit"===this.action?this.apiEntrena.modifyUserBasic(this.login,t[0].token,this.login.id).subscribe((function(e){console.log(e),"ok"===e.status?n.toasCtrl.newCreatedToast("Usuario editado correctamente",!0):n.toasCtrl.newCreatedToast("No se pudo editar el usuario, intentelo mas tarde",!1),n.modalCtrl.dismiss({reload:!0})}),(function(e){n.toasCtrl.newCreatedToast("No se pudo editar el usuario, intentelo mas tarde",!1),n.modalCtrl.dismiss({reload:!0})})):this.apiEntrena.createdUserBasic(this.login,t[0].token).subscribe((function(e){console.log(e),"ok"===e.status?n.toasCtrl.newCreatedToast("Usuario creado correctamente",!0):n.toasCtrl.newCreatedToast("No se pudo consultar el usuario, intentelo mas tarde",!1),n.modalCtrl.dismiss({reload:!0})}),(function(e){n.toasCtrl.newCreatedToast("No se pudo consultar el usuario, intentelo mas tarde",!1),n.modalCtrl.dismiss({reload:!0})}))),e.next=8;break;case 7:this.toasCtrl.newCreatedToast("Debe de llenar todos los campos correctamente",!1);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"closeWindow",value:function(){this.modalCtrl.dismiss({})}}]),e}()).\u0275fac=function(e){return new(e||U)(d.Jb(c.a),d.Jb(u.a),d.Jb(r.Y),d.Jb(l.a))},U.\u0275cmp=d.Db({type:U,selectors:[["app-users"]],inputs:{action:"action",data:"data"},decls:28,vars:13,consts:[["color","users"],[1,"ion-padding"],["lines","none",1,"inputItem"],["type","text","placeholder","Nombre del Usuario",3,"ngModel","ngModelChange"],["class","maginBottom","color","danger","lines","none",4,"ngIf"],["lines","none",1,"inputItem",3,"ionChange"],["type","text","placeholder","Login del Usuario",3,"ngModel","ngModelChange"],["color","danger","lines","none","class","maginBottom",4,"ngIf"],["type","password","placeholder","Contrase\xf1a del Usuario",3,"ngModel","ngModelChange","ionBlur"],["type","password","placeholder","Confirmar Contrase\xf1a",3,"ngModel","ngModelChange","ionBlur"],["lines","none",1,"ion-margin-bottom"],["position","floating",1,"ion-text-wrap"],["min","1","max","5000","type","number",1,"ion-padding",3,"ngModel","ngModelChange"],["size","6"],["mode","ios","shape","round","color","light","expand","block",3,"click"],["mode","ios","shape","round","color","primary","expand","block",3,"click"],["color","danger","lines","none",1,"maginBottom"]],template:function(e,t){1&e&&(d.Mb(0,"ion-header"),d.Mb(1,"ion-toolbar",0),d.Mb(2,"ion-title"),d.lc(3,"Crear Usuario"),d.Lb(),d.Lb(),d.Lb(),d.Mb(4,"ion-content",1),d.Mb(5,"ion-list"),d.Mb(6,"ion-item",2),d.Mb(7,"ion-input",3),d.Ub("ngModelChange",(function(e){return t.login.name=e})),d.Lb(),d.Lb(),d.kc(8,L,3,1,"ion-item-divider",4),d.Mb(9,"ion-item",5),d.Ub("ionChange",(function(e){return t.validateUser(e)})),d.Mb(10,"ion-input",6),d.Ub("ngModelChange",(function(e){return t.login.login=e})),d.Lb(),d.Lb(),d.kc(11,y,3,1,"ion-item-divider",7),d.Mb(12,"ion-item",2),d.Mb(13,"ion-input",8),d.Ub("ngModelChange",(function(e){return t.login.password=e}))("ionBlur",(function(e){return t.validatePassword(e,"1")})),d.Lb(),d.Lb(),d.Mb(14,"ion-item",2),d.Mb(15,"ion-input",9),d.Ub("ngModelChange",(function(e){return t.login.confirPassword=e}))("ionBlur",(function(e){return t.validatePassword(e,"2")})),d.Lb(),d.Lb(),d.Mb(16,"ion-item",10),d.Mb(17,"ion-label",11),d.lc(18,"Configurar tiempo limite de la sesi\xf3n en horas"),d.Lb(),d.Mb(19,"ion-input",12),d.Ub("ngModelChange",(function(e){return t.login.time=e})),d.Lb(),d.Lb(),d.Lb(),d.Mb(20,"ion-grid"),d.Mb(21,"ion-row"),d.Mb(22,"ion-col",13),d.Mb(23,"ion-button",14),d.Ub("click",(function(){return t.closeWindow()})),d.lc(24,"Cancelar"),d.Lb(),d.Lb(),d.Mb(25,"ion-col",13),d.Mb(26,"ion-button",15),d.Ub("click",(function(){return t.execute()})),d.lc(27,"Aceptar"),d.Lb(),d.Lb(),d.Lb(),d.Lb(),d.Lb()),2&e&&(d.zb(7),d.cc("ngModel",t.login.name),d.zb(1),d.cc("ngIf",t.existUser),d.zb(1),d.Bb("invalid",t.existUser),d.zb(1),d.cc("ngModel",t.login.login),d.zb(1),d.cc("ngIf",!t.equalPassword),d.zb(1),d.Bb("invalid",!t.equalPassword),d.zb(1),d.cc("ngModel",t.login.password),d.zb(1),d.Bb("invalid",!t.equalPassword),d.zb(1),d.cc("ngModel",t.login.confirPassword),d.zb(4),d.cc("ngModel",t.login.time))},directives:[r.s,r.T,r.S,r.l,r.B,r.v,r.u,r.fb,o.c,o.d,i.i,r.A,r.ab,r.r,r.J,r.k,r.g,r.w],styles:[".inputItem[_ngcontent-%COMP%]{border:1px solid rgba(3,3,3,.1)}.inputItem[_ngcontent-%COMP%], .maginBottom[_ngcontent-%COMP%]{margin-bottom:10px}.invalid[_ngcontent-%COMP%]{border:1px solid var(--ion-color-danger)}"],data:{animation:[Object(w.k)("entryMessage",[Object(w.j)(":enter",[Object(w.i)({opacity:0,transform:"scale(0)"}),Object(w.e)("200ms",Object(w.i)({opacity:1,transform:"scale(1)"}))]),Object(w.j)(":leave",[Object(w.i)({opacity:1,transform:"scale(1)"}),Object(w.e)("200ms",Object(w.i)({opacity:0,transform:"scale(0)"}))])])]}}),U),T=n("lNB8"),O=n("7JkF"),z=function(e){return["/logs",e]};function _(e,t){if(1&e){var n=d.Nb();d.Mb(0,"ion-item-sliding"),d.Mb(1,"ion-item"),d.Mb(2,"ion-checkbox",6),d.Ub("ionChange",(function(e){d.hc(n);var i=t.$implicit;return d.Wb().statusUser(e,i)})),d.Lb(),d.Mb(3,"ion-label"),d.Mb(4,"strong"),d.lc(5),d.Lb(),d.Kb(6,"br"),d.Mb(7,"strong"),d.lc(8,"Creado: "),d.Lb(),d.lc(9),d.Lb(),d.Lb(),d.Mb(10,"ion-item-options",7),d.Mb(11,"ion-item-option",8),d.Ub("click",(function(){d.hc(n);var e=t.$implicit;return d.Wb().add(e)})),d.Kb(12,"ion-icon",9),d.Lb(),d.Mb(13,"ion-item-option",10),d.Ub("click",(function(){d.hc(n);var e=t.$implicit;return d.Wb().history(e)})),d.Kb(14,"ion-icon",11),d.Lb(),d.Mb(15,"ion-item-option",12),d.Kb(16,"ion-icon",13),d.Lb(),d.Mb(17,"ion-item-option",14),d.Ub("click",(function(){d.hc(n);var e=t.$implicit;return d.Wb().editUser(e)})),d.Kb(18,"ion-icon",15),d.Lb(),d.Mb(19,"ion-item-option",16),d.Ub("click",(function(){d.hc(n);var e=t.$implicit;return d.Wb().deleteUser(e)})),d.Kb(20,"ion-icon",17),d.Lb(),d.Lb(),d.Lb()}if(2&e){var i=t.$implicit;d.zb(2),d.cc("checked","on"===i.status),d.zb(3),d.mc(i.name),d.zb(4),d.nc(" ",i.dateCreatedUser," "),d.zb(6),d.cc("routerLink",d.fc(4,z,i._id))}}var R,E,P,j,J=[{path:"",component:(R=function(){function e(t,n,i,o,r,s,a){var c=this;_classCallCheck(this,e),this.modalCtrl=t,this.apiEntrena=n,this.storage=i,this.toastCrtrl=o,this.alertCtrl=r,this.socket=s,this.dataCompany=a,this.listUsersBasic=[],this.text="",this.color="",this.dataCompany.$color.subscribe((function(e){c.color=e}))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.listUsers()}},{key:"listUsers",value:function(){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getLogin();case 2:(t=e.sent)&&this.apiEntrena.getUsersBasic(t[0].token).subscribe((function(e){console.log(e),"ok"===e.status?n.listUsersBasic=e.response:n.toastCrtrl.newCreatedToast("No se pudo listar los usuarios, intentelo mas tarde",!1)}),(function(e){n.toastCrtrl.newCreatedToast("No se pudo listar los usuarios, intentelo mas tarde",!1)}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"modalUser",value:function(e,t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalCtrl.create({component:x,componentProps:{action:e,data:t},keyboardClose:!0});case 2:return i=n.sent,n.next=5,i.present();case 5:return n.next=7,i.onWillDismiss();case 7:(o=n.sent)&&o.data.reload&&this.listUsers();case 9:case"end":return n.stop()}}),n,this)})))}},{key:"editUser",value:function(e){this.modalUser("edit",{login:e.login,password:e.password,confirPassword:e.password,name:e.name,time:e.configuration.timeLimit,id:e._id})}},{key:"deleteUser",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:"Esta seguro de eliminar este usuario ?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Aceptar",handler:function(){return Object(a.a)(i,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.storage.getLogin();case 2:(n=t.sent)&&this.apiEntrena.deleteUserBasic(n[0].token,e._id).subscribe((function(e){"ok"===e.status?(i.toastCrtrl.newCreatedToast("Usuario eliminado de la lista",!0),i.listUsers()):i.toastCrtrl.newCreatedToast("No se pudo eliminar el usuario, intentelo mas tarde",!1)}),(function(e){i.toastCrtrl.newCreatedToast("No se pudo eliminar el usuario, intentelo mas tarde",!1)}));case 4:case"end":return t.stop()}}),t,this)})))}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"add",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:M,componentProps:{user:e._id}});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"history",value:function(e){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:m,componentProps:{user:e._id}});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"statusUser",value:function(e,t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.storage.getLogin();case 2:(i=n.sent)&&this.apiEntrena.statusUser({id:t._id,status:e.detail.checked,timeLimit:t.configuration.timeLimit},i[0].token).subscribe((function(n){console.log(n),"ok"===n.status?(e.detail.checked||o.socket.emit("changeStatusUser",{_id:t._id}),o.toastCrtrl.newCreatedToast("User status changed successfully",!0)):o.toastCrtrl.newCreatedToast("Could not change user status",!1)}),(function(e){o.toastCrtrl.newCreatedToast("Could not change user status",!1)}));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"changeText",value:function(e){this.text=e.detail.value}}]),e}(),R.\u0275fac=function(e){return new(e||R)(d.Jb(r.Y),d.Jb(c.a),d.Jb(l.a),d.Jb(u.a),d.Jb(r.a),d.Jb(O.a),d.Jb(T.a))},R.\u0275cmp=d.Db({type:R,selectors:[["app-admin-users"]],decls:12,vars:7,consts:[[3,"color"],["mode","ios","placeholder","Buscar Usuario",3,"ionChange"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"color","click"],["name","add"],["value","","color","secondary","slot","start",3,"checked","ionChange"],["side","end"],["color","success",3,"click"],["name","add","slot","icon-only"],["color","secondary",3,"click"],["name","list","slot","icon-only"],["color","primary",3,"routerLink"],["name","information","slot","icon-only"],["color","warning",3,"click"],["name","pencil","slot","icon-only"],["color","danger",3,"click"],["name","trash","slot","icon-only"]],template:function(e,t){1&e&&(d.Mb(0,"ion-header"),d.Mb(1,"ion-toolbar",0),d.Mb(2,"ion-title"),d.lc(3,"Control de usuarios"),d.Lb(),d.Lb(),d.Lb(),d.Mb(4,"ion-content"),d.Mb(5,"ion-searchbar",1),d.Ub("ionChange",(function(e){return t.changeText(e)})),d.Lb(),d.Mb(6,"ion-list"),d.kc(7,_,21,6,"ion-item-sliding",2),d.Xb(8,"search"),d.Lb(),d.Mb(9,"ion-fab",3),d.Mb(10,"ion-fab-button",4),d.Ub("click",(function(){return t.modalUser("create",{})})),d.Kb(11,"ion-icon",5),d.Lb(),d.Lb(),d.Lb()),2&e&&(d.zb(1),d.cc("color",t.color),d.zb(6),d.cc("ngForOf",d.Zb(8,3,t.listUsersBasic,t.text,"name")),d.zb(3),d.cc("color",t.color))},directives:[r.s,r.T,r.S,r.l,r.K,r.fb,r.B,i.h,r.n,r.o,r.t,r.z,r.v,r.i,r.b,r.A,r.y,r.x,r.db,s.g],pipes:[b.a],styles:[""]}),R)}],N=((E=function e(){_classCallCheck(this,e)}).\u0275mod=d.Hb({type:E}),E.\u0275inj=d.Gb({factory:function(e){return new(e||E)},imports:[[s.h.forChild(J)],s.h]}),E),B=[{path:"",component:x}],D=((j=function e(){_classCallCheck(this,e)}).\u0275mod=d.Hb({type:j}),j.\u0275inj=d.Gb({factory:function(e){return new(e||j)},imports:[[s.h.forChild(B)],s.h]}),j),I=((P=function e(){_classCallCheck(this,e)}).\u0275mod=d.Hb({type:P}),P.\u0275inj=d.Gb({factory:function(e){return new(e||P)},imports:[[i.b,o.a,r.U,D]]}),P),A=n("BQi/");n.d(t,"AdminUsersPageModule",(function(){return K}));var W,K=((W=function e(){_classCallCheck(this,e)}).\u0275mod=d.Hb({type:W}),W.\u0275inj=d.Gb({factory:function(e){return new(e||W)},imports:[[i.b,o.a,r.U,N,I,A.a]]}),W)}}]);