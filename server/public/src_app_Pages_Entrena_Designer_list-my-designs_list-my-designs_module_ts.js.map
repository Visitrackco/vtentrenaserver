{"version":3,"file":"src_app_Pages_Entrena_Designer_list-my-designs_list-my-designs_module_ts.js","mappings":"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","sources":["./src/app/Pages/Entrena/Designer/list-my-designs/list-my-designs-routing.module.ts","./src/app/Pages/Entrena/Designer/list-my-designs/list-my-designs.module.ts","./src/app/Pages/Entrena/Designer/list-my-designs/list-my-designs.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListMyDesignsPage } from './list-my-designs.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListMyDesignsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListMyDesignsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListMyDesignsPageRoutingModule } from './list-my-designs-routing.module';\n\nimport { ListMyDesignsPage } from './list-my-designs.page';\nimport { PipesModule } from 'src/app/Pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ListMyDesignsPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [ListMyDesignsPage]\n})\nexport class ListMyDesignsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ApiEntrenaService } from 'src/app/Services/Api/ApiEntrena.service';\nimport { DataComparnyService } from 'src/app/Services/dataCompany.service';\nimport { StorageWebService } from 'src/app/Services/Storage/StorageWeb.service';\nimport { ToastService } from 'src/app/Services/Utilities/Toast.service';\nimport { environments } from 'src/environments/environment.prod';\n\n@Component({\n  selector: 'app-list-my-designs',\n  templateUrl: './list-my-designs.page.html',\n  styleUrls: ['./list-my-designs.page.scss'],\n})\nexport class ListMyDesignsPage implements OnInit {\n\n\n  listDesigner = [];\n  role = '';\n  text = '';\n\n  color = '';\n\n  constructor(\n    private router: Router,\n    private apiEntrena: ApiEntrenaService,\n    private storage: StorageWebService,\n    private toasCtrl: ToastService,\n    private dataCompany: DataComparnyService\n    ) { \n    \n      this.dataCompany.$color.subscribe((color) => {\n          this.color = color;\n      })\n\n    }\n\n  ngOnInit() {\n  }\n\n  async ionViewWillEnter(){\n   this.ListDesigners();\n   const login = await this.storage.getLogin();;\n   if(login) {\n     this.loadDataMenu(login[0]);\n   }\n  }\n\n\n  loadDataMenu(login) {\n\n    let user = '';\n\n    if (login.data.role === 'USER_ENTRENA') {\n      user = login.data.parentAdmin;\n    } else {\n      user = login.data._id;\n    }\n\n\n    this.apiEntrena.preferencesLoad({user}, login.token).subscribe((data: any) => {\n      console.log(data, 'hola diseÃ±os')\n      if (data.status === 'ok') {\n\n        if (data.response) {\n          const theme = data.response.theme ? data.response.theme : 'light';\n          this.dataCompany.setColor( theme);\n          this.dataCompany.getDataCompany({\n            logo: data.response.logo ? data.response.logo : 'https://s3.amazonaws.com/logocompanies/D0DE636B-6CED-41BB-BA27-6ED7A1AE771D.jpg',\n            name: data.response.nameCompany  ? data.response.nameCompany : 'VTEntrena Application'\n          })\n        }\n        \n        } \n    }, (err) => {\n      this.dataCompany.getDataCompany({\n        logo: '',\n        name:  'VTEntrena Application'\n      })\n    })\n\n  }\n\n  reload() {\n    this.ListDesigners();\n  }\n\n  async ListDesigners() {\n    const login = await this.storage.getLogin();\n\n    if ( login ) {\n        const id = login[0].data.role === 'USER_ENTRENA' ? login[0].data.parentAdmin : '';\n        console.log(id, 'id');\n        this.role = login[0].data.role;\n        this.apiEntrena.readDesignersAll(login[0].token, id).subscribe((data: any) => {\n          console.log(data);\n          if (data.status === 'ok') {\n            this.listDesigner = data.response;\n          } else {\n            this.toasCtrl.newCreatedToast('Could not list design, please try again later', false)\n          }\n        }, (error) => {\n          this.toasCtrl.newCreatedToast('Could not list design, please try again later', false)\n        })\n    }\n  }\n\n  async newDesigner() {\n    const login = await this.storage.getLogin();\n\n    if ( login ) {\n        this.apiEntrena.createDesigner(login[0].token).subscribe((data: any) => {\n          if (data.status === 'ok') {\n            this.router.navigate(['/designer', data.response._id]);\n          } else {\n            this.toasCtrl.newCreatedToast('Could not create design, please try again later', false)\n          }\n        }, (error) => {\n          this.toasCtrl.newCreatedToast('Could not create design, please try again later', false)\n        })\n    }\n  }\n\n  changeText( event ) {\n    this.text = event.detail.value;\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}