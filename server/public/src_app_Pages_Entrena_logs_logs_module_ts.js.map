{"version":3,"file":"src_app_Pages_Entrena_logs_logs_module_ts.js","mappings":"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","sources":["./src/app/Pages/Entrena/logs/logs-routing.module.ts","./src/app/Pages/Entrena/logs/logs.module.ts","./src/app/Pages/Entrena/logs/logs.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LogsPage } from './logs.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LogsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LogsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LogsPageRoutingModule } from './logs-routing.module';\n\nimport { LogsPage } from './logs.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LogsPageRoutingModule\n  ],\n  declarations: [LogsPage]\n})\nexport class LogsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiEntrenaService } from 'src/app/Services/Api/ApiEntrena.service';\nimport { StorageWebService } from 'src/app/Services/Storage/StorageWeb.service';\nimport { ToastService } from 'src/app/Services/Utilities/Toast.service';\n\n@Component({\n  selector: 'app-logs',\n  templateUrl: './logs.page.html',\n  styleUrls: ['./logs.page.scss'],\n})\nexport class LogsPage implements OnInit {\n\n  logs = [];\n\n  constructor(\n    private activeRouter: ActivatedRoute,\n    private apiEntrena: ApiEntrenaService,\n    private storage: StorageWebService,\n    private toastCtrl: ToastService,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter(){\n     this.loadLogs();\n  }\n\n  async loadLogs() {\n\n    const login = await this.storage.getLogin();\n\n    if ( login ) {\n      this.apiEntrena.readLogs(login[0].token, this.activeRouter.snapshot.paramMap.get('id')).subscribe((data: any) => {\n          if (data.status === 'ok') {\n            this.logs = data.response;\n          } else {\n            this.toastCtrl.newCreatedToast('Could not get logs', false);\n            this.router.navigate(['/admin-users']);\n          }\n      }, (err) => {\n        this.toastCtrl.newCreatedToast('Could not get logs', false);\n        this.router.navigate(['/admin-users']);\n      })\n    }\n\n  }\n\n  async export() {\n    const login = await this.storage.getLogin();\n\n    if ( login ) {\n      this.apiEntrena.exportLogs(login[0].token, this.activeRouter.snapshot.paramMap.get('id')).subscribe((data: any) => {\n          if (data.status === 'ok') {\n            this.toastCtrl.newCreatedToast('successfully generated excel file', false);\n            // tslint:disable-next-line:max-line-length\n            window.open('http://localhost:3000/vtentrena/user/logs/download?path=' + data.path + '&name=' + 'Logs-' + login[0].data.name + '.xlsx' , '_self');\n          } else {\n            this.toastCtrl.newCreatedToast(`Could not export logs ${data.error}`, false);\n          }\n      }, (err) => {\n        this.toastCtrl.newCreatedToast(`Could not export logs ${err}`, false);\n      })\n    }\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}