{"version":3,"file":"src_app_Pages_interfaces_agilissa_agilissa_module_ts.js","mappings":"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","sources":["./src/app/Pages/interfaces/agilissa/agilissa-routing.module.ts","./src/app/Pages/interfaces/agilissa/agilissa.module.ts","./src/app/Pages/interfaces/agilissa/agilissa.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AgilissaPage } from './agilissa.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AgilissaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AgilissaPageRoutingModule {}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AgilissaPageRoutingModule } from './agilissa-routing.module';\n\nimport { AgilissaPage } from './agilissa.page';\n\n@NgModule({\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AgilissaPageRoutingModule,\n\n  ],\n  declarations: [AgilissaPage]\n})\nexport class AgilissaPageModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\n\n\nimport { CalendarOptions, defineFullCalendarElement, FullCalendarElement } from '@fullcalendar/web-component';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport interactionPlugin, {Draggable} from '@fullcalendar/interaction';\nimport timeGridPlugin from '@fullcalendar/timegrid';\n\nimport { ModalController } from '@ionic/angular';\nimport * as moment from 'moment';\n\n\nimport { ApiService } from 'src/app/Services/Api/Api.service';\nimport * as _ from 'underscore';\n\n\ndefineFullCalendarElement();\n@Component({\n  selector: 'app-agilissa',\n  templateUrl: './agilissa.page.html',\n  styleUrls: ['./agilissa.page.scss'],\n})\nexport class AgilissaPage implements OnInit {\n\n \n  \n  calendarOptions;\n\n  activities = [];\n\n  options = [\n    {\n      text: 'EXPLORACION O VISITA EN FRIO',\n      check: true,\n      class: 'rosa'\n    },\n    {\n      text: 'LLAMADA COMERCIAL',\n      check: true,\n      class: 'amarillo'\n    },\n    {\n      text: 'ENVIO DE CORREO',\n      check: true,\n      class: 'verde'\n    },\n    {\n      text: 'REUNION COMERCIAL PRESENCIAL O VIRTUAL',\n      check: true,\n      class: 'azul'\n    },\n    {\n      text: 'FIDELIZACION',\n      check: true,\n      class: 'naranja'\n    },\n    {\n      text: 'CAPACITACION PRESENCIAL O VIRTUAL',\n      check: true,\n      class: 'morado'\n    }\n  ]\n\n\n\n  cf;\n\n  load = false;\n\n  mes = moment().locale('es').format('MMMM YYYY');\n  @ViewChild('calendar') calendarRef: ElementRef<FullCalendarElement>;\n  @ViewChild('external') events: ElementRef;\n\n  \n/*\n  ngAfterViewInit() {\n    console.log(\"PEOPLE LIST ngAfterViewInit() START !!!\")\n  \n    new Draggable(this.events.nativeElement, {\n      itemSelector: '.fc-event',\n      eventData: function(eventEl) {\n        console.log(\"DRAG !!!\");\n     \n        //var returnedEvent = self.createEventObject(self.selectedShift.value, eventEl.innerText);\n  \n        //return returnedEvent;\n  \n        var returnedEvent = {\n          title: eventEl.innerText,\n          startTime: \"18:00\",\n          duration: {\n            hours: 8\n          }\n        };\n  \n        return returnedEvent;\n      }\n    });\n  \n  }\n  */\n\n\n\n \n\n  handleDateClick(arg) {\n    this.abrir(arg.dateStr)\n  }\n\n  constructor(\n    private mimodal: ModalController,\n    private api: ApiService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  getColor(item) {\n    \n\n    if (item == 'EXPLORACION O VISITA EN FRIO') {\n      return '#E85B6A'\n    } else if (item == 'LLAMADA COMERCIAL') {\n      return '#F5BC41'\n    } else if (item == 'ENVIO DE CORREO') {\n      return '#7CE675'\n    } else if (item == 'REUNION COMERCIAL PRESENCIAL O VIRTUAL') {\n      return '#4CA1EC'\n    } else if (item == 'FIDELIZACION') {\n      return '#E85242'\n    } else if (item == 'CAPACITACION PRESENCIAL O VIRTUAL') {\n      return '#8039BB'\n    } else {\n      return '#E85B6A';\n    }\n\n  }\n\n  ionViewWillEnter() {\n\n  \n\n   \n    setTimeout(() => {\n    \n      this.load = true;\n\n      const mimodal = this.mimodal;\n\n \n      this.calendarOptions = {\n        plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin],\n        dateClick: this.handleDateClick.bind(this),\n       \n        stickyHeaderDates: true,\n        \n        weekends: true,\n        timeZone: 'local',\n        locale: 'es',\n        \n        buttonText: {\n          'today': 'Hoy',\n          \n          week: 'Semana',\n          month: 'Mes',\n          day: 'Dia'\n        },\n        // initialView: 'timeGridWeek',\n        \n        /*businessHours: \n        {daysOfWeek: [ 1], // Monday - Thursday\n\n        startTime: '10:00', // a start time (10am in this example)\n        endTime: '18:00', }\n      , */\n  \n      \n        droppable: true,\n     /*   drop: function(arg) {\n          console.log(arg,  arg.draggedEl.getAttribute('horario'))\n         \n          // is the \"remove after drop\" checkbox checked?\n         // if (document.getElementById(\"drop-remove\").checked) {\n              // if so, remove the element from the \"Draggable Events\" list\n            //  arg.draggedEl.parentNode.removeChild(arg.draggedEl);\n        //  }\n      }, */\n        \n        headerToolbar: {\n          left: 'prev,next today',\n          \n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n\n        datesSet: this.getDate.bind(this),\n  \n      };\n    \n      this.getEvents()\n    //  this.getActivities();\n   //   this.getEvents();\n    }, 2000)\n  \n  }\n\n  getDate(arg: any) {\n    console.log(arg)\n    const from = moment(arg.startStr).format('YYYY-MM-DD HH:mm')\n    const to = moment(arg.endStr).format('YYYY-MM-DD HH:mm')\n\n    this.getActivities({\n      from,\n      to\n    })\n  }\n\n  async getActivityInfo(guid) {\n    return new Promise((resolve, reject) => {\n      this.api.getActivitieInfo('4A21BA9F17A8EB2C582004A213127A88', guid).subscribe((data) => {\n        if (data) {\n          resolve(data)\n        } else {\n          resolve(false);\n        }\n        \n        \n      })\n    })\n  }\n\n  getActivities(data) {\n    if (this.activities.length > 0) {\n      this.calendarRef.nativeElement.getApi().removeAllEvents();\n    }\n    this.activities = [];\n  \n    this.api.getActivities2('4A21BA9F17A8EB2C582004A213127A88', data.from, data.to, '0C664C5A-3605-486F-94FE-BC3A027BCF65').subscribe(async (data: any) => {\n      console.log(data)\n\n      for (const item of data) {\n          const resp: any = await this.getActivityInfo(item.GUID);\n\n          if (resp) {\n\n           \n\n            this.activities.push(resp)\n\n          }\n      }\n\n      console.log(this.activities)\n\n      _.each(this.activities, (item, i) => {\n        const gestion = item.Values.filter((val) => val.apiId == 'GESTION')\n        let valor = '';\n\n        if (gestion.length > 0) {\n          valor = gestion[0].Value\n        }\n         this.calendarRef.nativeElement.getApi().addEvent({\n              title: item.LocationName,\n              start: moment(item.DispatchDateTime).format('YYYY-MM-DD HH:mm'),\n              end:  moment(item.DispatchDateTime).add(1,'hours').format('YYYY-MM-DD HH:mm'),\n              id: JSON.stringify([]),\n              allDay: false,\n              backgroundColor: this.getColor(valor),\n              textColor: '#000000',\n       \n\n              \n            }) \n      })\n\n  \n\n      /* \n      \n            */\n\n    })\n  }\n\n  getEvents() {\n    setTimeout(() => {\n      \n    }, 1000)\n  }\n\n  abrir(arg) {\n    console.log(arg)\n\n  } \n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}