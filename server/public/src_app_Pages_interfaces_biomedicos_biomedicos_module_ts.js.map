{"version":3,"file":"src_app_Pages_interfaces_biomedicos_biomedicos_module_ts.js","mappings":"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","sources":["./src/app/Pages/interfaces/biomedicos/biomedicos-routing.module.ts","./src/app/Pages/interfaces/biomedicos/biomedicos.module.ts","./src/app/Pages/interfaces/biomedicos/biomedicos.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BiomedicosPage } from './biomedicos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BiomedicosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BiomedicosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BiomedicosPageRoutingModule } from './biomedicos-routing.module';\n\nimport { BiomedicosPage } from './biomedicos.page';\nimport { PipesModule } from 'src/app/Pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BiomedicosPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [BiomedicosPage]\n})\nexport class BiomedicosPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AlertController, ModalController, PopoverController, ToastController } from '@ionic/angular';\nimport { OpcionesCDOComponent } from 'src/app/components/opciones-cdo/opciones-cdo.component';\nimport { ApiService } from 'src/app/Services/Api/Api.service';\nimport * as _ from 'underscore'\nimport * as moment from 'moment-timezone'\nimport { ActivatedRoute } from '@angular/router';\nimport { ControlcdoasistencialComponent } from 'src/app/components/controlcdoasistencial/controlcdoasistencial.component';\nimport { LoadingService } from 'src/app/Services/Utilities/Loading.service';\n\n@Component({\n  selector: 'app-biomedicos',\n  templateUrl: './biomedicos.page.html',\n  styleUrls: ['./biomedicos.page.scss'],\n})\nexport class BiomedicosPage implements OnInit {\n\n  actividades = [];\n  unicos = [];\n\n  filtro = 'Todos'\n  txt = '';\n\n  cargaActividades;\n  tkn;\n\n  padres = [];\n\n  constructor(\n    private api: ApiService,\n    private popover: PopoverController,\n    private route: ActivatedRoute,\n    private modalCtrl: ModalController,\n    private alert: AlertController,\n    private toast: ToastController,\n    private loading: LoadingService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  getInfo(guid) {\n    return new Promise((resolve, reject) => {\n      this.api.getActivitieInfo(this.tkn, guid).subscribe((data) => {\n        if (data) {\n          resolve(data)\n        } else {\n          resolve (false)\n        }\n      })\n    })\n  }\n\n\n  ionViewWillEnter() {\n\n    this.route.queryParams.subscribe((param) => {\n      console.log(param);\n      this.tkn = param.tkn;\n      this.cargarData()\n    })\n\n  \n   \n  }\n\n  // HreSCg1x3x BIOMEDICOS 2\n\n  createOnlyActivity(guid, data) {\n\n    return new Promise((resolve, reject) => {\n\n\n      this.api.aceptActivity({\n        AccessToken: this.tkn,\n        FormGUID: 'HreSCg1x3x',\n        LocationGUID: '',\n        AssetGUID: '',\n        UserGUID:  guid,\n        Duration: \"60\",\n        DispachDateTime: moment().add(1, 'minutes').format('YYYY-MM-DD HH:mm'),\n        Values: JSON.stringify([]),\n        ParentGUID: data.GUID,\n        ActivityGUID: '',\n        CompanyStatusGUID: 'B2A827E7-9D30-4C59-B505-F527C787322A'\n      }).subscribe(async (dat: any) => {\n        console.log(dat)\n      \n        if (dat.Status === 'OK') {\n\n          resolve(true)\n\n        } else {\n          resolve(false)\n        }\n      })\n    })\n\n  }\n\n  async tomar(acti, i) {\n    console.log(acti)\n\n    const alert = await this.alert.create({\n      message: 'Seleccione su nombre',\n      header: 'Atención',\n      inputs: [\n        {\n          type: 'radio',\n          value: '98516C1B-6290-417E-BA09-0D8F6AAE9D80',\n          label: 'Ingryd Rocio'\n        },\n        {\n          type: 'radio',\n          value: '905BA1D1-CF3D-4B37-8ACD-FC2880C4AB41',\n          label: 'Paola Andrea'\n        },\n        {\n          type: 'radio',\n          value: '615E96FF-B84D-4BAF-9558-F7DE012BAE8E',\n          label: 'Natalia Stefania'\n        },\n        {\n          type: 'radio',\n          value: '3E1B99CF-4320-41BF-B69E-31B49D431FAB',\n          label: 'Marinella Galindez'\n        },\n        {\n          type: 'radio',\n          value: '819DD948-FE4C-4EB0-8A6F-FCD4D2DF04E7',\n          label: 'Yenny Magaly'\n        },\n    \n        \n\n        \n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n\n        },\n        {\n          text: 'Aceptar',\n          handler: async (data) => {\n            console.log(data)\n            if (data) {\n\n              this.loading.createLoading('Tomando actividad')\n\n              this.api.childs({\n                AccessToken: this.tkn,\n                ParentGUID: acti.GUID\n              }).subscribe(async (dat: any) => {\n                const form = dat.filter( (dt) => dt.SurveyGUID == 'HreSCg1x3x');\n\n                if (form.length == 0) {\n\n                  const resp = await this.createOnlyActivity(data, acti)\n\n                  \n                  if (!resp) {\n                    const toast = await this.toast.create({\n                      message: 'No se pudo tomar la actividad',\n                      header: 'Error',\n                      duration: 3000\n                    })\n      \n                    await toast.present();\n                  } else {\n                    this.cargarData();\n                  }\n\n                  this.loading.cancelLoading();\n                } else {\n                  this.loading.cancelLoading();\n                  const toast = await this.toast.create({\n                    message: 'La actividad ya ha sido tomada por otro usuario',\n                    header: 'Atención!',\n                    duration: 3000\n                  })\n    \n                  await toast.present();\n                  this.actividades.splice(i, 1)\n                }\n            \n              }, async (err) => {\n                const toast = await this.toast.create({\n                  message: 'No se pudo tomar la actividad',\n                  header: 'Error',\n                  duration: 3000\n                })\n  \n                await toast.present();\n                this.loading.cancelLoading();\n              })\n     \n             \n\n             \n\n            } else {\n\n           \n\n              const toast = await this.toast.create({\n                message: 'Debe seleccionar un usuario',\n                header: 'Mensaje',\n                duration: 3000\n              })\n\n              await toast.present();\n              \n            }\n           \n          }\n        }\n      ]\n    })\n\n   await alert.present();\n\n\n    \n \n  }\n\n  cargarData() {\n    this.cargaActividades = false;\n    this.actividades = [];\n    this.api.getActivities2(this.tkn, moment().subtract(1, 'days').format('YYYY-MM-DD HH:mm') , moment().format('YYYY-MM-DD HH:mm'), 'FCA171F7-227E-41FA-9129-CC5D3D7F20B3').subscribe(async (data: any) => {\n     \n\n      console.log(data)\n    \n\n      \n\n      data = data.filter((item) => item.CompanyStatusName == 'Completado')\n\n    \n\n      for (const item of data) {\n\n        const miData: any = await this.getInfo(item.GUID)\n\n        if (miData) {\n          miData.color = this.color(miData.CompanyStatusName);\n          miData.icolor = this.color(miData.CompanyStatusName, true);\n\n          const bio = miData.Values.filter((it) => it.apiId == 'EXISTEN_EQUIPOS_BIOMEDICOS') \n\n          if (bio.length > 0) {\n            if (bio[0].Value == 'SI'){\n              this.api.childs({\n                AccessToken: this.tkn,\n                ParentGUID: item.GUID\n              }).subscribe((dat: any) => {\n                console.log(dat)\n                const form = dat.filter((dt) => dt.SurveyGUID == 'HreSCg1x3x');\n\n                if (form.length == 0) {\n                  this.actividades.push(miData);\n                }\n            \n              })\n              \n            } \n          } \n\n      \n        \n        }\n        \n\n      }\n      this.cargaActividades = true;\n\n      console.log(this.actividades)\n\n   \n   \n    })\n  }\n\n  cambio(event) {\n    this.txt = event.detail.value;\n  }\n\n  async handleRefresh(event) {\n\n    await this.cargarData();\n    this.filtro = 'Todos'\n    event.target.complete();\n  }\n\n  color(name, ic?) {\n    if (name == 'CANCELADO POR DEMORA') {\n      return ic ? 'igris' : 'gris'\n    }\n    if (name == 'Completado') {\n      return ic ? 'iverde' :  'verde'\n    }\n\n    if (name == 'EN PROCESO DE ASEO') {\n      return ic ? 'iamarillo' :  'amarillo'\n    }\n\n    if (name == 'PENDIENTE ASEO') {\n      return ic ? 'irojo' :  'rojo'\n    }\n\n    if (name == 'ELIMINADA POR LIMPIEZA PREVIA A SOLICITUD') {\n      return ic ? 'iazul' :  'azul'\n    }\n\n    \n  }\n\n  async filtros(event ) {\n\n    const miPopover = await this.popover.create({\n      component: OpcionesCDOComponent,\n      componentProps: {\n        opciones: this.unicos\n      },\n      event: event\n    })\n\n    await miPopover.present();\n\n    const dataResume: any = await miPopover.onWillDismiss();\n\n    if (dataResume.data) {\n      this.filtro = dataResume.data.by;\n    }\n\n  }\n\n  async control(event ) {\n\n    const modal = await this.modalCtrl.create({\n      component: ControlcdoasistencialComponent,\n      componentProps: {\n        padres: this.padres,\n        data: this.actividades,\n        tkn: this.tkn\n      }\n  \n    })\n\n    await modal.present();\n\n    const resp = await modal.onWillDismiss();\n\n    if (resp.data) {\n\n      if (resp.data.revisados.length > 0) {\n        _.each(resp.data.revisados, (ele, i) => {\n          _.each(this.actividades, (item, j) => {\n            if (item.ParentGUID == ele) {\n              item.CompanyStatusName = 'ELIMINADA POR LIMPIEZA PREVIA A SOLICITUD'\n              item.color = this.color(item.CompanyStatusName);\n              item.icolor = this.color(item.CompanyStatusName, true);\n            }\n          })\n        })\n      }\n\n    } \n\n  \n\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}