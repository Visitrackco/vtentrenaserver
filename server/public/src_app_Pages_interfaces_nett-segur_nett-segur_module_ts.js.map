{"version":3,"file":"src_app_Pages_interfaces_nett-segur_nett-segur_module_ts.js","mappings":"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","sources":["./src/app/Pages/interfaces/nett-segur/nett-segur-routing.module.ts","./src/app/Pages/interfaces/nett-segur/nett-segur.module.ts","./src/app/Pages/interfaces/nett-segur/nett-segur.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NettSegurPage } from './nett-segur.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NettSegurPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NettSegurPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NettSegurPageRoutingModule } from './nett-segur-routing.module';\n\nimport { NettSegurPage } from './nett-segur.page';\nimport { PipesModule } from 'src/app/Pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NettSegurPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [NettSegurPage]\n})\nexport class NettSegurPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { MenuController, ModalController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { AsignacionnettsegurComponent } from 'src/app/components/asignacionnettsegur/asignacionnettsegur.component';\nimport { ApiService } from 'src/app/Services/Api/Api.service';\n\n@Component({\n  selector: 'app-nett-segur',\n  templateUrl: './nett-segur.page.html',\n  styleUrls: ['./nett-segur.page.scss'],\n})\nexport class NettSegurPage implements OnInit {\n\n  activitiesList = [];\n  load = false;\n  tkn;\n  txt = '';\n  temp = []\n\n\n  constructor(\n    private menuCtrl: MenuController,\n    private api: ApiService,\n    private modalCtrl: ModalController,\n    private route: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n     this.menuCtrl.enable(false, 'menu')\n    this.route.queryParams.subscribe((param) => {\n      console.log(param);\n      this.tkn = param.accesstoken;\n      this.getActivities()\n    })\n  \n   \n   \n  }\n\n  search(event) {\n    this.txt = event.detail.value\n  }\n  getData(guid) {\n    return new Promise((resolve, reject) => {\n      this.api.getActivitieInfo(this.tkn, guid).subscribe((data: any) => {\n        console.log(data, 'DATA')\n        resolve(data);\n      })\n    }) \n  }\n\n  async getActivities() {\n\n      this.api.getActivities2(this.tkn, moment().subtract(3, 'months').format('YYYY-MM-DD HH:mm') , moment().format('YYYY-MM-DD HH:mm'), 'CE30E8A1-9D77-4CD6-97A2-8EC72826E920').subscribe(async (data: any) => {\n      console.log(data);\n\n      data = data.filter((it) => it.CompanyStatusName == 'CREADO')\n\n      if (!data) {\n        this.load = true;\n        return;\n      }\n\n      if (data.length == 0) {\n        this.load = true;\n        return;\n      }\n      \n\n      for (const item of data) {\n          const response: any = await this.getData(item.GUID)\n          if (response) {\n            this.activitiesList.push(response);\n          }\n\n          this.load = true;\n      }\n\n      this.temp = this.activitiesList;\n\n      console.log(this.activitiesList)\n      \n    }, (err) =>  this.load = true )\n\n  }\n\n  async asignar(data) {\n    const modal = await this.modalCtrl.create({\n      component: AsignacionnettsegurComponent,\n      componentProps: {\n        tkn: this.tkn,\n        data\n      }\n    })\n\n    await modal.present();\n    const close = await modal.onWillDismiss();\n    if (close.data) {\n      this.load = false;\n      this.activitiesList = [];\n      this.getActivities();\n    }\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}