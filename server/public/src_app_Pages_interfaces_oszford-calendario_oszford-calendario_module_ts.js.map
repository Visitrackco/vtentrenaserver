{"version":3,"file":"src_app_Pages_interfaces_oszford-calendario_oszford-calendario_module_ts.js","mappings":"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","sources":["./src/app/Pages/interfaces/oszford-calendario/oszford-calendario-routing.module.ts","./src/app/Pages/interfaces/oszford-calendario/oszford-calendario.module.ts","./src/app/Pages/interfaces/oszford-calendario/oszford-calendario.page.ts","./node_modules/@fullcalendar/common/main.js","./node_modules/@fullcalendar/common/vdom.js","./node_modules/@fullcalendar/core/main.js","./node_modules/@fullcalendar/core/vdom.js","./node_modules/@fullcalendar/daygrid/main.js","./node_modules/@fullcalendar/interaction/main.js","./node_modules/@fullcalendar/timegrid/main.js","./node_modules/@fullcalendar/web-component/main.js","./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OszfordCalendarioPage } from './oszford-calendario.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OszfordCalendarioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OszfordCalendarioPageRoutingModule {}\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OszfordCalendarioPageRoutingModule } from './oszford-calendario-routing.module';\n\nimport { OszfordCalendarioPage } from './oszford-calendario.page';\n\n\n@NgModule({\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OszfordCalendarioPageRoutingModule,\n    \n  ],\n  declarations: [OszfordCalendarioPage]\n})\nexport class OszfordCalendarioPageModule {}\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { CalendarOptions, defineFullCalendarElement, FullCalendarElement } from '@fullcalendar/web-component';\nimport dayGridPlugin from '@fullcalendar/daygrid';\n\nimport { ModalController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { OpcionesCDOComponent } from 'src/app/components/opciones-cdo/opciones-cdo.component';\nimport interactionPlugin, {Draggable} from '@fullcalendar/interaction';\nimport timeGridPlugin from '@fullcalendar/timegrid';\n\nimport { ApiService } from 'src/app/Services/Api/Api.service';\nimport * as _ from 'underscore';\n\n  defineFullCalendarElement();\n@Component({\n  selector: 'app-oszford-calendario',\n  templateUrl: './oszford-calendario.page.html',\n  styleUrls: ['./oszford-calendario.page.scss'],\n})\nexport class OszfordCalendarioPage implements OnInit {\n\n  \n  calendarOptions: CalendarOptions = {\n    plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin],\n    dateClick: this.handleDateClick.bind(this),\n  };\n\n  activities = [];\n\n  options = [\n    {\n      text: 'EXPLORACION O VISITA EN FRIO',\n      check: true,\n      class: 'rosa'\n    },\n    {\n      text: 'LLAMADA COMERCIAL',\n      check: true,\n      class: 'amarillo'\n    },\n    {\n      text: 'ENVIO DE CORREO',\n      check: true,\n      class: 'verde'\n    },\n    {\n      text: 'REUNION COMERCIAL PRESENCIAL O VIRTUAL',\n      check: true,\n      class: 'azul'\n    },\n    {\n      text: 'FIDELIZACION',\n      check: true,\n      class: 'naranja'\n    },\n    {\n      text: 'CAPACITACION PRESENCIAL O VIRTUAL',\n      check: true,\n      class: 'morado'\n    }\n  ]\n\n\n\n  cf;\n\n  load = false;\n\n  mes = moment().locale('es').format('MMMM YYYY');\n  @ViewChild('calendar') calendarRef: ElementRef<FullCalendarElement>;\n  @ViewChild('external') events: ElementRef;\n\n  \n/*\n  ngAfterViewInit() {\n    console.log(\"PEOPLE LIST ngAfterViewInit() START !!!\")\n  \n    new Draggable(this.events.nativeElement, {\n      itemSelector: '.fc-event',\n      eventData: function(eventEl) {\n        console.log(\"DRAG !!!\");\n     \n        //var returnedEvent = self.createEventObject(self.selectedShift.value, eventEl.innerText);\n  \n        //return returnedEvent;\n  \n        var returnedEvent = {\n          title: eventEl.innerText,\n          startTime: \"18:00\",\n          duration: {\n            hours: 8\n          }\n        };\n  \n        return returnedEvent;\n      }\n    });\n  \n  }\n  */\n\n\n\n \n\n  handleDateClick(arg) {\n    this.abrir(arg.dateStr)\n  }\n\n  constructor(\n    private mimodal: ModalController,\n    private api: ApiService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  getColor(item) {\n    \n\n    if (item == 'EXPLORACION O VISITA EN FRIO') {\n      return '#E85B6A'\n    } else if (item == 'LLAMADA COMERCIAL') {\n      return '#F5BC41'\n    } else if (item == 'ENVIO DE CORREO') {\n      return '#7CE675'\n    } else if (item == 'REUNION COMERCIAL PRESENCIAL O VIRTUAL') {\n      return '#4CA1EC'\n    } else if (item == 'FIDELIZACION') {\n      return '#E85242'\n    } else if (item == 'CAPACITACION PRESENCIAL O VIRTUAL') {\n      return '#8039BB'\n    } else {\n      return '#E85B6A';\n    }\n\n  }\n\n  ionViewWillEnter() {\n\n  \n\n   \n    setTimeout(() => {\n    \n      this.load = true;\n\n      const mimodal = this.mimodal;\n\n \n      this.calendarOptions = {\n        plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin],\n        dateClick: this.handleDateClick.bind(this),\n       \n        stickyHeaderDates: true,\n        \n        weekends: true,\n        timeZone: 'local',\n        locale: 'es',\n        \n        buttonText: {\n          'today': 'Hoy',\n          \n          week: 'Semana',\n          month: 'Mes',\n          day: 'Dia'\n        },\n        // initialView: 'timeGridWeek',\n        \n        /*businessHours: \n        {daysOfWeek: [ 1], // Monday - Thursday\n\n        startTime: '10:00', // a start time (10am in this example)\n        endTime: '18:00', }\n      , */\n  \n      \n        droppable: true,\n     /*   drop: function(arg) {\n          console.log(arg,  arg.draggedEl.getAttribute('horario'))\n         \n          // is the \"remove after drop\" checkbox checked?\n         // if (document.getElementById(\"drop-remove\").checked) {\n              // if so, remove the element from the \"Draggable Events\" list\n            //  arg.draggedEl.parentNode.removeChild(arg.draggedEl);\n        //  }\n      }, */\n        \n        headerToolbar: {\n          left: 'prev,next today',\n          \n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n\n        datesSet: this.getDate.bind(this),\n  \n      };\n    \n      this.getEvents()\n    //  this.getActivities();\n   //   this.getEvents();\n    }, 1000)\n  \n  }\n\n  getDate(arg: any) {\n    console.log(arg)\n    const from = moment(arg.startStr).format('YYYY-MM-DD HH:mm')\n    const to = moment(arg.endStr).format('YYYY-MM-DD HH:mm')\n\n    this.getActivities({\n      from,\n      to\n    })\n  }\n\n  async getActivityInfo(guid) {\n    return new Promise((resolve, reject) => {\n      this.api.getActivitieInfo('31CA0D6B-1A7F-4778-9F5D-07145AFF14FE', guid).subscribe((data) => {\n        if (data) {\n          resolve(data)\n        } else {\n          resolve(false);\n        }\n        \n        \n      })\n    })\n  }\n\n  getActivities(data) {\n    if (this.activities.length > 0) {\n      this.calendarRef.nativeElement.getApi().removeAllEvents();\n    }\n    this.activities = [];\n  \n    this.api.getActivities2('31CA0D6B-1A7F-4778-9F5D-07145AFF14FE', data.from, data.to, 'F3B9183F-FA9A-4AF1-BB9E-889C8472D3D4').subscribe(async (data: any) => {\n      console.log(data)\n\n      for (const item of data) {\n          const resp: any = await this.getActivityInfo(item.GUID);\n\n          if (resp) {\n\n           \n\n            this.activities.push(resp)\n\n          }\n      }\n\n      console.log(this.activities)\n\n      _.each(this.activities, (item, i) => {\n        const gestion = item.Values.filter((val) => val.apiId == 'GESTION')\n        let valor = '';\n\n        if (gestion.length > 0) {\n          valor = gestion[0].Value\n        }\n         this.calendarRef.nativeElement.getApi().addEvent({\n              title: item.LocationName,\n              start: moment(item.DispatchDateTime).format('YYYY-MM-DD HH:mm'),\n              end:  moment(item.DispatchDateTime).add(1,'hours').format('YYYY-MM-DD HH:mm'),\n              id: JSON.stringify([]),\n              allDay: false,\n              backgroundColor: this.getColor(valor),\n              textColor: '#000000',\n       \n\n              \n            }) \n      })\n\n  \n\n      /* \n      \n            */\n\n    })\n  }\n\n  getEvents() {\n    setTimeout(() => {\n      \n    }, 1000)\n  }\n\n  abrir(arg) {\n    console.log(arg)\n\n  } \n\n}\n","/*!\nFullCalendar v6.0.0-beta.1\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport { __assign } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n/* classes attached to <body> */\\n/* TODO: make fc-event selector work when calender in shadow DOM */\\n.fc-not-allowed,\\n.fc-not-allowed .fc-event { /* override events' custom cursors */\\n  cursor: not-allowed;\\n}\\n\\n/* TODO: not attached to body. attached to specific els. move */\\n.fc-unselectable {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  -webkit-touch-callout: none;\\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\n}\\n.fc {\\n  /* layout of immediate children */\\n  display: flex;\\n  flex-direction: column;\\n\\n  font-size: 1em\\n}\\n.fc,\\n  .fc *,\\n  .fc *:before,\\n  .fc *:after {\\n    box-sizing: border-box;\\n  }\\n.fc table {\\n    border-collapse: collapse;\\n    border-spacing: 0;\\n    font-size: 1em; /* normalize cross-browser */\\n  }\\n.fc th {\\n    text-align: center;\\n  }\\n.fc th,\\n  .fc td {\\n    vertical-align: top;\\n    padding: 0;\\n  }\\n.fc a[data-navlink] {\\n    cursor: pointer;\\n  }\\n.fc a[data-navlink]:hover {\\n    text-decoration: underline;\\n  }\\n.fc-direction-ltr {\\n  direction: ltr;\\n  text-align: left;\\n}\\n.fc-direction-rtl {\\n  direction: rtl;\\n  text-align: right;\\n}\\n.fc-theme-standard td,\\n  .fc-theme-standard th {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n  }\\n/* for FF, which doesn't expand a 100% div within a table cell. use absolute positioning */\\n/* inner-wrappers are responsible for being absolute */\\n/* TODO: best place for this? */\\n.fc-liquid-hack td,\\n  .fc-liquid-hack th {\\n    position: relative;\\n  }\\n\\n@font-face {\\n  font-family: 'fcicons';\\n  src: url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format('truetype');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n\\n.fc-icon {\\n  /* added for fc */\\n  display: inline-block;\\n  width: 1em;\\n  height: 1em;\\n  text-align: center;\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n\\n  /* use !important to prevent issues with browser extensions that change fonts */\\n  font-family: 'fcicons' !important;\\n  speak: none;\\n  font-style: normal;\\n  font-weight: normal;\\n  font-variant: normal;\\n  text-transform: none;\\n  line-height: 1;\\n\\n  /* Better Font Rendering =========== */\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.fc-icon-chevron-left:before {\\n  content: \\\"\\\\e900\\\";\\n}\\n\\n.fc-icon-chevron-right:before {\\n  content: \\\"\\\\e901\\\";\\n}\\n\\n.fc-icon-chevrons-left:before {\\n  content: \\\"\\\\e902\\\";\\n}\\n\\n.fc-icon-chevrons-right:before {\\n  content: \\\"\\\\e903\\\";\\n}\\n\\n.fc-icon-minus-square:before {\\n  content: \\\"\\\\e904\\\";\\n}\\n\\n.fc-icon-plus-square:before {\\n  content: \\\"\\\\e905\\\";\\n}\\n\\n.fc-icon-x:before {\\n  content: \\\"\\\\e906\\\";\\n}\\n/*\\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\\n\\nThese styles only apply when the standard-theme is activated.\\nWhen it's NOT activated, the fc-button classes won't even be in the DOM.\\n*/\\n.fc {\\n\\n  /* reset */\\n\\n}\\n.fc .fc-button {\\n    border-radius: 0;\\n    overflow: visible;\\n    text-transform: none;\\n    margin: 0;\\n    font-family: inherit;\\n    font-size: inherit;\\n    line-height: inherit;\\n  }\\n.fc .fc-button:focus {\\n    outline: 1px dotted;\\n    outline: 5px auto -webkit-focus-ring-color;\\n  }\\n.fc .fc-button {\\n    -webkit-appearance: button;\\n  }\\n.fc .fc-button:not(:disabled) {\\n    cursor: pointer;\\n  }\\n.fc .fc-button::-moz-focus-inner {\\n    padding: 0;\\n    border-style: none;\\n  }\\n.fc {\\n\\n  /* theme */\\n\\n}\\n.fc .fc-button {\\n    display: inline-block;\\n    font-weight: 400;\\n    text-align: center;\\n    vertical-align: middle;\\n    -webkit-user-select: none;\\n       -moz-user-select: none;\\n        -ms-user-select: none;\\n            user-select: none;\\n    background-color: transparent;\\n    border: 1px solid transparent;\\n    padding: 0.4em 0.65em;\\n    font-size: 1em;\\n    line-height: 1.5;\\n    border-radius: 0.25em;\\n  }\\n.fc .fc-button:hover {\\n    text-decoration: none;\\n  }\\n.fc .fc-button:focus {\\n    outline: 0;\\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\\n  }\\n.fc .fc-button:disabled {\\n    opacity: 0.65;\\n  }\\n.fc {\\n\\n  /* \\\"primary\\\" coloring */\\n\\n}\\n.fc .fc-button-primary {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50);\\n  }\\n.fc .fc-button-primary:hover {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1e2b37;\\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\\n    border-color: #1a252f;\\n    border-color: var(--fc-button-hover-border-color, #1a252f);\\n  }\\n.fc .fc-button-primary:disabled { /* not DRY */\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #2C3E50;\\n    background-color: var(--fc-button-bg-color, #2C3E50);\\n    border-color: #2C3E50;\\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\\n  }\\n.fc .fc-button-primary:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n.fc .fc-button-primary:not(:disabled):active,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\\n    color: #fff;\\n    color: var(--fc-button-text-color, #fff);\\n    background-color: #1a252f;\\n    background-color: var(--fc-button-active-bg-color, #1a252f);\\n    border-color: #151e27;\\n    border-color: var(--fc-button-active-border-color, #151e27);\\n  }\\n.fc .fc-button-primary:not(:disabled):active:focus,\\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\\n  }\\n.fc {\\n\\n  /* icons within buttons */\\n\\n}\\n.fc .fc-button .fc-icon {\\n    vertical-align: middle;\\n    font-size: 1.5em; /* bump up the size (but don't make it bigger than line-height of button, which is 1.5em also) */\\n  }\\n.fc .fc-button-group {\\n    position: relative;\\n    display: inline-flex;\\n    vertical-align: middle;\\n  }\\n.fc .fc-button-group > .fc-button {\\n    position: relative;\\n    flex: 1 1 auto;\\n  }\\n.fc .fc-button-group > .fc-button:hover {\\n    z-index: 1;\\n  }\\n.fc .fc-button-group > .fc-button:focus,\\n  .fc .fc-button-group > .fc-button:active,\\n  .fc .fc-button-group > .fc-button.fc-button-active {\\n    z-index: 1;\\n  }\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\\n    margin-left: -1px;\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\\n    margin-right: -1px;\\n    border-top-right-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\\n    border-top-left-radius: 0;\\n    border-bottom-left-radius: 0;\\n  }\\n.fc .fc-toolbar {\\n    display: flex;\\n    justify-content: space-between;\\n    align-items: center;\\n  }\\n.fc .fc-toolbar.fc-header-toolbar {\\n    margin-bottom: 1.5em;\\n  }\\n.fc .fc-toolbar.fc-footer-toolbar {\\n    margin-top: 1.5em;\\n  }\\n.fc .fc-toolbar-title {\\n    font-size: 1.75em;\\n    margin: 0;\\n  }\\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\\n    margin-left: .75em; /* space between */\\n  }\\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\\n    margin-right: .75em; /* space between */\\n  }\\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-scroller {\\n    -webkit-overflow-scrolling: touch;\\n    position: relative; /* for abs-positioned elements within */\\n  }\\n.fc .fc-scroller-liquid {\\n    height: 100%;\\n  }\\n.fc .fc-scroller-liquid-absolute {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    left: 0;\\n    bottom: 0;\\n  }\\n.fc .fc-scroller-harness {\\n    position: relative;\\n    overflow: hidden;\\n    direction: ltr;\\n      /* hack for chrome computing the scroller's right/left wrong for rtl. undone below... */\\n      /* TODO: demonstrate in codepen */\\n  }\\n.fc .fc-scroller-harness-liquid {\\n    height: 100%;\\n  }\\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\\n    direction: rtl;\\n  }\\n.fc-theme-standard .fc-scrollgrid {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\\n  }\\n.fc .fc-scrollgrid,\\n    .fc .fc-scrollgrid table { /* all tables (self included) */\\n      width: 100%; /* because tables don't normally do this */\\n      table-layout: fixed;\\n    }\\n.fc .fc-scrollgrid table { /* inner tables */\\n      border-top-style: hidden;\\n      border-left-style: hidden;\\n      border-right-style: hidden;\\n    }\\n.fc .fc-scrollgrid {\\n\\n    border-collapse: separate;\\n    border-right-width: 0;\\n    border-bottom-width: 0;\\n\\n  }\\n.fc .fc-scrollgrid-liquid {\\n    height: 100%;\\n  }\\n.fc .fc-scrollgrid-section { /* a <tr> */\\n    height: 1px /* better than 0, for firefox */\\n\\n  }\\n.fc .fc-scrollgrid-section > td {\\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\\n    }\\n.fc .fc-scrollgrid-section table {\\n      height: 1px;\\n        /* for most browsers, if a height isn't set on the table, can't do liquid-height within cells */\\n        /* serves as a min-height. harmless */\\n    }\\n.fc .fc-scrollgrid-section-liquid > td {\\n      height: 100%; /* better than `auto`, for firefox */\\n    }\\n.fc .fc-scrollgrid-section > * {\\n    border-top-width: 0;\\n    border-left-width: 0;\\n  }\\n.fc .fc-scrollgrid-section-header > *,\\n  .fc .fc-scrollgrid-section-footer > * {\\n    border-bottom-width: 0;\\n  }\\n.fc .fc-scrollgrid-section-body table,\\n  .fc .fc-scrollgrid-section-footer table {\\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\\n  }\\n.fc {\\n\\n  /* stickiness */\\n\\n}\\n.fc .fc-scrollgrid-section-sticky > * {\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n    position: sticky;\\n    z-index: 3; /* TODO: var */\\n    /* TODO: box-shadow when sticking */\\n  }\\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\\n    top: 0; /* because border-sharing causes a gap at the top */\\n      /* TODO: give safari -1. has bug */\\n  }\\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\\n    bottom: 0; /* known bug: bottom-stickiness doesn't work in safari */\\n  }\\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\\n    height: 1px; /* needs height to create scrollbars */\\n    margin-bottom: -1px;\\n  }\\n.fc-sticky { /* no .fc wrap because used as child of body */\\n  position: sticky;\\n}\\n.fc .fc-view-harness {\\n    flex-grow: 1; /* because this harness is WITHIN the .fc's flexbox */\\n    position: relative;\\n  }\\n.fc {\\n\\n  /* when the harness controls the height, make the view liquid */\\n\\n}\\n.fc .fc-view-harness-active > .fc-view {\\n    position: absolute;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n.fc .fc-col-header-cell-cushion {\\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\\n    padding: 2px 4px;\\n  }\\n.fc .fc-bg-event,\\n  .fc .fc-non-business,\\n  .fc .fc-highlight {\\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n.fc .fc-non-business {\\n    background: rgba(215, 215, 215, 0.3);\\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\\n  }\\n.fc .fc-bg-event {\\n    background: rgb(143, 223, 130);\\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\\n    opacity: 0.3;\\n    opacity: var(--fc-bg-event-opacity, 0.3)\\n  }\\n.fc .fc-bg-event .fc-event-title {\\n      margin: .5em;\\n      font-size: .85em;\\n      font-size: var(--fc-small-font-size, .85em);\\n      font-style: italic;\\n    }\\n.fc .fc-highlight {\\n    background: rgba(188, 232, 241, 0.3);\\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\\n  }\\n.fc .fc-cell-shaded,\\n  .fc .fc-day-disabled {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n/* link resets */\\n/* ---------------------------------------------------------------------------------------------------- */\\na.fc-event,\\na.fc-event:hover {\\n  text-decoration: none;\\n}\\n/* cursor */\\n.fc-event[href],\\n.fc-event.fc-event-draggable {\\n  cursor: pointer;\\n}\\n/* event text content */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event .fc-event-main {\\n    position: relative;\\n    z-index: 2;\\n  }\\n/* dragging */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\\n    opacity: 0.75;\\n  }\\n.fc-event-dragging.fc-event-selected { /* TOUCH */\\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\\n  }\\n/* resizing */\\n/* ---------------------------------------------------------------------------------------------------- */\\n/* (subclasses should hone positioning for touch and non-touch) */\\n.fc-event .fc-event-resizer {\\n    display: none;\\n    position: absolute;\\n    z-index: 4;\\n  }\\n.fc-event:hover, /* MOUSE */\\n.fc-event-selected { /* TOUCH */\\n\\n}\\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\\n    display: block;\\n  }\\n.fc-event-selected .fc-event-resizer {\\n    border-radius: 4px;\\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\\n    border-width: 1px;\\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\\n    width: 8px;\\n    width: var(--fc-event-resizer-dot-total-width, 8px);\\n    height: 8px;\\n    height: var(--fc-event-resizer-dot-total-width, 8px);\\n    border-style: solid;\\n    border-color: inherit;\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff)\\n\\n    /* expand hit area */\\n\\n  }\\n.fc-event-selected .fc-event-resizer:before {\\n      content: '';\\n      position: absolute;\\n      top: -20px;\\n      left: -20px;\\n      right: -20px;\\n      bottom: -20px;\\n    }\\n/* selecting (always TOUCH) */\\n/* OR, focused by tab-index */\\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\\n/* ---------------------------------------------------------------------------------------------------- */\\n.fc-event-selected,\\n.fc-event:focus {\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\\n\\n  /* expand hit area (subclasses should expand) */\\n\\n}\\n.fc-event-selected:before, .fc-event:focus:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    z-index: 3;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0;\\n  }\\n.fc-event-selected,\\n.fc-event:focus {\\n\\n  /* dimmer effect */\\n\\n}\\n.fc-event-selected:after, .fc-event:focus:after {\\n    content: \\\"\\\";\\n    background: rgba(0, 0, 0, 0.25);\\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\\n    position: absolute;\\n    z-index: 1;\\n\\n    /* assume there's a border on all sides. overcome it. */\\n    /* sometimes there's NOT a border, in which case the dimmer will go over */\\n    /* an adjacent border, which looks fine. */\\n    top: -1px;\\n    left: -1px;\\n    right: -1px;\\n    bottom: -1px;\\n  }\\n/*\\nA HORIZONTAL event\\n*/\\n.fc-h-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n.fc-h-event .fc-event-main {\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n  }\\n.fc-h-event .fc-event-main-frame {\\n    display: flex; /* for make fc-event-title-container expand */\\n  }\\n.fc-h-event .fc-event-time {\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n  }\\n.fc-h-event .fc-event-title {\\n    display: inline-block; /* need this to be sticky cross-browser */\\n    vertical-align: top; /* for not messing up line-height */\\n    left: 0;  /* for sticky */\\n    right: 0; /* for sticky */\\n    max-width: 100%; /* clip overflow on this element */\\n    overflow: hidden;\\n  }\\n.fc-h-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n/* adjust border and border-radius (if there is any) for non-start/end */\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\\n  border-top-left-radius: 0;\\n  border-bottom-left-radius: 0;\\n  border-left-width: 0;\\n}\\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\\n  border-top-right-radius: 0;\\n  border-bottom-right-radius: 0;\\n  border-right-width: 0;\\n}\\n/* resizers */\\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\\n  top: 0;\\n  bottom: 0;\\n  width: 8px;\\n  width: var(--fc-event-resizer-thickness, 8px);\\n}\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\\n  cursor: w-resize;\\n  left: -4px;\\n  left: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\\n}\\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\\n  cursor: e-resize;\\n  right: -4px;\\n  right: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\\n}\\n/* resizers for TOUCH */\\n.fc-h-event.fc-event-selected .fc-event-resizer {\\n  top: 50%;\\n  margin-top: -4px;\\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\\n}\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\\n  left: -4px;\\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\\n}\\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\\n  right: -4px;\\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\\n}\\n.fc .fc-popover {\\n    position: absolute;\\n    z-index: 9999;\\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\\n  }\\n.fc .fc-popover-header {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n    align-items: center;\\n    padding: 3px 4px;\\n  }\\n.fc .fc-popover-title {\\n    margin: 0 2px;\\n  }\\n.fc .fc-popover-close {\\n    cursor: pointer;\\n    opacity: 0.65;\\n    font-size: 1.1em;\\n  }\\n.fc-theme-standard .fc-popover {\\n    border: 1px solid #ddd;\\n    border: 1px solid var(--fc-border-color, #ddd);\\n    background: #fff;\\n    background: var(--fc-page-bg-color, #fff);\\n  }\\n.fc-theme-standard .fc-popover-header {\\n    background: rgba(208, 208, 208, 0.3);\\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n  }\\n\";\nstyleInject(css_248z);\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nclass EventSourceApi {\n    constructor(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    remove() {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    }\n    refetch() {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    }\n    get id() {\n        return this.internalEventSource.publicId;\n    }\n    get url() {\n        return this.internalEventSource.meta.url;\n    }\n    get format() {\n        return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n    }\n}\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    let containers = container instanceof HTMLElement ? [container] : container;\n    let allMatches = [];\n    for (let i = 0; i < containers.length; i += 1) {\n        let matches = containers[i].querySelectorAll(selector);\n        for (let j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    let parents = parent instanceof HTMLElement ? [parent] : parent;\n    let allMatches = [];\n    for (let i = 0; i < parents.length; i += 1) {\n        let childNodes = parents[i].children; // only ever elements\n        for (let j = 0; j < childNodes.length; j += 1) {\n            let childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nconst PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (let propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = `${val}px`;\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Shadow DOM consuderations\n// ----------------------------------------------------------------------------------------------------------------\nfunction getElRoot(el) {\n    return el.getRootNode ? el.getRootNode() : document;\n}\n// Unique ID for DOM attribute\nlet guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return (ev) => {\n        let matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    let attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return () => {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    let currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            let realOnMouseLeave = (mouseLeaveEv) => {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nconst transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    let realCallback = (ev) => {\n        callback(ev);\n        transitionEventNames.forEach((eventName) => {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach((eventName) => {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown(ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nlet guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    let specs = [];\n    let tokens = [];\n    let i;\n    let token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    let i;\n    let cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    let s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter(...args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nconst DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    let a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    let m0day = startOfDay(m0);\n    let m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    let d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    let y = marker.getUTCFullYear();\n    let w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    let dayStart = startOfDay(marker);\n    let days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    let fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC(...a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId,\n        range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nconst { hasOwnProperty } = Object.prototype;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    let dest = {};\n    if (complexPropsMap) {\n        for (let name in complexPropsMap) {\n            let complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                let val = propObjs[i][name];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n        let props = propObjs[i];\n        for (let name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    let filtered = {};\n    for (let key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    let newHash = {};\n    for (let key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    let hash = {};\n    for (let item of a) {\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    let hash = {};\n    for (let i = 0; i < a.length; i += 1) {\n        let tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    let a = [];\n    for (let key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    let keys = [];\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs = {}) {\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (let key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (let key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n    let res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (let i = startIndex; i < endIndex; i += step) {\n        let val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (let i = 0; i < recurringTypes.length; i += 1) {\n        let parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            let { allDay } = refined;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    let { dateEnv, pluginHooks, options } = context;\n    let { defs, instances } = eventStore;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n    for (let defId in defs) {\n        let def = defs[defId];\n        if (def.recurringDef) {\n            let { duration } = def.recurringDef;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (let start of starts) {\n                let instance = createEventInstance(defId, {\n                    start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs, instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nconst INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nconst PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject({ [unit || 'milliseconds']: input });\n    }\n    return null;\n}\nfunction parseString(s) {\n    let m = PARSE_RE.exec(s);\n    if (m) {\n        let sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    let duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    let weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    let res = null;\n    for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        let unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            let localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    let ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n    let s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso = false) {\n    let sign = minutes < 0 ? '-' : '+';\n    let abs = Math.abs(minutes);\n    let hours = Math.floor(abs / 60);\n    let mins = Math.round(abs % 60);\n    if (doIso) {\n        return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n    }\n    return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    let removeCnt = 0;\n    let i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    let len = a0.length;\n    let i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    let currentArgs;\n    let currentRes;\n    return function (...newArgs) {\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    let currentArg;\n    let currentRes;\n    return (newArg) => {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    let currentArgSets = [];\n    let currentResults = [];\n    return (newArgSets) => {\n        let currentLen = currentArgSets.length;\n        let newLen = newArgSets.length;\n        let i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                let res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    let currentArgHash = {};\n    let currentResHash = {};\n    return (newArgHash) => {\n        let newResHash = {};\n        for (let key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                let res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nconst EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nconst STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nconst MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nconst COMMA_RE = /,/g; // we need re for globalness\nconst MULTI_SPACE_RE = /\\s+/g;\nconst LTR_RE = /\\u200e/g; // control character\nconst UTC_RE = /UTC|GMT/;\nclass NativeFormatter {\n    constructor(formatSettings) {\n        let standardDateProps = {};\n        let extendedSettings = {};\n        let severity = 0;\n        for (let name in formatSettings) {\n            if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name] = formatSettings[name];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name], severity);\n            }\n            else {\n                standardDateProps[name] = formatSettings[name];\n                if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    format(date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        let { standardDateProps, extendedSettings } = this;\n        let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        let biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        let full0 = this.format(start, context);\n        let full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        let partial0 = partialFormattingFunc(start);\n        let partial1 = partialFormattingFunc(end);\n        let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    }\n    getLargestUnit() {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    }\n}\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    let standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = Object.assign({}, standardDateProps); // copy\n    extendedSettings = Object.assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    let zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        let zeroProps = Object.assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return (date) => {\n        let { marker } = date;\n        let format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        let s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    let replaced = false;\n    s = s.replace(UTC_RE, () => {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ` ${tzoStr}`;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    let parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    let partialOptions = {};\n    for (let name in options) {\n        if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n            partialOptions[name] = options[name];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    let i0 = 0;\n    while (i0 < full0.length) {\n        let found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        let before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        let after0 = full0.substr(i0);\n        let i1 = 0;\n        while (i1 < full1.length) {\n            let found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            let before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            let after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    let a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    let startInfo = expandZonedMarker(start, context.calendarSystem);\n    let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nclass CmdFormatter {\n    constructor(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nclass FuncFormatter {\n    constructor(func) {\n        this.func = func;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nconst BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nconst BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nconst CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nconst CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nconst COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nconst VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    let refined = {};\n    let extra = {};\n    for (let propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (let propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined, extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    let eventStore = createEmptyEventStore();\n    let eventRefiners = buildEventRefiners(context);\n    for (let rawEvent of rawEvents) {\n        let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    let instance = eventStore.instances[instanceId];\n    if (instance) {\n        let def = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def.defId] = def;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n        instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    let defs = filterHash(eventStore.defs, filterFunc);\n    let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n    ));\n    return { defs, instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    let { defs, instances } = master;\n    let filteredDefs = {};\n    let filteredInstances = {};\n    for (let defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (let instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nconst EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nconst EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    let constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nconst EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nconst EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nconst EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context)) {\n    let { refined, extra } = refineEventDef(raw, context, refiners);\n    let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def, instance: null };\n    }\n    let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def, instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    let def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId,\n        allDay,\n        hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    let { allDay } = refined;\n    let startMeta;\n    let startMarker = null;\n    let hasEnd = false;\n    let endMeta;\n    let endMarker = null;\n    let startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay,\n        hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    let res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    let start = startOfDay(timedRange.start);\n    let end = addDays(start, dayCnt);\n    return { start, end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n    let startDay = null;\n    let endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    let visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    let start = null;\n    let end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start, end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    let invertedRanges = [];\n    let { start } = constraintRange; // the end of the previous range. the start of the new range\n    let i;\n    let dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    let { start, end } = range0;\n    let newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start, end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    let inverseBgByGroupId = {};\n    let inverseBgByDefId = {};\n    let defByGroupId = {};\n    let bgRanges = [];\n    let fgRanges = [];\n    let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        let ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = eventStore.defs[instance.defId];\n        let ui = eventUis[def.defId];\n        let origRange = instance.range;\n        let normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        let slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def,\n                    ui,\n                    instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (let groupId in inverseBgByGroupId) { // BY GROUP\n        let ranges = inverseBgByGroupId[groupId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            let def = defByGroupId[groupId];\n            let ui = eventUis[def.defId];\n            bgRanges.push({\n                def,\n                ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (let defId in inverseBgByDefId) {\n        let ranges = inverseBgByDefId[defId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    let uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    let objs = segs.map(buildSegCompareObj);\n    objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n    return objs.map((c) => c._seg);\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    let { eventRange } = seg;\n    let eventDef = eventRange.def;\n    let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    let end = range.end ? range.end.valueOf() : 0; // \"\n    return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n        end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    let { pluginHooks } = context;\n    let transformers = pluginHooks.isDraggableTransformers;\n    let { def, ui } = seg.eventRange;\n    let val = ui.startEditable;\n    for (let transformer of transformers) {\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    let { dateEnv, options } = context;\n    let { displayEventTime, displayEventEnd } = options;\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    let wholeEventStart = eventInstance.range.start;\n    let wholeEventEnd = eventInstance.range.end;\n    let segStart = startOverride || seg.start || seg.eventRange.range.start;\n    let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    let segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    let classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    let { def, instance } = seg.eventRange;\n    let { url } = def;\n    if (url) {\n        return { href: url };\n    }\n    let { emitter, options } = context;\n    let { eventInteractive } = options;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs((ev) => {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventApi(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nconst STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    let span = parseOpenDateSpan(raw, dateEnv);\n    let { range } = span;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n    let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    let { allDay } = standardProps;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return Object.assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (let propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (let propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    let res = refineEventDef({ editable: false }, context);\n    let def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.dateSpanTransforms) {\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    let { dateEnv, options } = context;\n    let end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    let dest = createEmptyEventStore();\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    let standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    let { dateEnv } = context;\n    let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    let copy = Object.assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nclass ViewApi {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nconst EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n    let rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        let { refined, extra } = refineProps(rawObj, refiners);\n        let metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        let def = defs[i];\n        let meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nclass CalendarApi {\n    getCurrentData() {\n        return this.currentDataManager.getCurrentData();\n    }\n    dispatch(action) {\n        return this.currentDataManager.dispatch(action);\n    }\n    get view() { return this.getCurrentData().viewApi; } // for public API\n    batchRendering(callback) {\n        callback();\n    }\n    updateSize() {\n        this.trigger('_resize', true);\n    }\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    setOption(name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    }\n    getOption(name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    }\n    getAvailableLocaleCodes() {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    }\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    on(handlerName, handler) {\n        let { currentDataManager } = this;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(`Unknown listener name '${handlerName}'`);\n        }\n    }\n    off(handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    }\n    // not meant for public use\n    trigger(handlerName, ...args) {\n        this.currentDataManager.emitter.trigger(handlerName, ...args);\n    }\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    changeView(viewType, dateOrRange) {\n        this.batchRendering(() => {\n            this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                    this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    let { dateEnv } = this.getCurrentData();\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType,\n                });\n            }\n        });\n    }\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    zoomTo(dateMarker, viewType) {\n        let state = this.getCurrentData();\n        let spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker,\n            });\n        }\n    }\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    getUnitViewSpec(unit) {\n        let { viewSpecs, toolbarConfig } = this.getCurrentData();\n        let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        let i;\n        let spec;\n        for (let viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    }\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    prev() {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    }\n    next() {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    }\n    prevYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    }\n    nextYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    }\n    today() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    }\n    gotoDate(zonedDateInput) {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    }\n    incrementDate(deltaInput) {\n        let state = this.getCurrentData();\n        let delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    }\n    // for external API\n    getDate() {\n        let state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    }\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    formatDate(d, formatter) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    }\n    // `settings` is for formatter AND isEndExclusive\n    formatRange(d0, d1, settings) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    }\n    formatIso(d, omitTime) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n    }\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    select(dateOrObj, endDate) {\n        let selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        let state = this.getCurrentData();\n        let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection });\n            triggerDateSelect(selection, null, state);\n        }\n    }\n    // public method\n    unselect(pev) {\n        let state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    }\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    addEvent(eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            let def = eventInput._def;\n            let instance = eventInput._instance;\n            let currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        let state = this.getCurrentData();\n        let eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                [eventSource] = hashValuesToArray(state.eventSources);\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        let tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            let newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    }\n    triggerEventAdd(eventApi) {\n        let { emitter } = this.getCurrentData();\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: () => {\n                this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    }\n    // TODO: optimize\n    getEventById(id) {\n        let state = this.getCurrentData();\n        let { defs, instances } = state.eventStore;\n        id = String(id);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (let instanceId in instances) {\n                    let instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getEvents() {\n        let currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    }\n    removeAllEvents() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    }\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    getEventSources() {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        let sourceApis = [];\n        for (let internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    }\n    getEventSourceById(id) {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        id = String(id);\n        for (let sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    }\n    addEventSource(sourceInput) {\n        let state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        let eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    }\n    removeAllEventSources() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    }\n    refetchEvents() {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    }\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    scrollToTime(timeInput) {\n        let time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time });\n        }\n    }\n}\n\nclass EventApi {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    constructor(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    setProp(name, val) {\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { [name]: val },\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            let ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = { [name]: val };\n            }\n            this.mutate({\n                standardProps: { ui },\n            });\n        }\n        else {\n            console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n        }\n    }\n    setExtendedProp(name, val) {\n        this.mutate({\n            extendedProps: { [name]: val },\n        });\n    }\n    setStart(startInput, options = {}) {\n        let { dateEnv } = this._context;\n        let start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            let instanceRange = this._instance.range;\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta });\n            }\n        }\n    }\n    setEnd(endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    }\n    setDates(startInput, endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let standardProps = { allDay: options.allDay };\n        let start = dateEnv.createMarker(startInput);\n        let end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            let instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n                else {\n                    this.mutate({ startDelta, endDelta, standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps });\n            }\n        }\n    }\n    moveStart(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    }\n    moveEnd(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    }\n    moveDates(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    }\n    setAllDay(allDay, options = {}) {\n        let standardProps = { allDay };\n        let { maintainDuration } = options;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps });\n    }\n    formatRange(formatInput) {\n        let { dateEnv } = this._context;\n        let instance = this._instance;\n        let formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    }\n    mutate(mutation) {\n        let instance = this._instance;\n        if (instance) {\n            let def = this._def;\n            let context = this._context;\n            let { eventStore } = context.getCurrentData();\n            let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n            let eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n            let oldEvent = new EventApi(context, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context.emitter.trigger('eventChange', {\n                oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context, instance),\n                revert() {\n                    context.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore, // the ORIGINAL store\n                    });\n                },\n            });\n        }\n    }\n    remove() {\n        let context = this._context;\n        let asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert() {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    }\n    get source() {\n        let { sourceId } = this._def;\n        if (sourceId) {\n            return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n        }\n        return null;\n    }\n    get start() {\n        return this._instance ?\n            this._context.dateEnv.toDate(this._instance.range.start) :\n            null;\n    }\n    get end() {\n        return (this._instance && this._def.hasEnd) ?\n            this._context.dateEnv.toDate(this._instance.range.end) :\n            null;\n    }\n    get startStr() {\n        let instance = this._instance;\n        if (instance) {\n            return this._context.dateEnv.formatIso(instance.range.start, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        return '';\n    }\n    get endStr() {\n        let instance = this._instance;\n        if (instance && this._def.hasEnd) {\n            return this._context.dateEnv.formatIso(instance.range.end, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedEndTzo,\n            });\n        }\n        return '';\n    }\n    // computable props that all access the def\n    // TODO: find a TypeScript-compatible way to do this at scale\n    get id() { return this._def.publicId; }\n    get groupId() { return this._def.groupId; }\n    get allDay() { return this._def.allDay; }\n    get title() { return this._def.title; }\n    get url() { return this._def.url; }\n    get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n    get startEditable() { return this._def.ui.startEditable; }\n    get durationEditable() { return this._def.ui.durationEditable; }\n    get constraint() { return this._def.ui.constraints[0] || null; }\n    get overlap() { return this._def.ui.overlap; }\n    get allow() { return this._def.ui.allows[0] || null; }\n    get backgroundColor() { return this._def.ui.backgroundColor; }\n    get borderColor() { return this._def.ui.borderColor; }\n    get textColor() { return this._def.ui.textColor; }\n    // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n    get classNames() { return this._def.ui.classNames; }\n    get extendedProps() { return this._def.extendedProps; }\n    toPlainObject(settings = {}) {\n        let def = this._def;\n        let { ui } = def;\n        let { startStr, endStr } = this;\n        let res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    }\n    toJSON() {\n        return this.toPlainObject();\n    }\n}\nfunction eventApiToStore(eventApi) {\n    let def = eventApi._def;\n    let instance = eventApi._instance;\n    return {\n        defs: { [def.defId]: def },\n        instances: instance\n            ? { [instance.instanceId]: instance }\n            : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    let { defs, instances } = eventStore;\n    let eventApis = [];\n    let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (let id in instances) {\n        let instance = instances[id];\n        let def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nlet calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nclass GregorianCalendarSystem {\n    getMarkerYear(d) {\n        return d.getUTCFullYear();\n    }\n    getMarkerMonth(d) {\n        return d.getUTCMonth();\n    }\n    getMarkerDay(d) {\n        return d.getUTCDate();\n    }\n    arrayToMarker(arr) {\n        return arrayToUtcDate(arr);\n    }\n    markerToArray(marker) {\n        return dateToUtcArray(marker);\n    }\n}\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nconst ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    let m = ISO_RE.exec(str);\n    if (m) {\n        let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n        if (isValidDate(marker)) {\n            let timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nclass DateEnv {\n    constructor(settings) {\n        let timeZone = this.timeZone = settings.timeZone;\n        let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    createMarker(input) {\n        let meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    }\n    createNowMarker() {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    }\n    createMarkerMeta(input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        let marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker, isTimeUnspecified: false, forcedTzo: null };\n    }\n    parse(s) {\n        let parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        let { marker } = parts;\n        let forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n    }\n    // Accessors\n    getYear(marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    }\n    getMonth(marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    }\n    // Adding / Subtracting\n    add(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    subtract(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addYears(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addMonths(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    // Diffing Whole Units\n    diffWholeYears(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    }\n    diffWholeMonths(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    }\n    // Range / Duration\n    greatestWholeUnit(m0, m1) {\n        let n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    }\n    countDurationsBetween(m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        let diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    }\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    startOf(m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    }\n    startOfYear(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    }\n    startOfMonth(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    }\n    startOfWeek(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    }\n    // Week Number\n    computeWeekNumber(marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    }\n    // TODO: choke on timeZoneName: long\n    format(marker, formatter, dateOptions = {}) {\n        return formatter.format({\n            marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    }\n    formatRange(start, end, formatter, dateOptions = {}) {\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    }\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    formatIso(marker, extraOptions = {}) {\n        let timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    }\n    // TimeZone\n    timestampToMarker(ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    }\n    offsetForMarker(m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    }\n    // Conversion\n    toDate(m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    }\n}\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv$1(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\nconst DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    let rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    let res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nlet canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    let el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    let div = el.querySelector('div');\n    let possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nconst EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nclass Splitter {\n    constructor() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    splitProps(props) {\n        let keyInfos = this.getKeyInfo(props);\n        let defKeys = this.getKeysForEventDefs(props.eventStore);\n        let dateSelections = this.splitDateSelection(props.dateSelection);\n        let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        let eventStores = this.splitEventStore(props.eventStore, defKeys);\n        let eventDrags = this.splitEventDrag(props.eventDrag);\n        let eventResizes = this.splitEventResize(props.eventResize);\n        let splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n        for (let key in keyInfos) {\n            let keyInfo = keyInfos[key];\n            let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            let buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    }\n    _splitDateSpan(dateSpan) {\n        let dateSpans = {};\n        if (dateSpan) {\n            let keys = this.getKeysForDateSpan(dateSpan);\n            for (let key of keys) {\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    }\n    _getKeysForEventDefs(eventStore) {\n        return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n    }\n    _splitEventStore(eventStore, defKeys) {\n        let { defs, instances } = eventStore;\n        let splitStores = {};\n        for (let defId in defs) {\n            for (let key of defKeys[defId]) {\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            let instance = instances[instanceId];\n            for (let key of defKeys[instance.defId]) {\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    }\n    _splitIndividualUi(eventUiBases, defKeys) {\n        let splitHashes = {};\n        for (let defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (let key of defKeys[defId]) {\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    }\n    _splitInteraction(interaction) {\n        let splitStates = {};\n        if (interaction) {\n            let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            let populate = (key) => {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (let key in affectedStores) {\n                populate(key);\n            }\n            for (let key in mutatedStores) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    }\n}\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    let baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    let stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    let classNames = [\n        'fc-day',\n        `fc-day-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    let classNames = [\n        'fc-slot',\n        `fc-slot-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nconst DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nconst WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n    const { dateEnv, options, calendarApi } = context;\n    let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        let zonedDate = dateEnv.toDate(dateMarker);\n        const handleInteraction = (ev) => {\n            let customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nlet _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    let outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    let innerEl = outerEl.firstChild;\n    let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nlet _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    let el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    let res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding = false) {\n    let computedStyle = window.getComputedStyle(el);\n    let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    let res = {\n        borderLeft,\n        borderRight,\n        borderTop,\n        borderBottom,\n        scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n    let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    let edges = computeEdges(el, goWithinPadding);\n    let res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    let rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    let clippingParents = getClippingParents(el);\n    let rect = el.getBoundingClientRect();\n    for (let clippingParent of clippingParents) {\n        let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    let computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    let parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        let computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    let isResolved = false;\n    let wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    let wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    let res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nclass Emitter {\n    constructor() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    setThisContext(thisContext) {\n        this.thisContext = thisContext;\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    on(type, handler) {\n        addToHash(this.handlers, type, handler);\n    }\n    off(type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    }\n    trigger(type, ...args) {\n        let attachedHandlers = this.handlers[type] || [];\n        let optionHandler = this.options && this.options[type];\n        let handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (let handler of handlers) {\n            handler.apply(this.thisContext, args);\n        }\n    }\n    hasHandlers(type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    }\n}\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter((func) => func !== handler);\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nclass PositionCache {\n    constructor(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    buildElHorizontals(originClientLeft) {\n        let lefts = [];\n        let rights = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    }\n    // Populates the top/bottom internal coordinate arrays\n    buildElVerticals(originClientTop) {\n        let tops = [];\n        let bottoms = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    }\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    leftToIndex(leftPosition) {\n        let { lefts, rights } = this;\n        let len = lefts.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    topToIndex(topPosition) {\n        let { tops, bottoms } = this;\n        let len = tops.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Gets the width of the element at the given index\n    getWidth(leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    }\n    // Gets the height of the element at the given index\n    getHeight(topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    }\n}\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nclass ScrollController {\n    getMaxScrollTop() {\n        return this.getScrollHeight() - this.getClientHeight();\n    }\n    getMaxScrollLeft() {\n        return this.getScrollWidth() - this.getClientWidth();\n    }\n    canScrollVertically() {\n        return this.getMaxScrollTop() > 0;\n    }\n    canScrollHorizontally() {\n        return this.getMaxScrollLeft() > 0;\n    }\n    canScrollUp() {\n        return this.getScrollTop() > 0;\n    }\n    canScrollDown() {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    }\n    canScrollLeft() {\n        return this.getScrollLeft() > 0;\n    }\n    canScrollRight() {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    }\n}\nclass ElementScrollController extends ScrollController {\n    constructor(el) {\n        super();\n        this.el = el;\n    }\n    getScrollTop() {\n        return this.el.scrollTop;\n    }\n    getScrollLeft() {\n        return this.el.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.el.scrollTop = top;\n    }\n    setScrollLeft(left) {\n        this.el.scrollLeft = left;\n    }\n    getScrollWidth() {\n        return this.el.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.el.scrollHeight;\n    }\n    getClientHeight() {\n        return this.el.clientHeight;\n    }\n    getClientWidth() {\n        return this.el.clientWidth;\n    }\n}\nclass WindowScrollController extends ScrollController {\n    getScrollTop() {\n        return window.pageYOffset;\n    }\n    getScrollLeft() {\n        return window.pageXOffset;\n    }\n    setScrollTop(n) {\n        window.scroll(window.pageXOffset, n);\n    }\n    setScrollLeft(n) {\n        window.scroll(n, window.pageYOffset);\n    }\n    getScrollWidth() {\n        return document.documentElement.scrollWidth;\n    }\n    getScrollHeight() {\n        return document.documentElement.scrollHeight;\n    }\n    getClientHeight() {\n        return document.documentElement.clientHeight;\n    }\n    getClientWidth() {\n        return document.documentElement.clientWidth;\n    }\n}\n\nclass Theme {\n    constructor(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    setIconOverride(iconOverrideHash) {\n        let iconClassesCopy;\n        let buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = Object.assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    }\n    applyIconOverridePrefix(className) {\n        let prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    }\n    getClass(key) {\n        return this.classes[key] || '';\n    }\n    getIconClass(buttonName, isRtl) {\n        let className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return `${this.baseIconClass} ${className}`;\n        }\n        return '';\n    }\n    getCustomButtonIconClass(customButtonProps) {\n        let className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n            }\n        }\n        return '';\n    }\n}\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nclass ScrollResponder {\n    constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = (request) => {\n            this.queuedRequest = __assign({}, this.queuedRequest || {}, request);\n            this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    detach() {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    }\n    update(isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    }\n    fireInitialScroll() {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    }\n    drain() {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    }\n}\n\nconst ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv,\n        options: viewOptions,\n        pluginHooks,\n        emitter,\n        dispatch,\n        getCurrentData,\n        calendarApi,\n        viewSpec,\n        viewApi,\n        dateProfileGenerator,\n        theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler(handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler(handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder(execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent,\n        unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nclass PureComponent extends Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    }\n    // HACK for freakin' React StrictMode\n    safeSetState(newState) {\n        if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    }\n}\nPureComponent.addPropsEquality = addPropsEquality;\nPureComponent.addStateEquality = addStateEquality;\nPureComponent.contextType = ViewContextType;\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nclass BaseComponent extends PureComponent {\n}\nBaseComponent.contextType = ViewContextType;\nfunction addPropsEquality(propEquality) {\n    let hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    let hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nclass DateComponent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.uid = guid();\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    prepareHits() {\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    }\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    isValidSegDownEl(el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    }\n    isValidDateDownEl(el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    }\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let isAdded = {};\n    let hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: Object.assign(Object.assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nclass RenderHook extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n    }\n    render() {\n        let { props } = this;\n        let { hookProps } = props;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, (rootElRef) => (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: this.rootElRef }, (innerElRef, innerContent) => props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent)))));\n    }\n}\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nconst CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, (renderId) => (createElement(ContentHookInner, Object.assign({ renderId: renderId }, props)))));\n}\nclass ContentHookInner extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.innerElRef = createRef();\n    }\n    render() {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    }\n    componentDidMount() {\n        this.updateCustomContent();\n    }\n    componentDidUpdate() {\n        this.updateCustomContent();\n    }\n    componentWillUnmount() {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    }\n    renderInnerContent() {\n        let { customContentInfo } = this; // only populated if using non-[p]react node(s)\n        let innerContent = this.getInnerContent();\n        let meta = this.getContentMeta(innerContent);\n        // initial run, or content-type changing? (from vue -> react for example)\n        if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n            // clearing old value\n            if (customContentInfo) {\n                if (customContentInfo.destroy) {\n                    customContentInfo.destroy();\n                }\n                customContentInfo = this.customContentInfo = null;\n            }\n            // assigning new value\n            if (meta.contentKey) {\n                customContentInfo = this.customContentInfo = Object.assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n            }\n            // updating\n        }\n        else if (customContentInfo) {\n            customContentInfo.contentVal = innerContent[meta.contentKey];\n        }\n        return customContentInfo\n            ? [] // signal that something was specified\n            : innerContent; // assume a [p]react vdom node. use it\n    }\n    getInnerContent() {\n        let { props } = this;\n        let innerContent = normalizeContent(props.content, props.hookProps);\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n    }\n    getContentMeta(innerContent) {\n        let { contentTypeHandlers } = this.context.pluginHooks;\n        let contentKey = '';\n        let buildLifecycleFuncs = null;\n        if (innerContent) { // allowed to be null, for convenience to caller\n            for (let searchKey in contentTypeHandlers) {\n                if (innerContent[searchKey] !== undefined) {\n                    contentKey = searchKey;\n                    buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                    break;\n                }\n            }\n        }\n        return { contentKey, buildLifecycleFuncs };\n    }\n    updateCustomContent() {\n        if (this.customContentInfo) { // for non-[p]react\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    }\n}\nclass MountHook extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, rootEl);\n            }\n        };\n    }\n    render() {\n        return this.props.children(this.handleRootEl);\n    }\n    componentDidMount() {\n        let callback = this.props.didMount;\n        if (callback) {\n            callback(Object.assign(Object.assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    }\n    componentWillUnmount() {\n        let callback = this.props.willUnmount;\n        if (callback) {\n            callback(Object.assign(Object.assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    }\n}\nfunction buildClassNameNormalizer() {\n    let currentGenerator;\n    let currentHookProps;\n    let currentClassNames = [];\n    return (generator, hookProps) => {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nclass ViewRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.normalizeClassNames = buildClassNameNormalizer();\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let hookProps = { view: context.viewApi };\n        let customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, (rootElRef) => props.children(rootElRef, [`fc-${props.viewSpec.type}-view`, 'fc-view'].concat(customClassNames))));\n    }\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ViewRoot, { viewSpec: context.viewSpec }, (viewElRef, viewClassNames) => {\n        let hookProps = Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, (rootElRef, customClassNames, innerElRef, innerContent) => (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent))));\n    }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nclass DateProfileGenerator {\n    constructor(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    buildPrev(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    }\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    buildNext(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    }\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    build(currentDate, direction, forceToValid = true) {\n        let { props } = this;\n        let validRange;\n        let currentInfo;\n        let isRangeAllDay;\n        let renderRange;\n        let activeRange;\n        let isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    }\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    buildValidRange() {\n        let input = this.props.validRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    }\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    buildCurrentRangeInfo(date, direction) {\n        let { props } = this;\n        let duration = null;\n        let unit = null;\n        let range = null;\n        let dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration, unit, range };\n    }\n    getFallbackDuration() {\n        return createDuration({ day: 1 });\n    }\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    adjustActiveRange(range) {\n        let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n        let { start, end } = range;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start, end };\n    }\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    buildRangeFromDuration(date, direction, duration, unit) {\n        let { dateEnv, dateAlignment } = this.props;\n        let start;\n        let end;\n        let res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            let { dateIncrement } = this.props;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start, end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    }\n    // Builds the \"current\" range when a dayCount is specified.\n    buildRangeFromDayCount(date, direction, dayCount) {\n        let { dateEnv, dateAlignment } = this.props;\n        let runningCount = 0;\n        let start = date;\n        let end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start, end };\n    }\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    buildCustomVisibleRange(date) {\n        let { props } = this;\n        let input = props.visibleRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        let range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    }\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    }\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    buildDateIncrement(fallback) {\n        let { dateIncrement } = this.props;\n        let customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    }\n    refineRange(rangeInput) {\n        if (rangeInput) {\n            let range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    }\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    initHiddenDays() {\n        let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        let dayCnt = 0;\n        let i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    }\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    trimHiddenDays(range) {\n        let { start, end } = range;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    isHiddenDay(day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    }\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    skipHiddenDays(date, inc = 1, isExclusive = false) {\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    }\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n            ));\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    let calEachTransform = context.options.eventDataTransform;\n    let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    let refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (let rawEvent of rawEvents) {\n            let refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    let { defs } = eventStore;\n    let instances = mapHash(eventStore.instances, (instance) => {\n        let def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return Object.assign(Object.assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs, instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, success, failure) {\n        let { dateEnv } = arg.context;\n        let func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => {\n            success({ rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    let body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    let xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = () => {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            let parsed = false;\n            let res;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = () => {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    let parts = [];\n    for (let key in params) {\n        parts.push(`${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`);\n    }\n    return parts.join('&');\n}\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, success, failure) {\n        let { meta } = arg.eventSource;\n        let requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, (rawEvents, xhr) => {\n            success({ rawEvents, xhr });\n        }, (errorMessage, xhr) => {\n            failure({ message: errorMessage, xhr });\n        });\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        contentTypeHandlers: {\n            html: buildHtmlRenderer,\n            domNodes: buildDomNodeRenderer,\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction buildHtmlRenderer() {\n    let currentEl = null;\n    let currentHtml = '';\n    function render(el, html) {\n        if (el !== currentEl || html !== currentHtml) {\n            el.innerHTML = html;\n        }\n        currentEl = el;\n        currentHtml = html;\n    }\n    function destroy() {\n        currentEl.innerHTML = '';\n        currentEl = null;\n        currentHtml = '';\n    }\n    return { render, destroy };\n}\nfunction buildDomNodeRenderer() {\n    let currentEl = null;\n    let currentDomNodes = [];\n    function render(el, domNodes) {\n        let newDomNodes = Array.prototype.slice.call(domNodes);\n        if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n            // append first, remove second (for scroll resetting)\n            for (let newNode of newDomNodes) {\n                el.appendChild(newNode);\n            }\n            destroy();\n        }\n        currentEl = el;\n        currentDomNodes = newDomNodes;\n    }\n    function destroy() {\n        currentDomNodes.forEach(removeElement);\n        currentDomNodes = [];\n        currentEl = null;\n    }\n    return { render, destroy };\n}\n\nclass DelayedRunner {\n    constructor(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    request(delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    }\n    pause(scope = '') {\n        let { pauseDepths } = this;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    }\n    resume(scope = '', force) {\n        let { pauseDepths } = this;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                let depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    }\n    isPaused() {\n        return Object.keys(this.pauseDepths).length;\n    }\n    tryDrain() {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    }\n    clear() {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    }\n    drained() {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    }\n}\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, append) {\n        let { props } = this;\n        props.optionOverrides = append\n            ? Object.assign(Object.assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    _computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nclass CalendarDataProvider extends Component {\n    constructor(props) {\n        super(props);\n        this.handleData = (data) => {\n            if (!this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                this.state = data; // can't use setState yet\n            }\n            else {\n                this.setState(data);\n            }\n        };\n        this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        return this.props.children(this.state);\n    }\n    componentDidUpdate(prevProps) {\n        let newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    }\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nclass NamedTimeZoneImpl {\n    constructor(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n}\n\nclass SegHierarchy {\n    constructor() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    addSegs(inputs) {\n        let hiddenEntries = [];\n        for (let input of inputs) {\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    }\n    insertEntry(entry, hiddenEntries) {\n        let insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n    isInsertionValid(insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    }\n    // returns number of new entries inserted\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    }\n    splitEntry(entry, barrier, hiddenEntries) {\n        let partCnt = 0;\n        let splitHiddenEntries = [];\n        let entrySpan = entry.span;\n        let barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n            }, ...splitHiddenEntries);\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    }\n    insertEntryAt(entry, insertion) {\n        let { entriesByLevel, levelCoords } = this;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    }\n    findInsertion(newEntry) {\n        let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n        let levelCnt = levelCoords.length;\n        let candidateCoord = 0;\n        let touchingLevel = -1;\n        let touchingLateral = -1;\n        let touchingEntry = null;\n        let stackCnt = 0;\n        for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            let trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                break;\n            }\n            let trackingEntries = entriesByLevel[trackingLevel];\n            let trackingEntry;\n            let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                let trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        let destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        let destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel,\n            touchingLateral,\n            touchingEntry,\n            stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    }\n    // sorted by levelCoord (lowest to highest)\n    toRects() {\n        let { entriesByLevel, levelCoords } = this;\n        let levelCnt = entriesByLevel.length;\n        let rects = [];\n        for (let level = 0; level < levelCnt; level += 1) {\n            let entries = entriesByLevel[level];\n            let levelCoord = levelCoords[level];\n            for (let entry of entries) {\n                rects.push(Object.assign(Object.assign({}, entry), { levelCoord }));\n            }\n        }\n        return rects;\n    }\n}\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    let merges = [];\n    for (let entry of entries) {\n        let filteredMerges = [];\n        let hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (let merge of merges) {\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    let start = Math.max(span0.start, span1.start);\n    let end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start, end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    let startIndex = 0;\n    let endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        let middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nclass Interaction {\n    constructor(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    destroy() {\n    }\n}\nfunction parseInteractionSettings(component, input) {\n    return {\n        component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    return {\n        [settings.component.uid]: settings,\n    };\n}\n// global state\nconst interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nclass ElementDragging {\n    constructor(el, selector) {\n        this.emitter = new Emitter();\n    }\n    destroy() {\n    }\n    setMirrorIsVisible(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setMirrorNeedsRevert(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setAutoScrollEnabled(bool) {\n        // optional\n    }\n}\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nconst config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nconst DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\n// TODO: do function component?\nclass ViewContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : '';\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass CalendarRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            forPrint: false,\n        };\n        this.handleBeforePrint = () => {\n            this.setState({ forPrint: true });\n        };\n        this.handleAfterPrint = () => {\n            this.setState({ forPrint: false });\n        };\n    }\n    render() {\n        let { props } = this;\n        let { options } = props;\n        let { forPrint } = this.state;\n        let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        let height = (!isHeightAuto && options.height != null) ? options.height : '';\n        let classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            `fc-direction-${options.direction}`,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    }\n    componentDidMount() {\n        let { emitter } = this.props;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    }\n    componentWillUnmount() {\n        let { emitter } = this.props;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    }\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nconst CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nclass TableDateCell extends BaseComponent {\n    render() {\n        let { dateEnv, options, theme, viewApi } = this.context;\n        let { props } = this;\n        let { date, dateProfile } = props;\n        let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        let hookProps = Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (rootElRef, customClassNames, innerElRef, innerContent) => (createElement(\"th\", Object.assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", Object.assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent)))))));\n    }\n}\n\nconst WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nclass TableDowCell extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { dateEnv, theme, viewApi, options } = this.context;\n        let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        let dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        let hookProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n            date }, dateMeta), { view: viewApi }), props.extraHookProps), { text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (rootElRef, customClassNames, innerElRef, innerContent) => (createElement(\"th\", Object.assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent))))));\n    }\n}\n\nclass NowTimer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        this.initialNowQueriedMs = new Date().valueOf();\n        this.state = this.computeTiming().currentState;\n    }\n    render() {\n        let { props, state } = this;\n        return props.children(state.nowDate, state.todayRange);\n    }\n    componentDidMount() {\n        this.setTimeout();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    }\n    componentWillUnmount() {\n        this.clearTimeout();\n    }\n    computeTiming() {\n        let { props, context } = this;\n        let unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        let currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        let nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        let waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs,\n        };\n    }\n    setTimeout() {\n        let { nextState, waitMs } = this.computeTiming();\n        this.timeoutId = setTimeout(() => {\n            this.setState(nextState, () => {\n                this.setTimeout();\n            });\n        }, waitMs);\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    }\n}\nNowTimer.contextType = ViewContextType;\nfunction buildDayRange(date) {\n    let start = startOfDay(date);\n    let end = addDays(start, 1);\n    return { start, end };\n}\n\nclass DayHeader extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n    }\n    render() {\n        let { context } = this;\n        let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n        let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map((date) => (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n    }\n}\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nclass DaySeriesModel {\n    constructor(range, dateProfileGenerator) {\n        let date = range.start;\n        let { end } = range;\n        let indices = [];\n        let dates = [];\n        let dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    sliceRange(range) {\n        let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        let clippedFirstIndex = Math.max(0, firstIndex);\n        let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    }\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    getDateDayIndex(date) {\n        let { indices } = this;\n        let dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    }\n}\n\nclass DayTableModel {\n    constructor(daySeries, breakOnWeeks) {\n        let { dates } = daySeries;\n        let daysPerRow;\n        let firstDay;\n        let rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    buildCells() {\n        let rows = [];\n        for (let row = 0; row < this.rowCnt; row += 1) {\n            let cells = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    }\n    buildCell(row, col) {\n        let date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date,\n        };\n    }\n    buildHeaderDates() {\n        let dates = [];\n        for (let col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    }\n    sliceRange(range) {\n        let { colCnt } = this;\n        let seriesSeg = this.daySeries.sliceRange(range);\n        let segs = [];\n        if (seriesSeg) {\n            let { firstIndex, lastIndex } = seriesSeg;\n            let index = firstIndex;\n            while (index <= lastIndex) {\n                let row = Math.floor(index / colCnt);\n                let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    }\n}\n\nclass Slicer {\n    constructor() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        let { eventUiBases } = props;\n        let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n        return {\n            dateSelectionSegs: this.sliceDateSelection(props.dateSelection, eventUiBases, context, ...extraArgs),\n            businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    }\n    sliceNowDate(// does not memoize\n    date, context, ...extraArgs) {\n        return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n        {}, context, ...extraArgs);\n    }\n    _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n    }\n    _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (eventStore) {\n            let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    }\n    _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (!interaction) {\n            return null;\n        }\n        let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    }\n    _sliceDateSpan(dateSpan, eventUiBases, context, ...extraArgs) {\n        if (!dateSpan) {\n            return [];\n        }\n        let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRanges(eventRanges, extraArgs) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRange(eventRange, extraArgs) {\n        let dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        let segs = this.sliceRange(dateRange, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    }\n}\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    let range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    let { instances } = interaction.mutatedEvents;\n    for (let instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    let calendarState = context.getCurrentData();\n    let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let currentState = context.getCurrentData();\n    let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    let subjectEventStore = interaction.mutatedEvents;\n    let subjectDefs = subjectEventStore.defs;\n    let subjectInstances = subjectEventStore.instances;\n    let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    let otherDefs = otherEventStore.defs;\n    let otherInstances = otherEventStore.instances;\n    let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (let subjectInstanceId in subjectInstances) {\n        let subjectInstance = subjectInstances[subjectInstanceId];\n        let subjectRange = subjectInstance.range;\n        let subjectConfig = subjectConfigs[subjectInstance.defId];\n        let subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { eventOverlap } = context.options;\n        let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (let otherInstanceId in otherInstances) {\n            let otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (let subjectAllow of subjectConfig.allows) {\n            let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            let origDef = calendarEventStore.defs[subjectDef.defId];\n            let origInstance = calendarEventStore.instances[subjectInstanceId];\n            let eventApi;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let relevantEventStore = state.eventStore;\n    let relevantDefs = relevantEventStore.defs;\n    let relevantInstances = relevantEventStore.instances;\n    let selection = state.dateSelection;\n    let selectionRange = selection.range;\n    let { selectionConfig } = context.getCurrentData();\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    let { selectOverlap } = context.options;\n    let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (let relevantInstanceId in relevantInstances) {\n        let relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (let selectionAllow of selectionConfig.allows) {\n        let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (let constraint of constraints) {\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    let { instances } = eventStore;\n    let ranges = [];\n    for (let instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (let outerRange of outerRanges) {\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nclass Scroller extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { props } = this;\n        let { liquid, liquidIsAbsolute } = props;\n        let isAbsolute = liquid && liquidIsAbsolute;\n        let className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    }\n    needsXScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    }\n    needsYScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getXScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n    getYScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n}\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nclass RefMap {\n    constructor(masterCallback) {\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = (val, key) => {\n            let { depths, currentMap } = this;\n            let removed = false;\n            let added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (this.masterCallback) {\n                if (removed) {\n                    this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    createRef(key) {\n        let refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = (val) => {\n                this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    }\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    collect(startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    }\n    getAll() {\n        return hashValuesToArray(this.currentMap);\n    }\n}\n\nfunction computeShrinkWidth(chunkEls) {\n    let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    let largestWidth = 0;\n    for (let shrinkCell of shrinkCells) {\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    let { expandRows } = arg;\n    let content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    let colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (let colProps of cols) {\n        let span = colProps.span || 1;\n        for (let i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement('colgroup', {}, ...colNodes);\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (let col of cols) {\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    let classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    let classNames = [\n        'fc-scrollgrid-section',\n        `fc-scrollgrid-section-${sectionConfig.type}`,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    let { stickyHeaderDates } = options;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    let { stickyFooterScrollbar } = options;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nclass SimpleScrollGrid extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        this.renderMicroColGroup = memoize(renderMicroColGroup);\n        this.scrollerRefs = new RefMap();\n        this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n        this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        this.handleSizing = () => {\n            this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let sectionConfigs = props.sections || [];\n        let cols = this.processCols(props.cols);\n        let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        let classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        let configCnt = sectionConfigs.length;\n        let configI = 0;\n        let currentConfig;\n        let headSectionNodes = [];\n        let bodySectionNodes = [];\n        let footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        let isBuggy = !getCanVGrowWithinCell();\n        const roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement('tfoot', roleAttrs, ...footSectionNodes), isBuggy && createElement('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n    }\n    renderSection(sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    }\n    renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        let { props } = this;\n        let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n        let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        let overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        let sectionKey = sectionConfig.key;\n        let content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: () => { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    }\n    _handleScrollerEl(scrollerEl, key) {\n        let section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    }\n    componentDidMount() {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    }\n    componentDidUpdate() {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleSizing);\n    }\n    computeShrinkWidth() {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    }\n    computeScrollerDims() {\n        let scrollbarWidth = getScrollbarWidths();\n        let { scrollerRefs, scrollerElRefs } = this;\n        let forceYScrollbars = false;\n        let scrollerClientWidths = {};\n        let scrollerClientHeights = {};\n        for (let sectionKey in scrollerRefs.currentMap) {\n            let scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (let section of this.props.sections) {\n            let sectionKey = section.key;\n            let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n    }\n}\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (let section of sections) {\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nclass EventRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let { eventRange } = seg;\n        let { ui } = eventRange;\n        let hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        let standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, (rootElRef, customClassNames, innerElRef, innerContent) => props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps)));\n    }\n    componentDidMount() {\n        setElSeg(this.elRef.current, this.props.seg);\n    }\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    componentDidUpdate(prevProps) {\n        let { seg } = this.props;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    }\n}\n\n// should not be a purecomponent\nclass StandardEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { seg } = props;\n        let timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, (rootElRef, classNames, innerElRef, innerContent, hookProps) => (createElement(\"a\", Object.assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" })))));\n    }\n}\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nconst NowIndicatorRoot = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { options } = context;\n    let hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n}));\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nclass DayCellContent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    }\n}\nfunction refineDayCellHookProps(raw) {\n    let { date, dateEnv } = raw;\n    let dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nclass DayCellRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        this.normalizeClassNames = buildClassNameNormalizer();\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        let classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        let dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, (rootElRef) => props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled)));\n    }\n}\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: `fc-${fillType}` }));\n}\nconst BgEvent = (props) => (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, (rootElRef, classNames, innerElRef, innerContent, hookProps) => (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent))));\nfunction renderInnerContent(props) {\n    let { title } = props.event;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nconst WeekNumberRoot = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { dateEnv, options } = context;\n    let { date } = props;\n    let format = options.weekNumberFormat || props.defaultFormat;\n    let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    let text = dateEnv.format(date, format);\n    let hookProps = { num, text, date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n}));\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nconst PADDING_FROM_VIEWPORT = 10;\nclass Popover extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            titleId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.handleDocumentMouseDown = (ev) => {\n            // only hide the popover if the click happened outside the popover\n            const target = getEventTargetViaRoot(ev);\n            if (!this.rootEl.contains(target)) {\n                this.handleCloseClick();\n            }\n        };\n        this.handleDocumentKeyDown = (ev) => {\n            if (ev.key === 'Escape') {\n                this.handleCloseClick();\n            }\n        };\n        this.handleCloseClick = () => {\n            let { onClose } = this.props;\n            if (onClose) {\n                onClose();\n            }\n        };\n    }\n    render() {\n        let { theme, options } = this.context;\n        let { props, state } = this;\n        let classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", Object.assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    }\n    updateSize() {\n        let { isRtl } = this.context;\n        let { alignmentEl, alignGridTop } = this.props;\n        let { rootEl } = this;\n        let alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            let popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            let popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            let origin = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin.top,\n                left: popoverLeft - origin.left,\n            });\n        }\n    }\n}\n\nclass MorePopover extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { options, dateEnv } = this.context;\n        let { props } = this;\n        let { startDate, todayRange, dateProfile } = props;\n        let title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, (rootElRef, dayClassNames, dataAttrs) => (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (innerElRef, innerContent) => (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent))),\n            props.children))));\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        let { rootEl, props } = this;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: Object.assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    }\n}\n\nclass MoreLinkRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.linkElRef = createRef();\n        this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        this.handleClick = (ev) => {\n            let { props, context } = this;\n            let { moreLinkClick } = context.options;\n            let date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                let { def, instance, range } = seg.eventRange;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        this.handlePopoverClose = () => {\n            this.setState({ isPopoverOpen: false });\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(ViewContextType.Consumer, null, (context) => {\n            let { viewApi, options, calendarApi } = context;\n            let { moreLinkText } = options;\n            let { moreCnt } = props;\n            let range = computeRange(props);\n            let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : `+${moreCnt} ${moreLinkText}`;\n            let title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            let hookProps = {\n                num: moreCnt,\n                shortText: `+${moreCnt}`,\n                text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, (rootElRef, customClassNames, innerElRef, innerContent) => props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''))),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    }\n    componentDidMount() {\n        this.updateParentEl();\n    }\n    componentDidUpdate() {\n        this.updateParentEl();\n    }\n    updateParentEl() {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    let { hiddenSegs } = props;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nconst version = '6.0.0-beta.1'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkAttrs, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createAriaClickAttrs, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElRoot, getElSeg, getEntrySpanEnd, getEventClassNames, getEventTargetViaRoot, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegAnchorAttrs, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, getUniqueDomId, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushSync = FullCalendarVDom.flushSync;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushSync, render, unmountComponentAtNode };\n","/*!\nFullCalendar v6.0.0-beta.1\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport './vdom.js';\nimport { CalendarApi, flushSync, render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nclass Calendar extends CalendarApi {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0; // will affect custom generated classNames?\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(CustomContentRenderContext.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                unmountComponentAtNode(this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    get view() { return this.currentData.viewApi; } // for public API\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nexport { Calendar };\n","import * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nlet globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext,\n        createPortal: preactCompat.createPortal,\n        flushSync,\n        unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    let oldDebounceRendering = preact.options.debounceRendering; // orig\n    let callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nclass FakeComponent extends preact.Component {\n    render() { return preact.createElement('div', {}); }\n    componentDidMount() { this.setState({}); }\n}\nfunction createContext(defaultValue) {\n    let ContextType = preact.createContext(defaultValue);\n    let origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        let isNew = !this.getChildContext;\n        let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            let subs = [];\n            this.shouldComponentUpdate = (_props) => {\n                if (this.props.value !== _props.value) {\n                    subs.forEach((c) => {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = (c) => {\n                subs.push(c);\n                let old = c.componentWillUnmount;\n                c.componentWillUnmount = () => {\n                    subs.splice(subs.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v6.0.0-beta.1\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport { DateComponent, createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, BaseComponent, buildNavLinkAttrs, DayCellContent, Fragment, createFormatter, StandardEvent, buildSegTimeText, EventRoot, getSegAnchorAttrs, memoize, MoreLinkRoot, getSegMeta, createAriaClickAttrs, getUniqueDomId, setRef, DayCellRoot, WeekNumberRoot, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, isPropsEqual, RefMap, sortEventSegs, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, DateProfileGenerator, addWeeks, diffWeeks, createPlugin } from '@fullcalendar/common';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, (rootElRef, classNames) => (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })))));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, (rootElRef, classNames) => (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })))));\n    }\n}\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TableCellTop extends BaseComponent {\n    render() {\n        let { props } = this;\n        let navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, (innerElRef, innerContent) => ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", Object.assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\")))))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, (rootElRef, classNames, innerElRef, innerContent) => ( // we don't use styles!\n        createElement(\"a\", Object.assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent))));\n    }\n}\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) => (createElement(\"a\", Object.assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent))));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { date, dateProfile } = props;\n        let navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, (dayElRef, dayClassNames, rootDataAttrs, isDisabled) => (createElement(\"td\", Object.assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (weekElRef, weekClassNames, innerElRef, innerContent) => (createElement(\"a\", Object.assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)))),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent))))));\n    }\n}\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let { instanceId } = seg.eventRange.instance;\n        let eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            // if not already hidden\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    const placeholderEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    const placeholderEntryId = buildEntryKey(placeholderEntry);\n                    forceHidden[placeholderEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        return super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let key = instanceId + ':' + col;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            const oldInstanceHeights = this.state.eventInstanceHeights;\n            const newInstanceHeights = this.queryEventInstanceHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                eventInstanceHeights: Object.assign(Object.assign({}, oldInstanceHeights), newInstanceHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    queryEventInstanceHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (let key in segElMap) {\n            let height = Math.round(segElMap[key].getBoundingClientRect().height);\n            let instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitSegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { props } = this;\n        let { dateProfile, dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null,\n                createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" }, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint }))))))))));\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let { dateEnv } = this.props;\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let start = renderRange.start;\n        let end = renderRange.end;\n        let endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start, end };\n    }\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n:root {\\n  --fc-daygrid-event-dot-width: 8px;\\n}\\n/* help things clear margins of inner content */\\n.fc-daygrid-day-frame,\\n.fc-daygrid-day-events,\\n.fc-daygrid-event-harness { /* for event top/bottom margins */\\n}\\n.fc-daygrid-day-frame:before, .fc-daygrid-day-events:before, .fc-daygrid-event-harness:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc-daygrid-day-frame:after, .fc-daygrid-day-events:after, .fc-daygrid-event-harness:after {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-body { /* a <div> that wraps the table */\\n    position: relative;\\n    z-index: 1; /* container inner z-index's because <tr>s can't do it */\\n  }\\n.fc .fc-daygrid-day.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n.fc .fc-daygrid-day-frame {\\n    position: relative;\\n    min-height: 100%; /* seems to work better than `height` because sets height after rows/cells naturally do it */\\n  }\\n.fc {\\n\\n  /* cell top */\\n\\n}\\n.fc .fc-daygrid-day-top {\\n    display: flex;\\n    flex-direction: row-reverse;\\n  }\\n.fc .fc-day-other .fc-daygrid-day-top {\\n    opacity: 0.3;\\n  }\\n.fc {\\n\\n  /* day number (within cell top) */\\n\\n}\\n.fc .fc-daygrid-day-number {\\n    position: relative;\\n    z-index: 4;\\n    padding: 4px;\\n  }\\n.fc {\\n\\n  /* event container */\\n\\n}\\n.fc .fc-daygrid-day-events {\\n    margin-top: 1px; /* needs to be margin, not padding, so that available cell height can be computed */\\n  }\\n.fc {\\n\\n  /* positioning for balanced vs natural */\\n\\n}\\n.fc .fc-daygrid-body-balanced .fc-daygrid-day-events {\\n      position: absolute;\\n      left: 0;\\n      right: 0;\\n    }\\n.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events {\\n      position: relative; /* for containing abs positioned event harnesses */\\n      min-height: 2em; /* in addition to being a min-height during natural height, equalizes the heights a little bit */\\n    }\\n.fc .fc-daygrid-body-natural { /* can coexist with -unbalanced */\\n  }\\n.fc .fc-daygrid-body-natural .fc-daygrid-day-events {\\n      margin-bottom: 1em;\\n    }\\n.fc {\\n\\n  /* event harness */\\n\\n}\\n.fc .fc-daygrid-event-harness {\\n    position: relative;\\n  }\\n.fc .fc-daygrid-event-harness-abs {\\n    position: absolute;\\n    top: 0; /* fallback coords for when cannot yet be computed */\\n    left: 0; /* */\\n    right: 0; /* */\\n  }\\n.fc .fc-daygrid-bg-harness {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n  }\\n.fc {\\n\\n  /* bg content */\\n\\n}\\n.fc .fc-daygrid-day-bg .fc-non-business { z-index: 1 }\\n.fc .fc-daygrid-day-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-daygrid-day-bg .fc-highlight { z-index: 3 }\\n.fc {\\n\\n  /* events */\\n\\n}\\n.fc .fc-daygrid-event {\\n    z-index: 6;\\n    margin-top: 1px;\\n  }\\n.fc .fc-daygrid-event.fc-event-mirror {\\n    z-index: 7;\\n  }\\n.fc {\\n\\n  /* cell bottom (within day-events) */\\n\\n}\\n.fc .fc-daygrid-day-bottom {\\n    font-size: .85em;\\n    padding: 2px 3px 0\\n  }\\n.fc .fc-daygrid-day-bottom:before {\\n  content: \\\"\\\";\\n  clear: both;\\n  display: table; }\\n.fc .fc-daygrid-more-link {\\n    position: relative;\\n    z-index: 4;\\n    cursor: pointer;\\n  }\\n.fc {\\n\\n  /* week number (within frame) */\\n\\n}\\n.fc .fc-daygrid-week-number {\\n    position: absolute;\\n    z-index: 5;\\n    top: 0;\\n    padding: 2px;\\n    min-width: 1.5em;\\n    text-align: center;\\n    background-color: rgba(208, 208, 208, 0.3);\\n    background-color: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\\n    color: #808080;\\n    color: var(--fc-neutral-text-color, #808080);\\n  }\\n.fc {\\n\\n  /* popover */\\n\\n}\\n.fc .fc-more-popover .fc-popover-body {\\n    min-width: 220px;\\n    padding: 10px;\\n  }\\n.fc-direction-ltr .fc-daygrid-event.fc-event-start,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-end {\\n  margin-left: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-event.fc-event-end,\\n.fc-direction-rtl .fc-daygrid-event.fc-event-start {\\n  margin-right: 2px;\\n}\\n.fc-direction-ltr .fc-daygrid-week-number {\\n    left: 0;\\n    border-radius: 0 0 3px 0;\\n  }\\n.fc-direction-rtl .fc-daygrid-week-number {\\n    right: 0;\\n    border-radius: 0 0 0 3px;\\n  }\\n.fc-liquid-hack .fc-daygrid-day-frame {\\n    position: static; /* will cause inner absolute stuff to expand to <td> */\\n  }\\n.fc-daygrid-event { /* make root-level, because will be dragged-and-dropped outside of a component root */\\n  position: relative; /* for z-indexes assigned later */\\n  white-space: nowrap;\\n  border-radius: 3px; /* dot event needs this to when selected */\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n}\\n/* --- the rectangle (\\\"block\\\") style of event --- */\\n.fc-daygrid-block-event .fc-event-time {\\n    font-weight: bold;\\n  }\\n.fc-daygrid-block-event .fc-event-time,\\n  .fc-daygrid-block-event .fc-event-title {\\n    padding: 1px;\\n  }\\n/* --- the dot style of event --- */\\n.fc-daygrid-dot-event {\\n  display: flex;\\n  align-items: center;\\n  padding: 2px 0\\n\\n}\\n.fc-daygrid-dot-event .fc-event-title {\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-width: 0; /* important for allowing to shrink all the way */\\n    overflow: hidden;\\n    font-weight: bold;\\n  }\\n.fc-daygrid-dot-event:hover,\\n  .fc-daygrid-dot-event.fc-event-mirror {\\n    background: rgba(0, 0, 0, 0.1);\\n  }\\n.fc-daygrid-dot-event.fc-event-selected:before {\\n    /* expand hit area */\\n    top: -10px;\\n    bottom: -10px;\\n  }\\n.fc-daygrid-event-dot { /* the actual dot */\\n  margin: 0 4px;\\n  box-sizing: content-box;\\n  width: 0;\\n  height: 0;\\n  border: 4px solid #3788d8;\\n  border: calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color, #3788d8);\\n  border-radius: 4px;\\n  border-radius: calc(var(--fc-daygrid-event-dot-width, 8px) / 2);\\n}\\n/* --- spacing between time and title --- */\\n.fc-direction-ltr .fc-daygrid-event .fc-event-time {\\n    margin-right: 3px;\\n  }\\n.fc-direction-rtl .fc-daygrid-event .fc-event-time {\\n    margin-left: 3px;\\n  }\\n\";\nstyleInject(css_248z);\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n","/*!\nFullCalendar v6.0.0-beta.1\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, getElRoot, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n    constructor(containerEl) {\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = (ev) => {\n            if (!this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                this.tryStart(ev)) {\n                let pev = this.createEventFromMouse(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                if (!this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = (ev) => {\n            let pev = this.createEventFromMouse(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = (ev) => {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n            this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n            this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = (ev) => {\n            if (this.tryStart(ev)) {\n                this.isTouchDragging = true;\n                let pev = this.createEventFromTouch(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                let targetEl = ev.target;\n                if (!this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = (ev) => {\n            let pev = this.createEventFromTouch(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = (ev) => {\n            if (this.isDragging) { // done to guard against touchend followed by touchcancel\n                let targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', this.handleTouchMove);\n                targetEl.removeEventListener('touchend', this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n                window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n                this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n                this.cleanup(); // call last so that pointerup has access to props\n                this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = () => {\n            this.wasTouchScroll = true;\n        };\n        this.handleScroll = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                let pageX = (window.pageXOffset - this.prevScrollX) + this.prevPageX;\n                let pageY = (window.pageYOffset - this.prevScrollY) + this.prevPageY;\n                this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: this.isTouchDragging,\n                    subjectEl: this.subjectEl,\n                    pageX,\n                    pageY,\n                    deltaX: pageX - this.origPageX,\n                    deltaY: pageY - this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    destroy() {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    }\n    tryStart(ev) {\n        let subjectEl = this.querySubjectEl(ev);\n        let downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    }\n    cleanup() {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    }\n    querySubjectEl(ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    }\n    shouldIgnoreMouse() {\n        return ignoreMouseDepth || this.isTouchDragging;\n    }\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    cancelTouchScroll() {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    }\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    initScrollWatch(ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    }\n    recordCoords(ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    }\n    destroyScrollWatch() {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    }\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    createEventFromMouse(ev, isFirst) {\n        let deltaX = 0;\n        let deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n    createEventFromTouch(ev, isFirst) {\n        let touches = ev.touches;\n        let pageX;\n        let pageY;\n        let deltaX = 0;\n        let deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX,\n            pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(() => {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n    constructor() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    start(sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    }\n    handleMove(pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    }\n    // can be called before start\n    setIsVisible(bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    }\n    // always async\n    stop(needsRevertAnimation, callback) {\n        let done = () => {\n            this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    }\n    doRevertAnimation(callback, revertDuration) {\n        let mirrorEl = this.mirrorEl;\n        let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, () => {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    }\n    cleanup() {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    }\n    updateElPosition() {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    }\n    getMirrorEl() {\n        let sourceElRect = this.sourceElRect;\n        let mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n    constructor(scrollController, doesListening) {\n        super();\n        this.handleScroll = () => {\n            this.scrollTop = this.scrollController.getScrollTop();\n            this.scrollLeft = this.scrollController.getScrollLeft();\n            this.handleScrollChange();\n        };\n        this.scrollController = scrollController;\n        this.doesListening = doesListening;\n        this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n        this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n        this.scrollWidth = scrollController.getScrollWidth();\n        this.scrollHeight = scrollController.getScrollHeight();\n        this.clientWidth = scrollController.getClientWidth();\n        this.clientHeight = scrollController.getClientHeight();\n        this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n        if (this.doesListening) {\n            this.getEventTarget().addEventListener('scroll', this.handleScroll);\n        }\n    }\n    destroy() {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    }\n    getScrollTop() {\n        return this.scrollTop;\n    }\n    getScrollLeft() {\n        return this.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    }\n    setScrollLeft(top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    }\n    getClientWidth() {\n        return this.clientWidth;\n    }\n    getClientHeight() {\n        return this.clientHeight;\n    }\n    getScrollWidth() {\n        return this.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.scrollHeight;\n    }\n    handleScrollChange() {\n    }\n}\n\nclass ElementScrollGeomCache extends ScrollGeomCache {\n    constructor(el, doesListening) {\n        super(new ElementScrollController(el), doesListening);\n    }\n    getEventTarget() {\n        return this.scrollController.el;\n    }\n    computeClientRect() {\n        return computeInnerRect(this.scrollController.el);\n    }\n}\n\nclass WindowScrollGeomCache extends ScrollGeomCache {\n    constructor(doesListening) {\n        super(new WindowScrollController(), doesListening);\n    }\n    getEventTarget() {\n        return window;\n    }\n    computeClientRect() {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    }\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    handleScrollChange() {\n        this.clientRect = this.computeClientRect();\n    }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n    constructor() {\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = () => {\n            if (this.isAnimating) { // wasn't cancelled between animation calls\n                let edge = this.computeBestEdge(this.pointerScreenX + window.pageXOffset, this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    let now = getTime();\n                    this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n                    this.requestAnimation(now);\n                }\n                else {\n                    this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    start(pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    }\n    handleMove(pageX, pageY) {\n        if (this.isEnabled) {\n            let pointerScreenX = pageX - window.pageXOffset;\n            let pointerScreenY = pageY - window.pageYOffset;\n            let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    }\n    stop() {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (let scrollCache of this.scrollCaches) {\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    }\n    requestAnimation(now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    }\n    handleSide(edge, seconds) {\n        let { scrollCache } = edge;\n        let { edgeThreshold } = this;\n        let invDistance = edgeThreshold - edge.distance;\n        let velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        let sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    }\n    // left/top are relative to document topleft\n    computeBestEdge(left, top) {\n        let { edgeThreshold } = this;\n        let bestSide = null;\n        let scrollCaches = this.scrollCaches || [];\n        for (let scrollCache of scrollCaches) {\n            let rect = scrollCache.clientRect;\n            let leftDist = left - rect.left;\n            let rightDist = rect.right - left;\n            let topDist = top - rect.top;\n            let bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    }\n    buildCaches(scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map((el) => {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    }\n    queryScrollEls(scrollStartEl) {\n        let els = [];\n        for (let query of this.scrollQuery) {\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push(...Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n            }\n        }\n        return els;\n    }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n    constructor(containerEl, selector) {\n        super(containerEl);\n        this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        this.delay = null;\n        this.minDistance = 0;\n        this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        this.mirrorNeedsRevert = false;\n        this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        this.delayTimeoutId = null;\n        this.onPointerDown = (ev) => {\n            if (!this.isDragging) { // so new drag doesn't happen while revert animation is going\n                this.isInteracting = true;\n                this.isDelayEnded = false;\n                this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                this.emitter.trigger('pointerdown', ev);\n                if (this.isInteracting && // not destroyed via pointerdown handler\n                    !this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    this.startDelay(ev);\n                    if (!this.minDistance) {\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        this.onPointerMove = (ev) => {\n            if (this.isInteracting) {\n                this.emitter.trigger('pointermove', ev);\n                if (!this.isDistanceSurpassed) {\n                    let minDistance = this.minDistance;\n                    let distanceSq; // current distance from the origin, squared\n                    let { deltaX, deltaY } = ev;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        this.mirror.handleMove(ev.pageX, ev.pageY);\n                        this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        this.onPointerUp = (ev) => {\n            if (this.isInteracting) {\n                this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (this.isDragging) {\n                    this.autoScroller.stop();\n                    this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (this.delayTimeoutId) {\n                    clearTimeout(this.delayTimeoutId);\n                    this.delayTimeoutId = null;\n                }\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.onPointerDown);\n        pointer.emitter.on('pointermove', this.onPointerMove);\n        pointer.emitter.on('pointerup', this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        this.mirror = new ElementMirror();\n        this.autoScroller = new AutoScroller();\n    }\n    destroy() {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    }\n    startDelay(ev) {\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(() => {\n                this.delayTimeoutId = null;\n                this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    }\n    handleDelayEnd(ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    }\n    handleDistanceSurpassed(ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    }\n    tryStartDrag(ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    }\n    tryStopDrag(ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    }\n    stopDrag(ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    }\n    // fill in the implementations...\n    setIgnoreMove(bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        this.mirror.setIsVisible(bool);\n    }\n    setMirrorNeedsRevert(bool) {\n        this.mirrorNeedsRevert = bool;\n    }\n    setAutoScrollEnabled(bool) {\n        this.autoScroller.isEnabled = bool;\n    }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n    constructor(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map((scrollEl) => new ElementScrollGeomCache(scrollEl, true));\n    }\n    destroy() {\n        for (let scrollCache of this.scrollCaches) {\n            scrollCache.destroy();\n        }\n    }\n    computeLeft() {\n        let left = this.origRect.left;\n        for (let scrollCache of this.scrollCaches) {\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    }\n    computeTop() {\n        let top = this.origRect.top;\n        for (let scrollCache of this.scrollCaches) {\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    }\n    isWithinClipping(pageX, pageY) {\n        let point = { left: pageX, top: pageY };\n        for (let scrollCache of this.scrollCaches) {\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    let tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n    constructor(dragging, droppableStore) {\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null;\n            this.prepareHits();\n            this.processFirstCoord(ev);\n            if (this.initialHit || !this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = (ev) => {\n            this.emitter.trigger('dragstart', ev);\n            this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = (ev) => {\n            this.emitter.trigger('dragmove', ev);\n            this.handleMove(ev);\n        };\n        this.handlePointerUp = (ev) => {\n            this.releaseHits();\n            this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.movingHit) {\n                this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            this.finalHit = this.movingHit;\n            this.movingHit = null;\n            this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    processFirstCoord(ev) {\n        let origPoint = { left: ev.pageX, top: ev.pageY };\n        let adjustedPoint = origPoint;\n        let subjectEl = ev.subjectEl;\n        let subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    }\n    handleMove(ev, forceHandle) {\n        let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    }\n    prepareHits() {\n        this.offsetTrackers = mapHash(this.droppableStore, (interactionSettings) => {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    }\n    releaseHits() {\n        let { offsetTrackers } = this;\n        for (let id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    }\n    queryHitForOffset(offsetLeft, offsetTop) {\n        let { droppableStore, offsetTrackers } = this;\n        let bestHit = null;\n        for (let id in droppableStore) {\n            let component = droppableStore[id].component;\n            let offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                let originLeft = offsetTracker.computeLeft();\n                let originTop = offsetTracker.computeTop();\n                let positionLeft = offsetLeft - originLeft;\n                let positionTop = offsetTop - originTop;\n                let { origRect } = offsetTracker;\n                let width = origRect.right - origRect.left;\n                let height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    let hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    }\n}\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.datePointTransforms) {\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handlePointerDown = (pev) => {\n            let { dragging } = this;\n            let downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        this.handleDragEnd = (ev) => {\n            let { component } = this;\n            let { pointer } = this.dragging;\n            if (!pointer.wasTouchScroll) {\n                let { initialHit, finalHit } = this.hitDragging;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    let { context } = component;\n                    let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        this.dragging = new FeaturefulElementDragging(settings.el);\n        this.dragging.autoScroller.isEnabled = false;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.dragSelection = null;\n        this.handlePointerDown = (ev) => {\n            let { component, dragging } = this;\n            let { options } = component.context;\n            let canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        this.handleDragStart = (ev) => {\n            this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            let { context } = this.component;\n            let dragSelection = null;\n            let isInvalid = false;\n            if (hit) {\n                let initialHit = this.hitDragging.initialHit;\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        this.handlePointerUp = (pev) => {\n            if (this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(this.dragSelection, pev, this.component.context);\n                this.dragSelection = null;\n            }\n        };\n        let { component } = settings;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\nfunction getComponentTouchDelay$1(component) {\n    let { options } = component.context;\n    let delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    let props = {};\n    for (let transformer of dateSelectionTransformers) {\n        let res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nclass EventDragging extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.subjectEl = null;\n        this.subjectSeg = null; // the seg being selected/dragged\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null; // the events being dragged\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let origTarget = ev.origEvent.target;\n            let { component, dragging } = this;\n            let { mirror } = dragging;\n            let { options } = component.context;\n            let initialContext = component.context;\n            this.subjectEl = ev.subjectEl;\n            let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n            let eventRange = this.eventRange = subjectSeg.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            let isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        this.handleDragStart = (ev) => {\n            let initialContext = this.component.context;\n            let eventRange = this.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            if (!this.isDragging) {\n                return;\n            }\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let initialContext = this.component.context;\n            // states based on new hit\n            let receivingContext = null;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                let receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                this.dragging.setMirrorIsVisible(!hit || !getElRoot(this.subjectEl).querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                this.receivingContext = receivingContext;\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handlePointerUp = () => {\n            if (!this.isDragging) {\n                this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.isDragging) {\n                let initialContext = this.component.context;\n                let initialView = initialContext.viewApi;\n                let { receivingContext, validMutation } = this;\n                let eventDef = this.eventRange.def;\n                let eventInstance = this.eventRange.instance;\n                let eventApi = new EventApi(initialContext, eventDef, eventInstance);\n                let relevantEvents = this.relevantEvents;\n                let mutatedRelevantEvents = this.mutatedRelevantEvents;\n                let { finalHit } = this.hitDragging;\n                this.clearDrag(); // must happen after revert animation\n                initialContext.emitter.trigger('eventDragStop', {\n                    el: this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext === initialContext) {\n                        let updatedEventApi = new EventApi(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                        initialContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents, // the pre-change data\n                                });\n                            },\n                        };\n                        let transformed = {};\n                        for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n                            __assign(transformed, transformer(validMutation, initialContext));\n                        }\n                        initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext) {\n                        let eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents,\n                                });\n                            },\n                        };\n                        initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                        initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n                        let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n                        let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n                        let addedEventApi = new EventApi(receivingContext, addedEventDef, addedEventInstance);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n                            revert() {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents,\n                                });\n                            },\n                        };\n                        receivingContext.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext.emitter.trigger('_noEventDrop');\n                }\n            }\n            this.cleanup();\n        };\n        let { component } = this;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    // render a drag state on the next receivingCalendar\n    displayDrag(nextContext, state) {\n        let initialContext = this.component.context;\n        let prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        let initialCalendar = this.component.context;\n        let { receivingContext } = this;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    cleanup() {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, massagers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let date0 = dateSpan0.range.start;\n    let date1 = dateSpan1.range.start;\n    let standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    let mutation = {\n        datesDelta: delta,\n        standardProps,\n    };\n    for (let massager of massagers) {\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    let { options } = component.context;\n    let delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nclass EventResizing extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.draggingSegEl = null;\n        this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let { component } = this;\n            let segEl = this.querySegEl(ev);\n            let seg = getElSeg(segEl);\n            let eventRange = this.eventRange = seg.eventRange;\n            this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        this.handleDragStart = (ev) => {\n            let { context } = this.component;\n            let eventRange = this.eventRange;\n            this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n            let segEl = this.querySegEl(ev);\n            this.draggingSegEl = segEl;\n            this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { context } = this.component;\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let eventInstance = this.eventRange.instance;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            let { context } = this.component;\n            let eventDef = this.eventRange.def;\n            let eventInstance = this.eventRange.instance;\n            let eventApi = new EventApi(context, eventDef, eventInstance);\n            let relevantEvents = this.relevantEvents;\n            let mutatedRelevantEvents = this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (this.validMutation) {\n                let updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                let eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert() {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), { el: this.draggingSegEl, startDelta: this.validMutation.startDelta || createDuration(0), endDelta: this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            this.draggingSeg = null;\n            this.relevantEvents = null;\n            this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        let { component } = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    querySegEl(ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    let dateEnv = hit0.context.dateEnv;\n    let date0 = hit0.dateSpan.range.start;\n    let date1 = hit1.dateSpan.range.start;\n    let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nclass UnselectAuto {\n    constructor(context) {\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = (selectInfo) => {\n            if (selectInfo.jsEvent) {\n                this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = (pev) => {\n            let unselectCancel = this.context.options.unselectCancel;\n            let downEl = getEventTargetViaRoot(pev.origEvent);\n            this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = (pev) => {\n            let { context } = this;\n            let { documentPointer } = this;\n            let calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    let unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            this.isRecentPointerDateSelect = false;\n        };\n        let documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    destroy() {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    }\n}\n\nconst OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nconst LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n    constructor(dragging, suppliedDragMeta) {\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = (ev) => {\n            this.dragMeta = this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { dragging } = this.hitDragging;\n            let receivingContext = null;\n            let droppableEvent = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                this.receivingContext = receivingContext;\n                this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = (pev) => {\n            let { receivingContext, droppableEvent } = this;\n            this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                let finalHit = this.hitDragging.finalHit;\n                let finalView = finalHit.context.viewApi;\n                let dragMeta = this.dragMeta;\n                receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    let addingEvents = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert() {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            this.receivingContext = null;\n            this.droppableEvent = null;\n        };\n        let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    buildDragMeta(subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    }\n    displayDrag(nextContext, state) {\n        let prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    canDropElOnCalendar(el, receivingContext) {\n        let dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    let defProps = Object.assign({}, dragMeta.leftoverProps);\n    for (let transform of context.pluginHooks.externalDefTransforms) {\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    let { refined, extra } = refineEventDef(defProps, context);\n    let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    let start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    let end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    let instance = createEventInstance(def.defId, { start, end });\n    return { def, instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    let str = getEmbeddedElData(el, 'event');\n    let obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    let prefix = config.dataAttrPrefix;\n    let prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n    constructor(el, settings = {}) {\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            let { minDistance, longPressDelay } = this.settings;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = (ev) => {\n            if (ev.isTouch &&\n                this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n    constructor(containerEl) {\n        super(containerEl);\n        this.shouldIgnoreMove = false;\n        this.mirrorSelector = '';\n        this.currentMirrorEl = null;\n        this.handlePointerDown = (ev) => {\n            this.emitter.trigger('pointerdown', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                this.emitter.trigger('dragstart', ev);\n            }\n        };\n        this.handlePointerMove = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                this.emitter.trigger('dragmove', ev);\n            }\n        };\n        this.handlePointerUp = (ev) => {\n            this.emitter.trigger('pointerup', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                this.emitter.trigger('dragend', ev);\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.handlePointerDown);\n        pointer.emitter.on('pointermove', this.handlePointerMove);\n        pointer.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.pointer.destroy();\n    }\n    setIgnoreMove(bool) {\n        this.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            let mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n    constructor(containerOrSettings, settings) {\n        let containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        let dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n","/*!\nFullCalendar v6.0.0-beta.1\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport { Splitter, hasBgRendering, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, DateComponent, createRef, diffDays, buildNavLinkAttrs, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, memoize, sortEventSegs, DayCellRoot, Fragment, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nclass AllDaySplitter extends Splitter {\n    getKeyInfo() {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    }\n    getKeysForDateSpan(dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    }\n    getKeysForEventDef(eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    }\n}\n\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    let classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, (context) => {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        let { dateEnv, options, viewApi } = context;\n        let labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        let hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (rootElRef, customClassNames, innerElRef, innerContent) => (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent))))));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nclass TimeBodyAxis extends BaseComponent {\n    render() {\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\n    }\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nclass TimeColsView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        this.headerElRef = createRef();\n        this.rootElRef = createRef();\n        this.scrollerElRef = createRef();\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleScrollTopRequest = (scrollTop) => {\n            let scrollerEl = this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\n            let { options } = this.context;\n            let { dateProfile } = this.props;\n            let range = dateProfile.renderRange;\n            let dayCnt = diffDays(range.start, range.end);\n            let navLinkAttrs = (dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (rootElRef, classNames, innerElRef, innerContent) => (createElement(\"th\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", Object.assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent))))));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        this.renderTableRowAxis = (rowHeight) => {\n            let { options, viewApi } = this.context;\n            let hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (rootElRef, classNames, innerElRef, innerContent) => (createElement(\"td\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent))))));\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n        };\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\n        let { context, props } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, (rootElRef, classNames) => (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })))));\n    }\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { context, props } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        let isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: (arg) => (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\n                                let nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, (rootElRef, classNames, innerElRef, innerContent) => (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent))));\n                                }\n                                return null;\n                            })))),\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, (rootElRef, classNames) => (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections })))));\n    }\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    getAllDayMaxEventProps() {\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents, dayMaxEventRows };\n    }\n}\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nclass TimeColsSlatsCoords {\n    constructor(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    safeComputeTop(date) {\n        let { dateProfile } = this;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            let startOfDayDate = startOfDay(date);\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    computeDateTop(when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    computeTimeTop(duration) {\n        let { positions, dateProfile } = this;\n        let len = positions.els.length;\n        // floating-point value of # of slots covered\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        let slatIndex;\n        let slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    }\n}\n\nclass TimeColsSlatsBody extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { slatElRefs } = props;\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\n            let hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            let classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, (rootElRef, customClassNames, innerElRef, innerContent) => (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)))));\n        })));\n    }\n}\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nclass TimeColsSlats extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.slatElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    }\n    componentDidMount() {\n        this.updateSizing();\n    }\n    componentDidUpdate() {\n        this.updateSizing();\n    }\n    componentWillUnmount() {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    }\n    updateSizing() {\n        let { context, props } = this;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            let rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    }\n}\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    let segsByCol = [];\n    let i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TimeColMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n    }\n    render() {\n        let { props } = this;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props) }, (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) => (createElement(\"a\", { ref: (el) => {\n                setRef(rootElRef, el);\n                setRef(this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick, title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent)))));\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    let hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    let web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    let segRects = webToRects(web);\n    return { segRects, hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    const { entriesByLevel } = hierarchy;\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\n        let entry = entriesByLevel[level][lateral];\n        return [\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    let { level, lateralStart, lateralEnd } = siblingRange;\n    let lateral = lateralStart;\n    let pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    let { levelCoords, entriesByLevel } = hierarchy;\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    let levelCnt = levelCoords.length;\n    let level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        let entries = entriesByLevel[level];\n        let entry;\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        let lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level, lateralStart, lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\n        let { nextLevelNodes, thickness } = node;\n        let allThickness = thickness + prevThickness;\n        let thicknessFraction = thickness / allThickness;\n        let endCoord;\n        let newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (let childNode of nextLevelNodes) {\n                if (endCoord === undefined) {\n                    let res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    let res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    let rects = [];\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\n            stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        let stackForward = 0;\n        for (let node of nodes) {\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    const cache = {};\n    return (...args) => {\n        let key = keyFunc(...args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc(...args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\n    let vcoords = [];\n    if (slatCoords) {\n        for (let i = 0; i < segs.length; i += 1) {\n            let seg = segs[i];\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    let segInputs = [];\n    let dumbSegs = []; // segs without coords\n    for (let i = 0; i < segs.length; i += 1) {\n        let vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\n    let segPlacements = [];\n    for (let segRect of segRects) {\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (let dumbSeg of dumbSegs) {\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements, hiddenGroups };\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nclass TimeColEvent extends BaseComponent {\n    render() {\n        let classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, Object.assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    }\n}\n\nclass TimeColMisc extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, (innerElRef, innerContent) => (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent))));\n    }\n}\n\nclass TimeCol extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.sortEventSegs = memoize(sortEventSegs);\n    }\n    // TODO: memoize event-placement?\n    render() {\n        let { props, context } = this;\n        let isSelectMirror = context.options.selectMirror;\n        let mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        let interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, (rootElRef, classNames, dataAttrs) => (createElement(\"td\", Object.assign({ ref: rootElRef, role: \"gridcell\", className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }))))));\n    }\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        let { props } = this;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    }\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map((segPlacement) => {\n                let { seg, rect } = segPlacement;\n                let instanceId = seg.eventRange.instance.instanceId;\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                let vStyle = computeSegVStyle(rect && rect.span);\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                let isInset = Boolean(rect) && rect.stackForward > 0;\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    }\n    // will already have eventMinHeight applied because segInputs already had it\n    renderHiddenGroups(hiddenGroups, segs) {\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\n            let positionCss = computeSegVStyle(hiddenGroup.span);\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    }\n    renderFillSegs(segs, fillType) {\n        let { props, context } = this;\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        let children = segVCoords.map((vcoords, i) => {\n            let seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    }\n    renderNowIndicator(segs) {\n        let { slatCoords, date } = this.props;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map((seg, i) => (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, (rootElRef, classNames, innerElRef, innerContent) => (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)))));\n    }\n    computeSegHStyle(segHCoords) {\n        let { isRtl, options } = this.context;\n        let shouldOverlap = options.slotEventOverlap;\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        let left; // amount of space from left edge, a fraction of the total width\n        let right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        let props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    }\n}\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\n        let instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\n}\n\nclass TimeColsContent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.splitFgEventSegs = memoize(splitSegsByCol);\n        this.splitBgEventSegs = memoize(splitSegsByCol);\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        this.splitEventDrag = memoize(splitInteractionByCol);\n        this.splitEventResize = memoize(splitInteractionByCol);\n        this.rootElRef = createRef();\n        this.cellElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        let colCnt = props.cells.length;\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, (rootElRef, classNames, innerElRef, innerContent) => (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)))))))),\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\n    }\n    componentDidMount() {\n        this.updateCoords();\n    }\n    componentDidUpdate() {\n        this.updateCoords();\n    }\n    updateCoords() {\n        let { props } = this;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    }\n}\nfunction collectCellEls(elMap, cells) {\n    return cells.map((cell) => elMap[cell.key]);\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nclass TimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.processSlotOptions = memoize(processSlotOptions);\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleRootEl = (el) => {\n            if (el) {\n                this.context.registerInteractiveComponent(this, {\n                    el,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n        this.handleScrollRequest = (request) => {\n            let { onScrollTopRequest } = this.props;\n            let { slatCoords } = this.state;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    let top = slatCoords.computeTimeTop(request.time);\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top) {\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top);\n                }\n                return true;\n            }\n            return false;\n        };\n        this.handleColCoords = (colCoords) => {\n            this.colCoords = colCoords;\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n            if (this.props.onSlatCoords) {\n                this.props.onSlatCoords(slatCoords);\n            }\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    }\n    componentDidMount() {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    }\n    componentDidUpdate(prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    }\n    componentWillUnmount() {\n        this.scrollResponder.detach();\n    }\n    queryHit(positionLeft, positionTop) {\n        let { dateEnv, options } = this.context;\n        let { colCoords } = this;\n        let { dateProfile } = this.props;\n        let { slatCoords } = this.state;\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\n        let colIndex = colCoords.leftToIndex(positionLeft);\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            let cell = this.props.cells[colIndex];\n            let slatTop = slatCoords.positions.tops[slatIndex];\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            let dayDate = this.props.cells[colIndex].date;\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            let start = dateEnv.add(dayDate, time);\n            let end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile,\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n}\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    let snapDuration = snapDurationOverride || slotDuration;\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration, snapsPerSlot };\n}\n\nclass DayTimeColsSlicer extends Slicer {\n    sliceRange(range, dayRanges) {\n        let segs = [];\n        for (let col = 0; col < dayRanges.length; col += 1) {\n            let segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col,\n                });\n            }\n        }\n        return segs;\n    }\n}\n\nclass DayTimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.buildDayRanges = memoize(buildDayRanges);\n        this.slicer = new DayTimeColsSlicer();\n        this.timeColsRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { dateProfile, dayTableModel } = props;\n        let isNowIndicator = context.options.nowIndicator;\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\n    }\n}\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    let ranges = [];\n    for (let date of dayTableModel.headerDates) {\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nconst STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    let dayStart = new Date(0);\n    let slatTime = slotMinTime;\n    let slatIterator = createDuration(0);\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    let metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        let date = dateEnv.add(dayStart, slatTime);\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    let i;\n    let labelInterval;\n    let slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nclass DayTimeColsView extends TimeColsView {\n    constructor() {\n        super(...arguments);\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\n        this.buildSlatMetas = memoize(buildSlatMetas);\n    }\n    render() {\n        let { options, dateEnv, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let { dateProfile } = props;\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        let splitProps = this.allDaySplitter.splitProps(props);\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        let { dayMinWidth } = options;\n        let hasAttachedAxis = !dayMinWidth;\n        let hasDetachedAxis = dayMinWidth;\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    }\n}\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nconst OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \"\\n/*\\nA VERTICAL event\\n*/\\n\\n.fc-v-event { /* allowed to be top-level */\\n  display: block;\\n  border: 1px solid #3788d8;\\n  border: 1px solid var(--fc-event-border-color, #3788d8);\\n  background-color: #3788d8;\\n  background-color: var(--fc-event-bg-color, #3788d8)\\n\\n}\\n\\n.fc-v-event .fc-event-main {\\n    color: #fff;\\n    color: var(--fc-event-text-color, #fff);\\n    height: 100%;\\n  }\\n\\n.fc-v-event .fc-event-main-frame {\\n    height: 100%;\\n    display: flex;\\n    flex-direction: column;\\n  }\\n\\n.fc-v-event .fc-event-time {\\n    flex-grow: 0;\\n    flex-shrink: 0;\\n    max-height: 100%;\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event .fc-event-title-container { /* a container for the sticky cushion */\\n    flex-grow: 1;\\n    flex-shrink: 1;\\n    min-height: 0; /* important for allowing to shrink all the way */\\n  }\\n\\n.fc-v-event .fc-event-title { /* will have fc-sticky on it */\\n    top: 0;\\n    bottom: 0;\\n    max-height: 100%; /* clip overflow */\\n    overflow: hidden;\\n  }\\n\\n.fc-v-event:not(.fc-event-start) {\\n    border-top-width: 0;\\n    border-top-left-radius: 0;\\n    border-top-right-radius: 0;\\n  }\\n\\n.fc-v-event:not(.fc-event-end) {\\n    border-bottom-width: 0;\\n    border-bottom-left-radius: 0;\\n    border-bottom-right-radius: 0;\\n  }\\n\\n.fc-v-event.fc-event-selected:before {\\n    /* expand hit area */\\n    left: -10px;\\n    right: -10px;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer (mouse AND touch) */\\n\\n}\\n\\n.fc-v-event .fc-event-resizer-start {\\n    cursor: n-resize;\\n  }\\n\\n.fc-v-event .fc-event-resizer-end {\\n    cursor: s-resize;\\n  }\\n\\n.fc-v-event {\\n\\n  /* resizer for MOUSE */\\n\\n}\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer {\\n      height: 8px;\\n      height: var(--fc-event-resizer-thickness, 8px);\\n      left: 0;\\n      right: 0;\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start {\\n      top: -4px;\\n      top: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n    }\\n\\n.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end {\\n      bottom: -4px;\\n      bottom: calc(var(--fc-event-resizer-thickness, 8px) / -2);\\n    }\\n\\n.fc-v-event {\\n\\n  /* resizer for TOUCH (when event is \\\"selected\\\") */\\n\\n}\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer {\\n      left: 50%;\\n      margin-left: -4px;\\n      margin-left: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-start {\\n      top: -4px;\\n      top: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n\\n.fc-v-event.fc-event-selected .fc-event-resizer-end {\\n      bottom: -4px;\\n      bottom: calc(var(--fc-event-resizer-dot-total-width, 8px) / -2);\\n    }\\n.fc .fc-timegrid .fc-daygrid-body { /* the all-day daygrid within the timegrid view */\\n    z-index: 2; /* put above the timegrid-body so that more-popover is above everything. TODO: better solution */\\n  }\\n.fc .fc-timegrid-divider {\\n    padding: 0 0 2px; /* browsers get confused when you set height. use padding instead */\\n  }\\n.fc .fc-timegrid-body {\\n    position: relative;\\n    z-index: 1; /* scope the z-indexes of slots and cols */\\n    min-height: 100%; /* fill height always, even when slat table doesn't grow */\\n  }\\n.fc .fc-timegrid-axis-chunk { /* for advanced ScrollGrid */\\n    position: relative /* offset parent for now-indicator-container */\\n\\n  }\\n.fc .fc-timegrid-axis-chunk > table {\\n      position: relative;\\n      z-index: 1; /* above the now-indicator-container */\\n    }\\n.fc .fc-timegrid-slots {\\n    position: relative;\\n    z-index: 1;\\n  }\\n.fc .fc-timegrid-slot { /* a <td> */\\n    height: 1.5em;\\n    border-bottom: 0 /* each cell owns its top border */\\n  }\\n.fc .fc-timegrid-slot:empty:before {\\n      content: '\\\\00a0'; /* make sure there's at least an empty space to create height for height syncing */\\n    }\\n.fc .fc-timegrid-slot-minor {\\n    border-top-style: dotted;\\n  }\\n.fc .fc-timegrid-slot-label-cushion {\\n    display: inline-block;\\n    white-space: nowrap;\\n  }\\n.fc .fc-timegrid-slot-label {\\n    vertical-align: middle; /* vertical align the slots */\\n  }\\n.fc {\\n\\n\\n  /* slots AND axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n\\n}\\n.fc .fc-timegrid-axis-cushion,\\n  .fc .fc-timegrid-slot-label-cushion {\\n    padding: 0 4px;\\n  }\\n.fc {\\n\\n\\n  /* axis cells (top-left corner of view including the \\\"all-day\\\" text) */\\n  /* vertical align is more complicated, uses flexbox */\\n\\n}\\n.fc .fc-timegrid-axis-frame-liquid {\\n    height: 100%; /* will need liquid-hack in FF */\\n  }\\n.fc .fc-timegrid-axis-frame {\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center; /* vertical align */\\n    justify-content: flex-end; /* horizontal align. matches text-align below */\\n  }\\n.fc .fc-timegrid-axis-cushion {\\n    max-width: 60px; /* limits the width of the \\\"all-day\\\" text */\\n    flex-shrink: 0; /* allows text to expand how it normally would, regardless of constrained width */\\n  }\\n.fc-direction-ltr .fc-timegrid-slot-label-frame {\\n    text-align: right;\\n  }\\n.fc-direction-rtl .fc-timegrid-slot-label-frame {\\n    text-align: left;\\n  }\\n.fc-liquid-hack .fc-timegrid-axis-frame-liquid {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  }\\n.fc .fc-timegrid-col.fc-day-today {\\n      background-color: rgba(255, 220, 40, 0.15);\\n      background-color: var(--fc-today-bg-color, rgba(255, 220, 40, 0.15));\\n    }\\n.fc .fc-timegrid-col-frame {\\n    min-height: 100%; /* liquid-hack is below */\\n    position: relative;\\n  }\\n.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame {\\n  height: auto;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n    }\\n.fc-media-screen .fc-timegrid-cols {\\n    position: absolute; /* no z-index. children will decide and go above slots */\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    bottom: 0\\n  }\\n.fc-media-screen .fc-timegrid-cols > table {\\n      height: 100%;\\n    }\\n.fc-media-screen .fc-timegrid-col-bg,\\n  .fc-media-screen .fc-timegrid-col-events,\\n  .fc-media-screen .fc-timegrid-now-indicator-container {\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n  }\\n.fc {\\n\\n  /* bg */\\n\\n}\\n.fc .fc-timegrid-col-bg {\\n    z-index: 2; /* TODO: kill */\\n  }\\n.fc .fc-timegrid-col-bg .fc-non-business { z-index: 1 }\\n.fc .fc-timegrid-col-bg .fc-bg-event { z-index: 2 }\\n.fc .fc-timegrid-col-bg .fc-highlight { z-index: 3 }\\n.fc .fc-timegrid-bg-harness {\\n    position: absolute; /* top/bottom will be set by JS */\\n    left: 0;\\n    right: 0;\\n  }\\n.fc {\\n\\n  /* fg events */\\n  /* (the mirror segs are put into a separate container with same classname, */\\n  /* and they must be after the normal seg container to appear at a higher z-index) */\\n\\n}\\n.fc .fc-timegrid-col-events {\\n    z-index: 3;\\n    /* child event segs have z-indexes that are scoped within this div */\\n  }\\n.fc {\\n\\n  /* now indicator */\\n\\n}\\n.fc .fc-timegrid-now-indicator-container {\\n    bottom: 0;\\n    overflow: hidden; /* don't let overflow of lines/arrows cause unnecessary scrolling */\\n    /* z-index is set on the individual elements */\\n  }\\n.fc-direction-ltr .fc-timegrid-col-events {\\n    margin: 0 2.5% 0 2px;\\n  }\\n.fc-direction-rtl .fc-timegrid-col-events {\\n    margin: 0 2px 0 2.5%;\\n  }\\n.fc-timegrid-event-harness {\\n  position: absolute /* top/left/right/bottom will all be set by JS */\\n}\\n.fc-timegrid-event-harness > .fc-timegrid-event {\\n    position: absolute; /* absolute WITHIN the harness */\\n    top: 0; /* for when not yet positioned */\\n    bottom: 0; /* \\\" */\\n    left: 0;\\n    right: 0;\\n  }\\n.fc-timegrid-event-harness-inset .fc-timegrid-event,\\n.fc-timegrid-event.fc-event-mirror,\\n.fc-timegrid-more-link {\\n  box-shadow: 0px 0px 0px 1px #fff;\\n  box-shadow: 0px 0px 0px 1px var(--fc-page-bg-color, #fff);\\n}\\n.fc-timegrid-event,\\n.fc-timegrid-more-link { /* events need to be root */\\n  font-size: .85em;\\n  font-size: var(--fc-small-font-size, .85em);\\n  border-radius: 3px;\\n}\\n.fc-timegrid-event { /* events need to be root */\\n  margin-bottom: 1px /* give some space from bottom */\\n}\\n.fc-timegrid-event .fc-event-main {\\n    padding: 1px 1px 0;\\n  }\\n.fc-timegrid-event .fc-event-time {\\n    white-space: nowrap;\\n    font-size: .85em;\\n    font-size: var(--fc-small-font-size, .85em);\\n    margin-bottom: 1px;\\n  }\\n.fc-timegrid-event-short .fc-event-main-frame {\\n    flex-direction: row;\\n    overflow: hidden;\\n  }\\n.fc-timegrid-event-short .fc-event-time:after {\\n    content: '\\\\00a0-\\\\00a0'; /* dash surrounded by non-breaking spaces */\\n  }\\n.fc-timegrid-event-short .fc-event-title {\\n    font-size: .85em;\\n    font-size: var(--fc-small-font-size, .85em)\\n  }\\n.fc-timegrid-more-link { /* does NOT inherit from fc-timegrid-event */\\n  position: absolute;\\n  z-index: 9999; /* hack */\\n  color: inherit;\\n  color: var(--fc-more-link-text-color, inherit);\\n  background: #d0d0d0;\\n  background: var(--fc-more-link-bg-color, #d0d0d0);\\n  cursor: pointer;\\n  margin-bottom: 1px; /* match space below fc-timegrid-event */\\n}\\n.fc-timegrid-more-link-inner { /* has fc-sticky */\\n  padding: 3px 2px;\\n  top: 0;\\n}\\n.fc-direction-ltr .fc-timegrid-more-link {\\n    right: 0;\\n  }\\n.fc-direction-rtl .fc-timegrid-more-link {\\n    left: 0;\\n  }\\n.fc {\\n\\n  /* line */\\n\\n}\\n.fc .fc-timegrid-now-indicator-line {\\n    position: absolute;\\n    z-index: 4;\\n    left: 0;\\n    right: 0;\\n    border-style: solid;\\n    border-color: red;\\n    border-color: var(--fc-now-indicator-color, red);\\n    border-width: 1px 0 0;\\n  }\\n.fc {\\n\\n  /* arrow */\\n\\n}\\n.fc .fc-timegrid-now-indicator-arrow {\\n    position: absolute;\\n    z-index: 4;\\n    margin-top: -5px; /* vertically center on top coordinate */\\n    border-style: solid;\\n    border-color: red;\\n    border-color: var(--fc-now-indicator-color, red);\\n  }\\n.fc-direction-ltr .fc-timegrid-now-indicator-arrow {\\n    left: 0;\\n\\n    /* triangle pointing right. TODO: mixin */\\n    border-width: 5px 0 5px 6px;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n.fc-direction-rtl .fc-timegrid-now-indicator-arrow {\\n    right: 0;\\n\\n    /* triangle pointing left. TODO: mixin */\\n    border-width: 5px 6px 5px 0;\\n    border-top-color: transparent;\\n    border-bottom-color: transparent;\\n  }\\n\";\nstyleInject(css_248z);\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","/*!\nFullCalendar v6.0.0-beta.1\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nimport { Calendar } from '@fullcalendar/core';\nexport * from '@fullcalendar/common';\n\nclass FullCalendarElement extends HTMLElement {\n    constructor() {\n        super(...arguments);\n        this._calendar = null;\n        this._options = null;\n    }\n    connectedCallback() {\n        this._handleOptionsStr(this.getAttribute('options'));\n    }\n    disconnectedCallback() {\n        this._handleOptionsStr(null);\n    }\n    attributeChangedCallback(name, oldVal, newVal) {\n        if (name === 'options') {\n            this._handleOptionsStr(newVal);\n        }\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this._handleOptions(options);\n    }\n    getApi() {\n        return this._calendar;\n    }\n    _handleOptionsStr(optionsStr) {\n        this._handleOptions(optionsStr ? JSON.parse(optionsStr) : null);\n    }\n    _handleOptions(options) {\n        if (options) {\n            if (this._calendar) {\n                this._calendar.resetOptions(options);\n            }\n            else {\n                this.innerHTML = '<div></div>';\n                let calendarEl = this.querySelector('div');\n                let calendar = new Calendar(calendarEl, options);\n                calendar.render();\n                this._calendar = calendar;\n            }\n            this._options = options;\n        }\n        else {\n            if (this._calendar) {\n                this._calendar.destroy();\n                this._calendar = null;\n            }\n            this._options = null;\n        }\n    }\n}\n\nfunction defineFullCalendarElement(tagName = 'full-calendar') {\n    customElements.define(tagName, FullCalendarElement);\n}\n\nexport { FullCalendarElement, defineFullCalendarElement };\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function w(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(E.prototype=new n).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var R=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),R&&R(n)};var x=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function N(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=x,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var k=function(n,t){return null==n?null:r(r(n).map(t))},A={map:k,forEach:k,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},O=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);O(n,t,e,r)};var T=e.unmount;function I(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return I(n,t,e)})),n}function L(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function U(){this.__u=0,this.t=null,this.__b=null}function D(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function F(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function M(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),T&&T(n)},(U.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=D(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=L(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},U.prototype.componentWillUnmount=function(){this.t=[]},U.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=I(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var V=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function W(n){return this.getChildContext=function(){return n.context},n.children}function P(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(W,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function $(n,e){var r=t(P,{__v:n,i:e});return r.containerInfo=e,r}(M.prototype=new n).__a=function(n){var t=this,e=D(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),V(t,n,r)):u()};e?e(o):o()}},M.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},M.prototype.componentDidUpdate=M.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){V(n,e,t)})};var j=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,z=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,B=\"undefined\"!=typeof document,H=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Z(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function Y(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var q=e.event;function G(){}function J(){return this.cancelBubble}function K(){return this.defaultPrevented}e.event=function(n){return q&&(n=q(n)),n.persist=G,n.isPropagationStopped=J,n.isDefaultPrevented=K,n.nativeEvent=n};var Q,X={configurable:!0,get:function(){return this.class}},nn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];B&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!H(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&z.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(X.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",X))}n.$$typeof=j,nn&&nn(n)};var tn=e.__r;e.__r=function(n){tn&&tn(n),Q=n.__c};var en={ReactCurrentDispatcher:{current:{readContext:function(n){return Q.__n[n.__c].props.value}}}},rn=\"17.0.2\";function un(n){return t.bind(null,n)}function on(n){return!!n&&n.$$typeof===j}function ln(n){return on(n)?f.apply(null,arguments):n}function cn(n){return!!n.__k&&(o(null,n),!0)}function fn(n){return n&&(n.base||1===n.nodeType&&n)||null}var an=function(n,t){return n(t)},sn=function(n,t){return n(t)},hn=u;function vn(n){n()}function dn(n){return n}function pn(){return[!1,vn]}var mn=d;function yn(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,u.__!==t()&&o({h:u})},[n,e,t]),v(function(){return u.__!==u.v()&&o({h:u}),n(function(){u.__!==u.v()&&o({h:u})})},[n]),e}var _n={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:mn,useTransition:pn,useDeferredValue:dn,useSyncExternalStore:yn,startTransition:vn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:A,render:Z,hydrate:Y,unmountComponentAtNode:cn,createPortal:$,createElement:t,createContext:l,createFactory:un,cloneElement:ln,createRef:c,Fragment:u,isValidElement:on,findDOMNode:fn,Component:n,PureComponent:E,memo:w,forwardRef:N,flushSync:sn,unstable_batchedUpdates:an,StrictMode:hn,Suspense:U,SuspenseList:M,lazy:F,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:en};export{A as Children,E as PureComponent,hn as StrictMode,U as Suspense,M as SuspenseList,en as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ln as cloneElement,un as createFactory,$ as createPortal,_n as default,fn as findDOMNode,sn as flushSync,N as forwardRef,Y as hydrate,on as isValidElement,F as lazy,w as memo,Z as render,vn as startTransition,cn as unmountComponentAtNode,an as unstable_batchedUpdates,dn as useDeferredValue,mn as useInsertionEffect,yn as useSyncExternalStore,pn as useTransition,rn as version};\n","var n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(l,u,i){var t,o,r,f={};for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return v(l,f,t,o,null)}function v(n,i,t,o,r){var f={type:n,props:i,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++u:r};return null==r&&null!=l.vnode&&l.vnode(f),f}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?_(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function b(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!g.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||setTimeout)(g)}function g(){for(var n;g.__r=t.length;)n=t.sort(function(n,l){return n.__v.__b-l.__v.__b}),t=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=s({},t)).__v=t.__v+1,j(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?_(t):o,t.__h),z(u,t),t.__e!=o&&k(t)))})}function w(n,l,u,i,t,o,r,c,s,a){var h,y,d,k,b,g,w,x=i&&i.__k||e,C=x.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,k.ref?k.ref:null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(d=x[h])||d&&k.key==d.key&&k.type===d.type)x[h]=void 0;else for(y=0;y<C;y++){if((d=x[y])&&k.key==d.key&&k.type===d.type){x[y]=void 0;break}d=null}j(n,k,d=d||f,t,o,r,c,s,a),b=k.__e,(y=k.ref)&&d.ref!=y&&(w||(w=[]),d.ref&&w.push(d.ref,null,k),w.push(y,k.__c||b,k)),null!=b?(null==g&&(g=b),\"function\"==typeof k.type&&k.__k===d.__k?k.__d=s=m(k,s,n):s=A(n,k,d,x,b,s),\"function\"==typeof u.type&&(u.__d=s)):s&&d.__e==s&&s.parentNode!=n&&(s=_(d))}for(u.__e=g,h=C;h--;)null!=x[h]&&N(x[h],x[h]);if(w)for(h=0;h<w.length;h++)M(w[h],w[++h],w[++h])}function m(n,l,u){for(var i,t=n.__k,o=0;t&&o<t.length;o++)(i=t[o])&&(i.__=n,l=\"function\"==typeof i.type?m(i,l,u):A(u,i,i,t,i.__e,l));return l}function x(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){x(n,l)}):l.push(n)),l}function A(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function C(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||H(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||H(n,o,l[o],u[o],i)}function $(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||c.test(l)?u:u+\"px\"}function H(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||$(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||$(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?T:I,o):n.removeEventListener(l,o?T:I,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function I(n){this.l[n.type+!1](l.event?l.event(n):n)}function T(n){this.l[n.type+!0](l.event?l.event(n):n)}function j(n,u,i,t,o,r,f,e,c){var a,h,v,y,_,k,b,g,m,x,A,C,$,H,I,T=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=l.__b)&&a(u);try{n:if(\"function\"==typeof T){if(g=u.props,m=(a=T.contextType)&&t[a.__c],x=a?m?m.props.value:a.__:t,i.__c?b=(h=u.__c=i.__c).__=h.__E:(\"prototype\"in T&&T.prototype.render?u.__c=h=new T(g,x):(u.__c=h=new d(g,x),h.constructor=T,h.render=O),m&&m.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[],h._sb=[]),null==h.__s&&(h.__s=h.state),null!=T.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,T.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==T.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==T.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){for(h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),A=0;A<h._sb.length;A++)h.__h.push(h._sb[A]);h._sb=[],h.__h.length&&f.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,k)})}if(h.context=x,h.props=g,h.__v=u,h.__P=n,C=l.__r,$=0,\"prototype\"in T&&T.prototype.render){for(h.state=h.__s,h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,C&&C(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++$<25);h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(k=h.getSnapshotBeforeUpdate(y,_)),I=null!=a&&a.type===p&&null==a.key?a.props.children:a,w(n,Array.isArray(I)?I:[I],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),b&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=L(i.__e,u,i,t,o,r,f,c);(a=l.diffed)&&a(u)}catch(n){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),l.__e(n,u,i)}}function z(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function L(l,u,i,t,o,r,e,c){var s,h,v,y=i.props,p=u.props,d=u.type,k=0;if(\"svg\"===d&&(o=!0),null!=r)for(;k<r.length;k++)if((s=r[k])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,r[k]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),r=null,c=!1}if(null===d)y===p||c&&l.data===p||(l.data=p);else{if(r=r&&n.call(l.childNodes),h=(y=i.props||f).dangerouslySetInnerHTML,v=p.dangerouslySetInnerHTML,!c){if(null!=r)for(y={},k=0;k<l.attributes.length;k++)y[l.attributes[k].name]=l.attributes[k].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===l.innerHTML)||(l.innerHTML=v&&v.__html||\"\"))}if(C(l,p,y,o,c),v)u.__k=[];else if(k=u.props.children,w(l,Array.isArray(k)?k:[k],u,i,t,o&&\"foreignObject\"!==d,r,e,r?r[0]:i.__k&&_(i,0),c),null!=r)for(k=r.length;k--;)null!=r[k]&&a(r[k]);c||(\"value\"in p&&void 0!==(k=p.value)&&(k!==l.value||\"progress\"===d&&!k||\"option\"===d&&k!==y.value)&&H(l,\"value\",k,y.value,!1),\"checked\"in p&&void 0!==(k=p.checked)&&k!==l.checked&&H(l,\"checked\",k,y.checked,!1))}return l}function M(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function N(n,u,i){var t,o;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||M(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(o=0;o<t.length;o++)t[o]&&N(t[o],u,i||\"function\"!=typeof n.type);i||null==n.__e||a(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function P(u,i,t){var o,r,e;l.__&&l.__(u,i),r=(o=\"function\"==typeof t)?null:t&&t.__k||i.__k,e=[],j(i,u=(!o&&t||i).__k=h(p,null,[u]),r||f,f,void 0!==i.ownerSVGElement,!o&&t?[t]:r?null:i.firstChild?n.call(i.childNodes):null,e,!o&&t?t:r?r.__e:i.firstChild,o),z(e,u)}function S(n,l){P(n,l,S)}function q(l,u,i){var t,o,r,f=s({},l.props);for(r in u)\"key\"==r?t=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),v(l.type,f,t||l.key,o||l.ref,null)}function B(n,l){var u={__c:l=\"__cC\"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(b)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=e.slice,l={__e:function(n,l,u,i){for(var t,o,r;l=l.__;)if((t=l.__c)&&!t.__)try{if((o=t.constructor)&&null!=o.getDerivedStateFromError&&(t.setState(o.getDerivedStateFromError(n)),r=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),r=t.__d),r)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),b(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),b(this))},d.prototype.render=p,t=[],g.__r=0,r=0;export{d as Component,p as Fragment,q as cloneElement,B as createContext,h as createElement,y as createRef,h,S as hydrate,i as isValidElement,l as options,P as render,x as toChildArray};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);return n.__||(n.__=\"P\"+function(n){for(var t=0,r=n.length;r>0;)t=(t<<5)-t+n.charCodeAt(--r)|0;return t}(r.__v.__m)+t),n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){\"function\"!=typeof n.type||n.__m||null===n.__?n.__m||(n.__m=n.__&&n.__.__m?n.__.__m:\"\"):n.__m=(n.__&&n.__.__m?n.__.__m:\"\")+(n.__&&n.__.__k?n.__.__k.indexOf(n):0),r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n"],"names":["__assign","createContext","Component","createRef","createElement","Fragment","createPortal","styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","css_248z","EventSourceApi","constructor","context","internalEventSource","remove","dispatch","sourceId","refetch","sourceIds","isRefetch","id","publicId","url","meta","format","removeElement","el","parentNode","removeChild","elementClosest","selector","closest","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","call","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","push","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","val","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","getElRoot","getRootNode","guid$1","getUniqueDomId","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","createAriaClickAttrs","Object","assign","onClick","createAriaKeyboardAttrs","tabIndex","onKeyDown","key","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","input","specs","tokens","token","split","Array","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","formatWithOrdinals","formatter","args","fallbackText","reduce","str","arg","index","replace","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCMilliseconds","concat","UTC","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","hasOwnProperty","prototype","mergeProps","propObjs","complexPropsMap","dest","complexObjs","unshift","undefined","filterHash","hash","filtered","mapHash","newHash","arrayToHash","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","keys","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","options","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","start","end","eventDef","typeDef","markers","expand","subtract","map","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","apply","memoizeObjArg","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","weekTextLong","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isMaybeObjectsEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","title","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","memberAdder","eventDefMemberAdders","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRange","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","emitter","hasHandlers","trigger","event","EventApi","jsEvent","view","viewApi","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","origEvent","calendarApi","triggerDateUnselect","transform","dateSpanTransforms","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","applier","eventDefMutationAppliers","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","calendar","viewTitle","activeStart","dateProfile","activeRange","activeEnd","currentStart","currentRange","currentEnd","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","footer","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","relevantEvents","oldEvent","asStore","source","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","code","list","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","slice","merged","NumberFormat","dateInput","buildDateEnv$1","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","innerHTML","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","getKeysForEventDef","splitStores","splitHashes","interaction","splitStates","affectedStores","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParent","intersection","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","arguments","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","safeSetState","newState","setState","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","current","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","render","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","destroy","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","JSON","stringify","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","hint","textFallback","prevOrNext","navUnit","eventSourceDef$2","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputFound","unfoundSource","newInput","handleDateProfile","handleEventStore","globalPlugins","html","buildHtmlRenderer","domNodes","buildDomNodeRenderer","currentEl","currentHtml","currentDomNodes","newDomNodes","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","refinedOptions","availableLocaleData","processRawCalendarOptions","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","groupIntersectingEntries","merges","filteredMerges","hungryMerge","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widget","titleId","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","disabled","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","labeledById","EventClicking","handleSegClick","segEl","hasUrlContainer","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listeners","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraHookProps","role","colSpan","extraDataAttrs","isSticky","WEEKDAY_FORMAT","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","eventRanges","sliceEventRange","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","colProps","sanitizeShrinkWidth","hasShrinkWidth","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","popoverId","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","version","parseMarker","FullCalendarVDom","flushSync","unmountComponentAtNode","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","setClassNames","setHeight","wasRendering","pauseRendering","resumeRendering","preact","preactCompat","globalObj","globalThis","runBeforeFlush","oldDebounceRendering","debounceRendering","callbackQ","execCallbackSync","FakeComponent","defaultValue","ContextType","origProvider","isNew","getChildContext","subs","_props","forceUpdate","old","node","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","dayNumberId","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","invisibleSegs","singlePlacements","isForcedInvisible","visibility","isExpanded","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","absoluteTop","resliceSeg","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","multiPlacements","isFirstCol","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","placeholderEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","leftRightCss","isExternalSizingChange","frameEls","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","placements","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","main","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","DayGridView","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","getAttribute","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","Draggable","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","minHeight","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","newThickness","processNode","stackDepth","stackForward","processNodes","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","computeFgSegPlacements","segVCoords","dumbSegs","segRect","dumbSeg","DEFAULT_TIME_FORMAT","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","segEntry","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","dayDate","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGrid","timeGridDay","timeGridWeek","FullCalendarElement","_calendar","_options","connectedCallback","_handleOptionsStr","disconnectedCallback","attributeChangedCallback","oldVal","newVal","_handleOptions","getApi","optionsStr","calendarEl","defineFullCalendarElement","customElements","define","t","e","toChildArray","r","u","o","hydrate","l","cloneElement","f","useState","useId","useReducer","h","useEffect","v","useLayoutEffect","useRef","p","useImperativeHandle","useMemo","useCallback","_","useContext","useDebugValue","S","g","C","E","displayName","isReactComponent","__f","isPureReactComponent","R","__b","Symbol","for","N","$$typeof","k","A","count","only","toArray","O","__e","__","__c","__k","T","unmount","I","__H","__P","L","__v","__d","U","__u","D","__a","F","default","M","__R","__h","__O","pop","V","delete","revealOrder","size","W","P","$","containerInfo","get","Map","set","z","B","H","Z","textContent","Y","defineProperty","configurable","writable","q","G","J","cancelBubble","K","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","Q","X","class","nn","vnode","toLowerCase","multiple","selected","enumerable","tn","__r","ReactCurrentDispatcher","readContext","__n","rn","un","ln","cn","fn","base","an","sn","hn","vn","dn","pn","mn","yn","_n","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","Children","createFactory","isValidElement","findDOMNode","memo","forwardRef","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","some","ownerSVGElement","nextSibling","setProperty","removeAttribute","setAttribute","__E","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","diffed","localName","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","checked","getDerivedStateFromError","componentDidCatch","__V","__N","every","charCodeAt","__m","cancelAnimationFrame","useErrorBoundary"],"sourceRoot":"webpack:///","x_google_ignoreList":[3,4,5,6,7,8,9,10,11,12,13]}